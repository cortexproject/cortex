<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.101.0"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Configuration file | Cortex</title><meta name=description content="
Cortex can be configured using a YAML file - specified using the -config.file flag - or CLI flags. In case you combine both, CLI flags take …</!-->"><meta property="og:title" content="Configuration file"><meta property="og:description" content="Cortex can be configured using a YAML file - specified using the -config.file flag - or CLI flags. In case you combine both, CLI flags take precedence over the YAML config file.
The current configuration of any Cortex component can be seen by visiting the /config HTTP path. Passwords are filtered out of this endpoint.
Reference To specify which configuration file to load, pass the -config.file flag at the command line."><meta property="og:type" content="article"><meta property="og:url" content="/docs/configuration/configuration-file/"><meta property="og:image" content="/images/logo-twitter-card.jpg"><meta property="article:section" content="docs"><meta property="og:site_name" content="Cortex"><meta itemprop=name content="Configuration file"><meta itemprop=description content="Cortex can be configured using a YAML file - specified using the -config.file flag - or CLI flags. In case you combine both, CLI flags take precedence over the YAML config file.
The current configuration of any Cortex component can be seen by visiting the /config HTTP path. Passwords are filtered out of this endpoint.
Reference To specify which configuration file to load, pass the -config.file flag at the command line."><meta itemprop=wordCount content="36142"><meta itemprop=image content="/images/logo-twitter-card.jpg"><meta itemprop=keywords content><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/images/logo-twitter-card.jpg"><meta name=twitter:title content="Configuration file"><meta name=twitter:description content="Cortex can be configured using a YAML file - specified using the -config.file flag - or CLI flags. In case you combine both, CLI flags take precedence over the YAML config file.
The current configuration of any Cortex component can be seen by visiting the /config HTTP path. Passwords are filtered out of this endpoint.
Reference To specify which configuration file to load, pass the -config.file flag at the command line."><link rel=preload href=/scss/main.min.5eaade7cd2a503d4fabeefa845c4a82ed6faa89fe4c763572d9fbdd72b72312d.css as=style><link href=/scss/main.min.5eaade7cd2a503d4fabeefa845c4a82ed6faa89fe4c763572d9fbdd72b72312d.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SRR0DSREGX"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-SRR0DSREGX",{anonymize_ip:!1})}</script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar navbar-nocover"><a id=cortex-logo class=navbar-brand href=/><span class=navbar-logo><svg xmlns="http://www.w3.org/2000/svg" role="img" viewBox="-17.92 -14.92 1191.84 462.84"><defs><style>.cls-1{fill:#fff}</style></defs><path d="M214.531 8.017C99.353 8.017 5.65 101.72 5.65 216.899S99.353 425.78 214.531 425.78s208.882-93.704 208.882-208.882S329.71 8.017 214.531 8.017zm0 408.558c-110.102.0-199.676-89.574-199.676-199.676S104.429 17.222 214.53 17.222 414.208 106.797 414.208 216.9 324.633 416.575 214.53 416.575z" class="cls-1"/><circle cx="327.452" cy="221.633" r="34.571" class="cls-1"/><circle cx="213.713" cy="353.584" r="34.571" class="cls-1"/><path d="M299.992 167.913l-59-56.05a34.578 34.578.0 10-4.343 4.34l57.828 54.937a60.158 60.158.0 00-27.168 49.123h-12.97l-23.456-67.02-26.055 64.718H175.73l-24.724 57.22-21.808-54.524-.063.025v-.586h-22.048a34.582 34.582.0 10-.275 6.138h18.005l25.97 64.925 28.977-67.06h29.207l21.51-53.424 19.503 55.725H267.5a60.173 60.173.0 0025.202 44.11l-56.52 56.52 4.34 4.338 57.492-57.492a60.155 60.155.0 101.977-105.963zm81.481 53.515a54.02 54.02.0 11-54.022-54.02 54.083 54.083.0 0154.022 54.02zm175.707 42.568q-8.797 8.178-24.405 8.177a34.858 34.858.0 01-17.095-3.965 33.188 33.188.0 01-11.643-10.529 46.374 46.374.0 01-6.566-14.99 71.134 71.134.0 01-2.105-17.341 86.99 86.99.0 011.982-18.706 46.804 46.804.0 016.565-15.98 34.028 34.028.0 0112.263-11.149q7.675-4.21 19.077-4.212 13.38.0 21.306 6.69 7.927 6.689 10.405 18.829h21.803a50.76 50.76.0 00-5.946-19.696 44.06 44.06.0 00-12.015-13.75 49.842 49.842.0 00-16.848-8.051 77.44 77.44.0 00-20.44-2.601q-15.114.0-26.509 5.326a52.935 52.935.0 00-18.952 14.617 62.165 62.165.0 00-11.273 21.8 94.013 94.013.0 00-3.717 26.883 86.195 86.195.0 003.84 26.386 57.783 57.783.0 0011.397 20.686 50.138 50.138.0 0018.829 13.38 66.766 66.766.0 0025.891 4.705q24.527.0 38.772-12.882 14.245-12.878 17.715-36.668h-21.556q-1.986 14.867-10.776 23.041zm157.44-87.828a56.338 56.338.0 00-19.447-14.244q-11.52-5.203-26.882-5.203-15.115.0-26.756 5.203a56.009 56.009.0 00-19.573 14.244 59.75 59.75.0 00-11.892 21.307 85.299 85.299.0 00-3.965 26.386 84.117 84.117.0 003.965 26.262 59.853 59.853.0 0011.892 21.183 54.61 54.61.0 0019.573 14.12q11.643 5.077 26.756 5.08 15.36.0 26.882-5.08a54.908 54.908.0 0019.447-14.12 59.95 59.95.0 0011.892-21.183 84.181 84.181.0 003.965-26.262 85.364 85.364.0 00-3.965-26.386 59.846 59.846.0 00-11.892-21.307zm-9.538 68.38a43.305 43.305.0 01-8.548 15.113 37.061 37.061.0 01-12.759 9.29 38.825 38.825.0 01-30.968.0 37.003 37.003.0 01-12.76-9.29 43.209 43.209.0 01-8.547-15.114 70.669 70.669.0 010-41.373 44.634 44.634.0 018.547-15.237 36.428 36.428.0 0112.76-9.415 38.826 38.826.0 0130.968.0 36.484 36.484.0 0112.76 9.415 44.735 44.735.0 018.547 15.237 70.624 70.624.0 010 41.373zm81.141-80.89q-11.147 7.434-18.83 23.041h-.493v-27.005h-19.82V287.78h21.057v-56.984a87.528 87.528.0 012.478-21.924 41.993 41.993.0 017.93-16.228 33.951 33.951.0 0114.368-10.158q8.919-3.468 21.555-3.468V156.72q-17.097-.493-28.245 6.937zm80.761-42.366h-21.06v38.402h-21.8v18.581h21.8v81.51a48.668 48.668.0 001.734 14.37 17.432 17.432.0 005.326 8.423 20.57 20.57.0 009.415 4.088 75.59 75.59.0 0013.999 1.115h16.104v-18.582h-9.664a70.335 70.335.0 01-8.05-.37 10.361 10.361.0 01-4.833-1.611 6.108 6.108.0 01-2.354-3.469 23.006 23.006.0 01-.617-5.946v-79.528h25.518v-18.581h-25.518zm148.522 60.452a56.135 56.135.0 00-18.085-17.962q-11.276-7.063-28.367-7.06a58.263 58.263.0 00-24.155 4.953A56.796 56.796.0 00925.82 175.55a63.949 63.949.0 00-12.51 21.058 77.064 77.064.0 00-4.461 26.758 102.521 102.521.0 004.338 27.004 58.87 58.87.0 0011.519 21.307 52.43 52.43.0 0018.953 13.873q11.272 4.954 26.632 4.955 21.8.0 36.173-10.901 14.364-10.898 18.58-32.455h-20.81q-2.73 12.635-11.272 18.829-8.549 6.198-21.927 6.195a43.577 43.577.0 01-18.085-3.468 35.417 35.417.0 01-12.636-9.291 36.127 36.127.0 01-7.184-13.38 50.746 50.746.0 01-1.981-15.98h95.879a102.07 102.07.0 00-2.107-24.526 71.064 71.064.0 00-9.415-23.784zm-84.357 29.73a43.81 43.81.0 013.219-13.999 37.354 37.354.0 017.433-11.52 34.013 34.013.0 0111.272-7.803 36.694 36.694.0 0114.74-2.85 36.062 36.062.0 0114.494 2.85 36.492 36.492.0 0111.398 7.68 36.107 36.107.0 017.68 11.52 43.253 43.253.0 013.345 14.122zm170.95 7.184 44.1-58.964h-25.271l-31.961 44.843-30.721-44.843h-27.006l44.595 60.698-48.063 67.389h25.518l35.677-53.019 35.676 53.019h27.006l-49.55-69.123z" class="cls-1"/></svg></span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/docs/><span class=active>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/blog/><span>Blog</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a href=https://twitter.com/cortexmetrics class="nav-link active"><span class=active><i class="fab fa-fw fa-twitter"></i> Twitter</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a href=https://github.com/cortexproject class="nav-link active"><span class=active><i class="fab fa-fw fa-github"></i> GitHub</span></a></li></ul></div><div class="navbar-nav d-none d-md-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.370c5032355821f97385511f2d8ef4ce.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.370c5032355821f97385511f2d8ef4ce.json data-offline-search-base-href=/ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs-li><a href=/docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs><span>Documentation</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsgetting-started-li><a href=/docs/getting-started/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsgetting-started><span>Getting Started</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsarchitecture-li><a href=/docs/architecture/ title="Cortex Architecture" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsarchitecture><span>Architecture</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsblocks-storage-li><a href=/docs/blocks-storage/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsblocks-storage><span>Blocks Storage</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsblocks-storagequerier-li><a href=/docs/blocks-storage/querier/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsblocks-storagequerier><span>Querier</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsblocks-storagestore-gateway-li><a href=/docs/blocks-storage/store-gateway/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsblocks-storagestore-gateway><span>Store-gateway</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsblocks-storagecompactor-li><a href=/docs/blocks-storage/compactor/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsblocks-storagecompactor><span>Compactor</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsblocks-storageproduction-tips-li><a href=/docs/blocks-storage/production-tips/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsblocks-storageproduction-tips><span>Production tips</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsblocks-storagebinary-index-header-li><a href=/docs/blocks-storage/binary-index-header/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsblocks-storagebinary-index-header><span>Binary index-header</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsblocks-storagebucket-index-li><a href=/docs/blocks-storage/bucket-index/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsblocks-storagebucket-index><span>Bucket Index</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsblocks-storagemigrate-cortex-cluster-from-chunks-to-blocks-li><a href=/docs/blocks-storage/migrate-cortex-cluster-from-chunks-to-blocks/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsblocks-storagemigrate-cortex-cluster-from-chunks-to-blocks><span>Migrate Cortex cluster from chunks to blocks</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsblocks-storageconvert-long-term-storage-from-chunks-to-blocks-li><a href=/docs/blocks-storage/convert-long-term-storage-from-chunks-to-blocks/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsblocks-storageconvert-long-term-storage-from-chunks-to-blocks><span>Convert long-term storage from chunks to blocks</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsblocks-storagemigrate-storage-from-thanos-and-prometheus-li><a href=/docs/blocks-storage/migrate-storage-from-thanos-and-prometheus/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsblocks-storagemigrate-storage-from-thanos-and-prometheus><span>Migrate the storage from Thanos and Prometheus</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsblocks-storagelearn-more-li><a href=/docs/blocks-storage/learn-more/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsblocks-storagelearn-more><span>Learn more</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docsconfiguration-li><a href=/docs/configuration/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsconfiguration><span>Configuration</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-docsconfigurationconfiguration-file-li><a href=/docs/configuration/configuration-file/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-docsconfigurationconfiguration-file><span class=td-sidebar-nav-active-item>Configuration file</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconfigurationarguments-li><a href=/docs/configuration/arguments/ title="Cortex Arguments" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsconfigurationarguments><span>Cortex Arguments Explained</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconfigurationprometheus-frontend-li><a href=/docs/configuration/prometheus-frontend/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsconfigurationprometheus-frontend><span>Prometheus Frontend</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconfigurationv1guarantees-li><a href=/docs/configuration/v1guarantees/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsconfigurationv1guarantees><span>v1.x Guarantees</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsguides-li><a href=/docs/guides/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsguides><span>Guides</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesrunning-cortex-on-kubernetes-li><a href=/docs/guides/running-cortex-on-kubernetes/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsguidesrunning-cortex-on-kubernetes><span>Running Cortex on Kubernetes</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesgetting-started-with-gossiped-ring-li><a href=/docs/guides/getting-started-with-gossiped-ring/ title="Getting started with gossiped ring" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsguidesgetting-started-with-gossiped-ring><span>Getting started with a gossip ring cluster</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesalertmanager-configuration-li><a href=/docs/guides/alertmanager-configuration/ title="Configuring Notification using Cortex Alertmanager" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsguidesalertmanager-configuration><span>Alertmanager configuration</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesauth-li><a href=/docs/guides/auth/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsguidesauth><span>Authentication and Authorisation</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidescapacity-planning-li><a href=/docs/guides/capacity-planning/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsguidescapacity-planning><span>Capacity Planning</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesruler-sharding-li><a href=/docs/guides/ruler-sharding/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsguidesruler-sharding><span>Config for horizontally scaling the Ruler</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesha-pair-handling-li><a href=/docs/guides/ha-pair-handling/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsguidesha-pair-handling><span>Config for sending HA Pairs data to Cortex</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesencryption-at-rest-li><a href=/docs/guides/encryption-at-rest/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsguidesencryption-at-rest><span>Encryption at Rest</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesingesters-rolling-updates-li><a href=/docs/guides/ingesters-rolling-updates/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsguidesingesters-rolling-updates><span>Ingesters rolling updates</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesingesters-scaling-up-and-down-li><a href=/docs/guides/ingesters-scaling-up-and-down/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsguidesingesters-scaling-up-and-down><span>Ingesters scaling up and down</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesnative-histograms-li><a href=/docs/guides/native-histograms/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsguidesnative-histograms><span>Native Histograms</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesoverrides-exporter-li><a href=/docs/guides/overrides-exporter/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsguidesoverrides-exporter><span>Overrides Exporter</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidespartition-compaction-li><a href=/docs/guides/partition-compaction/ title="Use Partition Compaction in Cortex" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsguidespartition-compaction><span>Partition Compaction</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesrule-evalutions-via-query-frontend-li><a href=/docs/guides/rule-evalutions-via-query-frontend/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsguidesrule-evalutions-via-query-frontend><span>Rule evaluations via query frontend</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidestls-li><a href=/docs/guides/tls/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsguidestls><span>Securing communication between Cortex components with TLS</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidessecurity-li><a href=/docs/guides/security/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsguidessecurity><span>Security</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesshuffle-sharding-li><a href=/docs/guides/shuffle-sharding/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsguidesshuffle-sharding><span>Shuffle Sharding</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidestracing-li><a href=/docs/guides/tracing/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsguidestracing><span>Tracing</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesuse-opentelemetry-collector-to-send-metrics-to-cortex-li><a href=/docs/guides/use-opentelemetry-collector-to-send-metrics-to-cortex/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsguidesuse-opentelemetry-collector-to-send-metrics-to-cortex><span>Use OpenTelemetry Collector to send metrics to Cortex</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguideszone-aware-replication-li><a href=/docs/guides/zone-aware-replication/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsguideszone-aware-replication><span>Zone Aware Replication</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesparquet-mode-li><a href=/docs/guides/parquet-mode/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsguidesparquet-mode><span>Parquet Mode</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesprotecting-cortex-from-heavy-queries-li><a href=/docs/guides/protecting-cortex-from-heavy-queries/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsguidesprotecting-cortex-from-heavy-queries><span>Protecting Cortex from Heavy Queries</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguideslimitations-li><a href=/docs/guides/limitations/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsguideslimitations><span>Limitations</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsguidesglossary-li><a href=/docs/guides/glossary/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsguidesglossary><span>Glossary</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsapi-li><a href=/docs/api/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsapi><span>HTTP API</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsoperations-li><a href=/docs/operations/ title="Operating Cortex" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsoperations><span>Operations</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsoperationsquery-auditor-li><a href=/docs/operations/query-auditor/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsoperationsquery-auditor><span>Query Auditor (tool)</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsoperationsquery-tee-li><a href=/docs/operations/query-tee/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsoperationsquery-tee><span>Query Tee (service)</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsoperationsrequests-mirroring-to-secondary-cluster-li><a href=/docs/operations/requests-mirroring-to-secondary-cluster/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsoperationsrequests-mirroring-to-secondary-cluster><span>Requests mirroring to secondary cluster</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsoperationsscaling-query-frontend-li><a href=/docs/operations/scaling-query-frontend/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsoperationsscaling-query-frontend><span>Scaling the Query Frontend</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docscase-studies-li><a href=/docs/case-studies/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docscase-studies><span>Case Studies</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscase-studiesgojek-li><a href=/docs/case-studies/gojek/ title="How Gojek Is Leveraging Cortex to Keep Up with Its Ever-Growing Scale" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscase-studiesgojek><span>Gojek</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscase-studiesrewe-digital-li><a href=/docs/case-studies/rewe-digital/ title="How Cortex helped REWE digital ensure stability while scaling services during the Covid-19 pandemic" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscase-studiesrewe-digital><span>REWE digital</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscase-studiesbuoyant-cloud-li><a href=/docs/case-studies/buoyant-cloud/ title="Buoyant Cloud and Cortex: Standing on the shoulders of Linkerd and Prometheus" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscase-studiesbuoyant-cloud><span>Buoyant Cloud</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsproposals-li><a href=/docs/proposals/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsproposals><span>Proposals</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsproposalsauth-gateway-li><a href=/docs/proposals/auth-gateway/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsproposalsauth-gateway><span>Authentication Gateway</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsproposalsblocks-storage-bucket-index-li><a href=/docs/proposals/blocks-storage-bucket-index/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsproposalsblocks-storage-bucket-index><span>Blocks storage bucket index</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsproposalsblocks-storage-sharding-li><a href=/docs/proposals/blocks-storage-sharding/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsproposalsblocks-storage-sharding><span>Blocks storage sharding</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsproposalscross-tenant-query-federation-li><a href=/docs/proposals/cross-tenant-query-federation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsproposalscross-tenant-query-federation><span>Cross-Tenant Query Federation</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsproposalstenant-deletion-li><a href=/docs/proposals/tenant-deletion/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsproposalstenant-deletion><span>Deletion of Tenant Data from Blocks Storage</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsproposalsdistributed-query-execution-li><a href=/docs/proposals/distributed-query-execution/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsproposalsdistributed-query-execution><span>Distributed Query Execution</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsproposalsdocumentation-versioning-li><a href=/docs/proposals/documentation-versioning/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsproposalsdocumentation-versioning><span>Documentation Versioning</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsproposalsgeneralize-modules-li><a href=/docs/proposals/generalize-modules/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsproposalsgeneralize-modules><span>Generalize Modules Service to make it extensible</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsproposalshttp-api-design-li><a href=/docs/proposals/http-api-design/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsproposalshttp-api-design><span>HTTP API Design</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsproposalsingesters-migration-li><a href=/docs/proposals/ingesters-migration/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsproposalsingesters-migration><span>Migrating ingesters from chunks to blocks and back.</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsproposalsparallel-compaction-li><a href=/docs/proposals/parallel-compaction/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsproposalsparallel-compaction><span>Parallel Compaction by Time Interval</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsproposalsparquet-storage-li><a href=/docs/proposals/parquet-storage/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsproposalsparquet-storage><span>Parquet-based Storage</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsproposalspartition-ring-multi-az-replication-li><a href=/docs/proposals/partition-ring-multi-az-replication/ title="Partition Ring with Multi-AZ Replication" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsproposalspartition-ring-multi-az-replication><span>Partition Ring Multi-AZ Replication</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsproposalstenant-retention-li><a href=/docs/proposals/tenant-retention/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsproposalstenant-retention><span>Retention of Tenant Data from Blocks Storage</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsproposalsring-multikey-li><a href=/docs/proposals/ring-multikey/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsproposalsring-multikey><span>Ring Multikey</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsproposalsruler-ha-li><a href=/docs/proposals/ruler-ha/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsproposalsruler-ha><span>Ruler HA</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsproposalsruler-high-availability-li><a href=/docs/proposals/ruler-high-availability/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsproposalsruler-high-availability><span>Ruler High Availability</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsproposalsruler-tenant-federation-li><a href=/docs/proposals/ruler-tenant-federation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsproposalsruler-tenant-federation><span>Ruler Tenant Federation</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsproposalsscalable-alertmanager-li><a href=/docs/proposals/scalable-alertmanager/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsproposalsscalable-alertmanager><span>Scalable Alertmanager</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsproposalsscalable-query-frontend-li><a href=/docs/proposals/scalable-query-frontend/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsproposalsscalable-query-frontend><span>Scalable Query Frontend</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsproposalsshuffle-sharding-and-zone-awareness-li><a href=/docs/proposals/shuffle-sharding-and-zone-awareness/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsproposalsshuffle-sharding-and-zone-awareness><span>Shuffle sharding and zone awareness</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsproposalsshuffle-sharding-on-the-read-path-li><a href=/docs/proposals/shuffle-sharding-on-the-read-path/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsproposalsshuffle-sharding-on-the-read-path><span>Shuffle sharding on the read path</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsproposalssupport-metadata-api-li><a href=/docs/proposals/support-metadata-api/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsproposalssupport-metadata-api><span>Support metadata API</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsproposalsblock-storage-time-series-deletion-li><a href=/docs/proposals/block-storage-time-series-deletion/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsproposalsblock-storage-time-series-deletion><span>Time Series Deletion from Blocks Storage</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsproposalstimeseries-partitioning-in-compactor-li><a href=/docs/proposals/timeseries-partitioning-in-compactor/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsproposalstimeseries-partitioning-in-compactor><span>Timeseries Partitioning in Compactor</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsproposalsoverrides-api-li><a href=/docs/proposals/overrides-api/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsproposalsoverrides-api><span>User Overrides API</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docscontributing-li><a href=/docs/contributing/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docscontributing><span>Contributing</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontributinggovernance-li><a href=/docs/contributing/governance/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscontributinggovernance><span>Governance</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontributingdesign-patterns-and-code-conventions-li><a href=/docs/contributing/design-patterns-and-code-conventions/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscontributingdesign-patterns-and-code-conventions><span>Design patterns and Code conventions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontributinghow-to-run-the-website-locally-li><a href=/docs/contributing/how-to-run-the-website-locally/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscontributinghow-to-run-the-website-locally><span>How to run the website locally</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontributinghow-to-upgrade-golang-version-li><a href=/docs/contributing/how-to-upgrade-golang-version/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscontributinghow-to-upgrade-golang-version><span>How to upgrade Golang version</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontributinghow-integration-tests-work-li><a href=/docs/contributing/how-integration-tests-work/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscontributinghow-integration-tests-work><span>How integration tests work</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontributinghow-to-update-the-build-image-li><a href=/docs/contributing/how-to-update-the-build-image/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscontributinghow-to-update-the-build-image><span>How to update the build image</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docscontributinghow-to-add-a-maintainer-li><a href=/docs/contributing/how-to-add-a-maintainer/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscontributinghow-to-add-a-maintainer><span>How to add a maintainer</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsroadmap-li><a href=/docs/roadmap/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsroadmap><span>Roadmap</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docschangelog-li><a href=/docs/changelog/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docschangelog><span>Changelog</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscode-of-conduct-li><a href=/docs/code-of-conduct/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscode-of-conduct><span>Code of Conduct</span></a></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/cortexproject/cortex/edit/master/docs/configuration/config-file-reference.md target=_blank><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/cortexproject/cortex/issues/new?title=Configuration%20file" target=_blank><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/cortexproject/cortex/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i> Create project issue</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#reference>Reference</a><ul><li><a href=#generic-placeholders>Generic placeholders</a></li><li><a href=#use-environment-variables-in-the-configuration>Use environment variables in the configuration</a></li><li><a href=#supported-contents-and-default-values-of-the-config-file>Supported contents and default values of the config file</a></li><li><a href=#alertmanager_config><code>alertmanager_config</code></a></li><li><a href=#alertmanager_storage_config><code>alertmanager_storage_config</code></a></li><li><a href=#blocks_storage_config><code>blocks_storage_config</code></a></li><li><a href=#compactor_config><code>compactor_config</code></a></li><li><a href=#configs_config><code>configs_config</code></a></li><li><a href=#configstore_config><code>configstore_config</code></a></li><li><a href=#consul_config><code>consul_config</code></a></li><li><a href=#distributor_config><code>distributor_config</code></a></li><li><a href=#etcd_config><code>etcd_config</code></a></li><li><a href=#fifo_cache_config><code>fifo_cache_config</code></a></li><li><a href=#flusher_config><code>flusher_config</code></a></li><li><a href=#frontend_worker_config><code>frontend_worker_config</code></a></li><li><a href=#ingester_config><code>ingester_config</code></a></li><li><a href=#ingester_client_config><code>ingester_client_config</code></a></li><li><a href=#limits_config><code>limits_config</code></a></li><li><a href=#memberlist_config><code>memberlist_config</code></a></li><li><a href=#memcached_config><code>memcached_config</code></a></li><li><a href=#memcached_client_config><code>memcached_client_config</code></a></li><li><a href=#querier_config><code>querier_config</code></a></li><li><a href=#query_frontend_config><code>query_frontend_config</code></a></li><li><a href=#query_range_config><code>query_range_config</code></a></li><li><a href=#redis_config><code>redis_config</code></a></li><li><a href=#ruler_config><code>ruler_config</code></a></li><li><a href=#ruler_storage_config><code>ruler_storage_config</code></a></li><li><a href=#runtime_configuration_storage_config><code>runtime_configuration_storage_config</code></a></li><li><a href=#s3_sse_config><code>s3_sse_config</code></a></li><li><a href=#server_config><code>server_config</code></a></li><li><a href=#storage_config><code>storage_config</code></a></li><li><a href=#store_gateway_config><code>store_gateway_config</code></a></li><li><a href=#tracing_config><code>tracing_config</code></a></li><li><a href=#limitsperlabelset><code>LimitsPerLabelSet</code></a></li><li><a href=#prioritydef><code>PriorityDef</code></a></li><li><a href=#queryattribute><code>QueryAttribute</code></a></li><li><a href=#disabledrulegroup><code>DisabledRuleGroup</code></a></li></ul></li></ul></nav></div><div class="taxonomy taxonomy-terms-cloud taxo-projects"><h5 class=taxonomy-title>Our Projects</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=/projects/cortex/ data-taxonomy-term=cortex><span class=taxonomy-label>cortex</span><span class=taxonomy-count>5</span></a></li></ul></div><div class="taxonomy taxonomy-terms-cloud taxo-tags"><h5 class=taxonomy-title>Tag Cloud</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=/tags/blog/ data-taxonomy-term=blog><span class=taxonomy-label>blog</span><span class=taxonomy-count>5</span></a></li><li><a class=taxonomy-term href=/tags/community/ data-taxonomy-term=community><span class=taxonomy-label>community</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/cortex/ data-taxonomy-term=cortex><span class=taxonomy-label>cortex</span><span class=taxonomy-count>5</span></a></li><li><a class=taxonomy-term href=/tags/optimization/ data-taxonomy-term=optimization><span class=taxonomy-label>optimization</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=/tags/query/ data-taxonomy-term=query><span class=taxonomy-label>query</span><span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=/tags/rejection/ data-taxonomy-term=rejection><span class=taxonomy-label>rejection</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/updates/ data-taxonomy-term=updates><span class=taxonomy-label>updates</span><span class=taxonomy-count>1</span></a></li></ul></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=/docs/>Documentation</a></li><li class=breadcrumb-item><a href=/docs/configuration/>Configuration</a></li><li class="breadcrumb-item active" aria-current=page><a href=/docs/configuration/configuration-file/ aria-disabled=true class="btn-link disabled">Configuration file</a></li></ol></nav><div class=td-content><h1>Configuration file</h1><header class=article-meta></header><p>Cortex can be configured using a YAML file - specified using the <code>-config.file</code> flag - or CLI flags. In case you combine both, CLI flags take precedence over the YAML config file.</p><p>The current configuration of any Cortex component can be seen by visiting the <code>/config</code> HTTP path.
Passwords are filtered out of this endpoint.</p><h2 id=reference>Reference</h2><p>To specify which configuration file to load, pass the <code>-config.file</code> flag at the command line. The file is written in <a href=https://en.wikipedia.org/wiki/YAML>YAML format</a>, defined by the scheme below. Brackets indicate that a parameter is optional.</p><h3 id=generic-placeholders>Generic placeholders</h3><ul><li><code>&lt;boolean></code>: a boolean that can take the values <code>true</code> or <code>false</code></li><li><code>&lt;int></code>: any integer matching the regular expression <code>[1-9]+[0-9]*</code></li><li><code>&lt;duration></code>: a duration matching the regular expression <code>[0-9]+(ns|us|µs|ms|s|m|h|d|w|y)</code> where y = 365 days.</li><li><code>&lt;string></code>: a regular string</li><li><code>&lt;url></code>: a URL</li><li><code>&lt;prefix></code>: a CLI flag prefix based on the context (look at the parent configuration block to see which CLI flags prefix should be used)</li><li><code>&lt;relabel_config></code>: a <a href=https://prometheus.io/docs/prometheus/latest/configuration/configuration/#relabel_config>Prometheus relabeling configuration</a>.</li><li><code>&lt;time></code>: a timestamp, with available formats: <code>2006-01-20</code> (midnight, local timezone), <code>2006-01-20T15:04</code> (local timezone), and RFC 3339 formats: <code>2006-01-20T15:04:05Z</code> (UTC) or <code>2006-01-20T15:04:05+07:00</code> (explicit timezone)</li></ul><h3 id=use-environment-variables-in-the-configuration>Use environment variables in the configuration</h3><p>You can use environment variable references in the config file to set values that need to be configurable during deployment by using the <code>-config.expand-env</code> flag.
To do this, use:</p><pre tabindex=0><code>${VAR}
</code></pre><p>Where VAR is the name of the environment variable.</p><p>Each variable reference is replaced at startup by the value of the environment variable.
The replacement is case-sensitive and occurs before the YAML file is parsed.
References to undefined variables are replaced by empty strings unless you specify a default value or custom error text.</p><p>To specify a default value, use:</p><pre tabindex=0><code>${VAR:default_value}
</code></pre><p>Where default_value is the value to use if the environment variable is undefined.</p><h3 id=supported-contents-and-default-values-of-the-config-file>Supported contents and default values of the config file</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># Comma-separated list of Cortex modules to load. The alias &#39;all&#39; can be used in</span>
</span></span><span style=display:flex><span><span style=color:#75715e># the list to load a number of core modules and will enable single-binary mode.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Use &#39;-modules&#39; command line flag to get a list of available modules, and to</span>
</span></span><span style=display:flex><span><span style=color:#75715e># see which modules are included in &#39;all&#39;.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -target</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[target</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;all&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Set to false to disable auth.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -auth.enabled</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[auth_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># HTTP path prefix for Cortex API.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -http.prefix</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[http_prefix</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;/api/prom&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>resource_monitor</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Comma-separated list of resources to monitor. Supported values are cpu and</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># heap, which tracks metrics from github.com/prometheus/procfs and</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># runtime/metrics that are close estimates. Empty string to disable.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -resource-monitor.resources</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[resources</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Update interval of resource monitor. Must be greater than 0.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -resource-monitor.interval</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 100ms]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Interval to calculate average CPU rate. Must be greater than resource</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># monitor interval.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -resource-monitor.cpu-rate-interval</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[cpu_rate_interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>api</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Use GZIP compression for API responses. Some endpoints serve large YAML or</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># JSON blobs which can benefit from compression.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -api.response-compression-enabled</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[response_compression_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># HTTP URL path under which the Alertmanager ui and api will be served.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -http.alertmanager-http-prefix</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[alertmanager_http_prefix</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;/alertmanager&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># HTTP URL path under which the Prometheus api will be served.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -http.prometheus-http-prefix</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[prometheus_http_prefix</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;/prometheus&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Which HTTP Request headers to add to logs</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -api.http-request-headers-to-log</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[http_request_headers_to_log</span>: <span style=color:#ae81ff>&lt;list of string&gt; | default = []]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># HTTP header that can be used as request id</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -api.request-id-header</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[request_id_header</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Regex for CORS origin. It is fully anchored. Example:</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># &#39;https?://(domain1|domain2)\.com&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -server.cors-origin</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[cors_origin</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;.*&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># If enabled, build Info API will be served by query frontend or querier.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -api.build-info-enabled</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[build_info_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Choose default codec for querier response serialization. Supports &#39;json&#39; and</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># &#39;protobuf&#39;.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -api.querier-default-codec</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[querier_default_codec</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;json&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The server_config configures the HTTP and gRPC server of the launched</span>
</span></span><span style=display:flex><span><span style=color:#75715e># service(s).</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[server</span>: <span style=color:#ae81ff>&lt;server_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The distributor_config configures the Cortex distributor.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[distributor</span>: <span style=color:#ae81ff>&lt;distributor_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The querier_config configures the Cortex querier.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[querier</span>: <span style=color:#ae81ff>&lt;querier_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The ingester_client_config configures how the Cortex distributors connect to</span>
</span></span><span style=display:flex><span><span style=color:#75715e># the ingesters.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ingester_client</span>: <span style=color:#ae81ff>&lt;ingester_client_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The ingester_config configures the Cortex ingester.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ingester</span>: <span style=color:#ae81ff>&lt;ingester_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The flusher_config configures the WAL flusher target, used to manually run</span>
</span></span><span style=display:flex><span><span style=color:#75715e># one-time flushes when scaling down ingesters.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[flusher</span>: <span style=color:#ae81ff>&lt;flusher_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The storage_config configures the storage type Cortex uses.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[storage</span>: <span style=color:#ae81ff>&lt;storage_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The limits_config configures default and per-tenant limits imposed by Cortex</span>
</span></span><span style=display:flex><span><span style=color:#75715e># services (ie. distributor, ingester, ...).</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[limits</span>: <span style=color:#ae81ff>&lt;limits_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The frontend_worker_config configures the worker - running within the Cortex</span>
</span></span><span style=display:flex><span><span style=color:#75715e># querier - picking up and executing queries enqueued by the query-frontend or</span>
</span></span><span style=display:flex><span><span style=color:#75715e># query-scheduler.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[frontend_worker</span>: <span style=color:#ae81ff>&lt;frontend_worker_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The query_frontend_config configures the Cortex query-frontend.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[frontend</span>: <span style=color:#ae81ff>&lt;query_frontend_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The query_range_config configures the query splitting and caching in the</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Cortex query-frontend.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[query_range</span>: <span style=color:#ae81ff>&lt;query_range_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The blocks_storage_config configures the blocks storage.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[blocks_storage</span>: <span style=color:#ae81ff>&lt;blocks_storage_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The compactor_config configures the compactor for the blocks storage.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[compactor</span>: <span style=color:#ae81ff>&lt;compactor_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>parquet_converter</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Maximum concurrent goroutines for downloading block metadata from object</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># storage.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -parquet-converter.meta-sync-concurrency</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[meta_sync_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 20]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># How often to check for new TSDB blocks to convert to parquet format.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -parquet-converter.conversion-interval</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[conversion_interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Maximum number of time series per parquet row group. Larger values improve</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># compression but may reduce performance during reads.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -parquet-converter.max-rows-per-row-group</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_rows_per_row_group</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 1000000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Enable disk-based write buffering to reduce memory consumption during</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># parquet file generation.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -parquet-converter.file-buffer-enabled</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[file_buffer_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Local directory path for caching TSDB blocks during parquet conversion.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -parquet-converter.data-dir</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[data_dir</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;./data&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>ring</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>kvstore</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Backend storage to use for the ring. Supported values are: consul,</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># dynamodb, etcd, inmemory, memberlist, multi.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -parquet-converter.ring.store</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[store</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;consul&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The prefix for the keys in the store. Should end with a /.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -parquet-converter.ring.prefix</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[prefix</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;collectors/&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The consul_config configures the consul client.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The CLI flags prefix for this block config is: parquet-converter.ring</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[consul</span>: <span style=color:#ae81ff>&lt;consul_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>dynamodb</span>:
</span></span><span style=display:flex><span>        <span style=color:#75715e># Region to access dynamodb.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -parquet-converter.ring.dynamodb.region</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[region</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Table name to use on dynamodb.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -parquet-converter.ring.dynamodb.table-name</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[table_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Time to expire items on dynamodb.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -parquet-converter.ring.dynamodb.ttl-time</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[ttl</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Time to refresh local ring with information on dynamodb.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -parquet-converter.ring.dynamodb.puller-sync-time</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[puller_sync_time</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Maximum number of retries for DDB KV CAS.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -parquet-converter.ring.dynamodb.max-cas-retries</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[max_cas_retries</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Timeout of dynamoDbClient requests. Default is 2m.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -parquet-converter.ring.dynamodb.timeout</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The etcd_config configures the etcd client.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The CLI flags prefix for this block config is: parquet-converter.ring</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[etcd</span>: <span style=color:#ae81ff>&lt;etcd_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>multi</span>:
</span></span><span style=display:flex><span>        <span style=color:#75715e># Primary backend storage used by multi-client.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -parquet-converter.ring.multi.primary</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[primary</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Secondary backend storage used by multi-client.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -parquet-converter.ring.multi.secondary</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[secondary</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Mirror writes to secondary store.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -parquet-converter.ring.multi.mirror-enabled</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[mirror_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Timeout for storing value to secondary store.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -parquet-converter.ring.multi.mirror-timeout</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[mirror_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Period at which to heartbeat to the ring. 0 = disabled.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -parquet-converter.ring.heartbeat-period</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[heartbeat_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The heartbeat timeout after which parquet-converter are considered</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># unhealthy within the ring. 0 = never (timeout disabled).</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -parquet-converter.ring.heartbeat-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[heartbeat_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Time since last heartbeat before parquet-converter will be removed from</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># ring. 0 to disable</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -parquet-converter.auto-forget-delay</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[auto_forget_delay</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># File path where tokens are stored. If empty, tokens are not stored at</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># shutdown and restored at startup.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -parquet-converter.ring.tokens-file-path</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[tokens_file_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The store_gateway_config configures the store-gateway service used by the</span>
</span></span><span style=display:flex><span><span style=color:#75715e># blocks storage.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[store_gateway</span>: <span style=color:#ae81ff>&lt;store_gateway_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>tenant_federation</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># If enabled on all Cortex services, queries can be federated across multiple</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># tenants. The tenant IDs involved need to be specified separated by a `|`</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># character in the `X-Scope-OrgID` header (experimental).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -tenant-federation.enabled</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The number of workers used to process each federated query.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -tenant-federation.max-concurrent</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_concurrent</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 16]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># A maximum number of tenants to query at once. 0 means no limit.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -tenant-federation.max-tenant</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_tenant</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># [Experimental] If enabled, the `X-Scope-OrgID` header value can accept a</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># regex and the matched tenantIDs are automatically involved. The regex</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># matching rule follows the Prometheus, see the detail:</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># https://prometheus.io/docs/prometheus/latest/querying/basics/#regular-expressions.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The user discovery is based on scanning block storage, so new users can get</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># queries after uploading a block (generally 2h).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -tenant-federation.regex-matcher-enabled</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[regex_matcher_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># [Experimental] If the regex matcher is enabled, it specifies how frequently</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># to scan users. The scanned users are used to calculate matched tenantIDs.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The scanning strategy depends on the</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># `-blocks-storage.users-scanner.strategy`.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -tenant-federation.user-sync-interval</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[user_sync_interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The ruler_config configures the Cortex ruler.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ruler</span>: <span style=color:#ae81ff>&lt;ruler_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The ruler_storage_config configures the Cortex ruler storage backend.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ruler_storage</span>: <span style=color:#ae81ff>&lt;ruler_storage_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The configs_config configures the Cortex Configs DB and API.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[configs</span>: <span style=color:#ae81ff>&lt;configs_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The alertmanager_config configures the Cortex alertmanager.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[alertmanager</span>: <span style=color:#ae81ff>&lt;alertmanager_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The alertmanager_storage_config configures the Cortex alertmanager storage</span>
</span></span><span style=display:flex><span><span style=color:#75715e># backend.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[alertmanager_storage</span>: <span style=color:#ae81ff>&lt;alertmanager_storage_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The runtime_configuration_storage_config configures the storage backend for</span>
</span></span><span style=display:flex><span><span style=color:#75715e># the runtime configuration file.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[runtime_config</span>: <span style=color:#ae81ff>&lt;runtime_configuration_storage_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The memberlist_config configures the Gossip memberlist.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[memberlist</span>: <span style=color:#ae81ff>&lt;memberlist_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>query_scheduler</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># If a querier disconnects without sending notification about graceful</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># shutdown, the query-scheduler will keep the querier in the tenant&#39;s shard</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># until the forget delay has passed. This feature is useful to reduce the</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># blast radius when shuffle-sharding is enabled.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -query-scheduler.querier-forget-delay</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[querier_forget_delay</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># This configures the gRPC client used to report errors back to the</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># query-frontend.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>grpc_client_config</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># gRPC client max receive message size (bytes).</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -query-scheduler.grpc-client-config.grpc-max-recv-msg-size</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_recv_msg_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 104857600]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># gRPC client max send message size (bytes).</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -query-scheduler.grpc-client-config.grpc-max-send-msg-size</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_send_msg_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 16777216]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Use compression when sending messages. Supported values are: &#39;gzip&#39;,</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># &#39;snappy&#39;, &#39;snappy-block&#39; ,&#39;zstd&#39; and &#39;&#39; (disable compression)</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -query-scheduler.grpc-client-config.grpc-compression</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[grpc_compression</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Rate limit for gRPC client; 0 means disabled.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -query-scheduler.grpc-client-config.grpc-client-rate-limit</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[rate_limit</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Rate limit burst for gRPC client.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -query-scheduler.grpc-client-config.grpc-client-rate-limit-burst</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[rate_limit_burst</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Enable backoff and retry when we hit ratelimits.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -query-scheduler.grpc-client-config.backoff-on-ratelimits</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[backoff_on_ratelimits</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>backoff_config</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Minimum delay when backing off.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -query-scheduler.grpc-client-config.backoff-min-period</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[min_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 100ms]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Maximum delay when backing off.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -query-scheduler.grpc-client-config.backoff-max-period</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Number of times to backoff and retry before failing.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -query-scheduler.grpc-client-config.backoff-retries</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_retries</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Enable TLS in the GRPC client. This flag needs to be enabled when any</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># other TLS flag is set. If set to false, insecure connection to gRPC server</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># will be used.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -query-scheduler.grpc-client-config.tls-enabled</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[tls_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Path to the client certificate file, which will be used for authenticating</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># with the server. Also requires the key path to be configured.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -query-scheduler.grpc-client-config.tls-cert-path</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[tls_cert_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Path to the key file for the client certificate. Also requires the client</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># certificate to be configured.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -query-scheduler.grpc-client-config.tls-key-path</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[tls_key_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Path to the CA certificates file to validate server certificate against.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># If not set, the host&#39;s root CA certificates are used.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -query-scheduler.grpc-client-config.tls-ca-path</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[tls_ca_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Override the expected name on the server certificate.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -query-scheduler.grpc-client-config.tls-server-name</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[tls_server_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Skip validating server certificate.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -query-scheduler.grpc-client-config.tls-insecure-skip-verify</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[tls_insecure_skip_verify</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The maximum amount of time to establish a connection. A value of 0 means</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># using default gRPC client connect timeout 20s.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -query-scheduler.grpc-client-config.connect-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[connect_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The tracing_config configures backends cortex uses.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tracing</span>: <span style=color:#ae81ff>&lt;tracing_config&gt;]</span>
</span></span></code></pre></div><h3 id=alertmanager_config><code>alertmanager_config</code></h3><p>The <code>alertmanager_config</code> configures the Cortex alertmanager.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># Base path for data storage.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -alertmanager.storage.path</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[data_dir</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;data/&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># How long to keep data for.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -alertmanager.storage.retention</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[retention</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 120h]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The URL under which Alertmanager is externally reachable (for example, if</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Alertmanager is served via a reverse proxy). Used for generating relative and</span>
</span></span><span style=display:flex><span><span style=color:#75715e># absolute links back to Alertmanager itself. If the URL has a path portion, it</span>
</span></span><span style=display:flex><span><span style=color:#75715e># will be used to prefix all HTTP endpoints served by Alertmanager. If omitted,</span>
</span></span><span style=display:flex><span><span style=color:#75715e># relevant URL components will be derived automatically.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -alertmanager.web.external-url</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[external_url</span>: <span style=color:#ae81ff>&lt;url&gt; | default = ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># How frequently to poll Cortex configs</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -alertmanager.configs.poll-interval</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[poll_interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 15s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum size (bytes) of an accepted HTTP request body.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -alertmanager.max-recv-msg-size</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_recv_msg_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 16777216]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Shard tenants across multiple alertmanager instances.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -alertmanager.sharding-enabled</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[sharding_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>sharding_ring</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># The key-value store used to share the hash ring across multiple instances.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>kvstore</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># Backend storage to use for the ring. Supported values are: consul,</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># dynamodb, etcd, inmemory, memberlist, multi.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -alertmanager.sharding-ring.store</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[store</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;consul&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The prefix for the keys in the store. Should end with a /.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -alertmanager.sharding-ring.prefix</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[prefix</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;alertmanagers/&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The consul_config configures the consul client.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The CLI flags prefix for this block config is: alertmanager.sharding-ring</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[consul</span>: <span style=color:#ae81ff>&lt;consul_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>dynamodb</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Region to access dynamodb.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -alertmanager.sharding-ring.dynamodb.region</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[region</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Table name to use on dynamodb.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -alertmanager.sharding-ring.dynamodb.table-name</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[table_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Time to expire items on dynamodb.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -alertmanager.sharding-ring.dynamodb.ttl-time</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[ttl</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Time to refresh local ring with information on dynamodb.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -alertmanager.sharding-ring.dynamodb.puller-sync-time</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[puller_sync_time</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Maximum number of retries for DDB KV CAS.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -alertmanager.sharding-ring.dynamodb.max-cas-retries</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_cas_retries</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Timeout of dynamoDbClient requests. Default is 2m.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -alertmanager.sharding-ring.dynamodb.timeout</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The etcd_config configures the etcd client.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The CLI flags prefix for this block config is: alertmanager.sharding-ring</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[etcd</span>: <span style=color:#ae81ff>&lt;etcd_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>multi</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Primary backend storage used by multi-client.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -alertmanager.sharding-ring.multi.primary</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[primary</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Secondary backend storage used by multi-client.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -alertmanager.sharding-ring.multi.secondary</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[secondary</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Mirror writes to secondary store.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -alertmanager.sharding-ring.multi.mirror-enabled</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[mirror_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Timeout for storing value to secondary store.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -alertmanager.sharding-ring.multi.mirror-timeout</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[mirror_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Period at which to heartbeat to the ring. 0 = disabled.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager.sharding-ring.heartbeat-period</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[heartbeat_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 15s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The heartbeat timeout after which alertmanagers are considered unhealthy</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># within the ring. 0 = never (timeout disabled).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager.sharding-ring.heartbeat-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[heartbeat_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The replication factor to use when sharding the alertmanager.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager.sharding-ring.replication-factor</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[replication_factor</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 3]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># True to enable zone-awareness and replicate alerts across different</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># availability zones.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager.sharding-ring.zone-awareness-enabled</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[zone_awareness_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># File path where tokens are stored. If empty, tokens are not stored at</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># shutdown and restored at startup.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager.sharding-ring.tokens-file-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tokens_file_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Set to true to enable ring detailed metrics. These metrics provide detailed</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># information, such as token count and ownership per tenant. Disabling them</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># can significantly decrease the number of metrics emitted.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager.sharding-ring.detailed-metrics-enabled</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[detailed_metrics_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The sleep seconds when alertmanager is shutting down. Need to be close to or</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># larger than KV Store information propagation delay</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager.sharding-ring.final-sleep</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[final_sleep</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Timeout for waiting on alertmanager to become desired state in the ring.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager.sharding-ring.wait-instance-state-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[wait_instance_state_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Keep instance in the ring on shut down.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager.sharding-ring.keep-instance-in-the-ring-on-shutdown</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[keep_instance_in_the_ring_on_shutdown</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Name of network interface to read address from.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager.sharding-ring.instance-interface-names</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[instance_interface_names</span>: <span style=color:#ae81ff>&lt;list of string&gt; | default = [eth0 en0]]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The availability zone where this instance is running. Required if</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># zone-awareness is enabled.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager.sharding-ring.instance-availability-zone</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[instance_availability_zone</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Filename of fallback config to use if none specified for instance.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -alertmanager.configs.fallback</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[fallback_config_file</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Root of URL to generate if config is http://internal.monitor</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -alertmanager.configs.auto-webhook-root</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[auto_webhook_root</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>cluster</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Listen address and port for the cluster. Not specifying this flag disables</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># high-availability mode.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager.cluster.listen-address</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[listen_address</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;0.0.0.0:9094&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Explicit address or hostname to advertise in cluster.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager.cluster.advertise-address</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[advertise_address</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Comma-separated list of initial peers.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager.cluster.peers</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[peers</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Time to wait between peers to send notifications.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager.cluster.peer-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[peer_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 15s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The interval between sending gossip messages. By lowering this value (more</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># frequent) gossip messages are propagated across cluster more quickly at the</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># expense of increased bandwidth usage.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager.cluster.gossip-interval</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[gossip_interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 200ms]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The interval between gossip state syncs. Setting this interval lower (more</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># frequent) will increase convergence speeds across larger clusters at the</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># expense of increased bandwidth usage.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager.cluster.push-pull-interval</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[push_pull_interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Enable the experimental alertmanager config api.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -experimental.alertmanager.enable-api</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[enable_api</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum number of concurrent GET API requests before returning an error.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -alertmanager.api-concurrency</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[api_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Alertmanager alerts Garbage collection interval.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -alertmanager.alerts-gc-interval</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[gc_interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 30m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>alertmanager_client</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Timeout for downstream alertmanagers.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager.alertmanager-client.remote-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[remote_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Enable TLS in the GRPC client. This flag needs to be enabled when any other</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># TLS flag is set. If set to false, insecure connection to gRPC server will be</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># used.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager.alertmanager-client.tls-enabled</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Path to the client certificate file, which will be used for authenticating</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># with the server. Also requires the key path to be configured.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager.alertmanager-client.tls-cert-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_cert_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Path to the key file for the client certificate. Also requires the client</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># certificate to be configured.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager.alertmanager-client.tls-key-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_key_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Path to the CA certificates file to validate server certificate against. If</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># not set, the host&#39;s root CA certificates are used.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager.alertmanager-client.tls-ca-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_ca_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Override the expected name on the server certificate.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager.alertmanager-client.tls-server-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_server_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Skip validating server certificate.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager.alertmanager-client.tls-insecure-skip-verify</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_insecure_skip_verify</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Use compression when sending messages. Supported values are: &#39;gzip&#39;,</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># &#39;snappy&#39; and &#39;&#39; (disable compression)</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager.alertmanager-client.grpc-compression</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[grpc_compression</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># gRPC client max receive message size (bytes).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager.alertmanager-client.grpc-max-recv-msg-size</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_recv_msg_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 16777216]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># gRPC client max send message size (bytes).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager.alertmanager-client.grpc-max-send-msg-size</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_send_msg_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 4194304]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The maximum amount of time to establish a connection. A value of 0 means</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># using default gRPC client connect timeout 5s.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager.alertmanager-client.connect-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[connect_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The interval between persisting the current alertmanager state (notification</span>
</span></span><span style=display:flex><span><span style=color:#75715e># log and silences) to object storage. This is only used when sharding is</span>
</span></span><span style=display:flex><span><span style=color:#75715e># enabled. This state is read when all replicas for a shard can not be</span>
</span></span><span style=display:flex><span><span style=color:#75715e># contacted. In this scenario, having persisted the state more frequently will</span>
</span></span><span style=display:flex><span><span style=color:#75715e># result in potentially fewer lost silences, and fewer duplicate notifications.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -alertmanager.persist-interval</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[persist_interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 15m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Comma separated list of tenants whose alerts this alertmanager can process. If</span>
</span></span><span style=display:flex><span><span style=color:#75715e># specified, only these tenants will be handled by alertmanager, otherwise this</span>
</span></span><span style=display:flex><span><span style=color:#75715e># alertmanager can process alerts from all tenants.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -alertmanager.enabled-tenants</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[enabled_tenants</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Comma separated list of tenants whose alerts this alertmanager cannot process.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># If specified, a alertmanager that would normally pick the specified tenant(s)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># for processing will ignore them instead.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -alertmanager.disabled-tenants</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[disabled_tenants</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span></code></pre></div><h3 id=alertmanager_storage_config><code>alertmanager_storage_config</code></h3><p>The <code>alertmanager_storage_config</code> configures the Cortex alertmanager storage backend.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># Backend storage to use. Supported backends are: s3, gcs, azure, swift,</span>
</span></span><span style=display:flex><span><span style=color:#75715e># filesystem, configdb, local.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -alertmanager-storage.backend</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[backend</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;s3&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>s3</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># The S3 bucket endpoint. It could be an AWS S3 endpoint listed at</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># https://docs.aws.amazon.com/general/latest/gr/s3.html or the address of an</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># S3-compatible service in hostname:port format.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.s3.endpoint</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[endpoint</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># S3 region. If unset, the client will issue a S3 GetBucketLocation API call</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># to autodetect it.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.s3.region</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[region</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># S3 bucket name</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.s3.bucket-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[bucket_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># If enabled, S3 endpoint will use the non-dualstack variant.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.s3.disable-dualstack</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[disable_dualstack</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># S3 secret access key</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.s3.secret-access-key</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[secret_access_key</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># S3 access key ID</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.s3.access-key-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[access_key_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># If enabled, use http:// for the S3 endpoint instead of https://. This could</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># be useful in local dev/test environments while using an S3-compatible</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># backend storage, like Minio.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.s3.insecure</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[insecure</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The signature version to use for authenticating against S3. Supported values</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># are: v4, v2.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.s3.signature-version</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[signature_version</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;v4&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The s3 bucket lookup style. Supported values are: auto, virtual-hosted,</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># path.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.s3.bucket-lookup-type</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[bucket_lookup_type</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;auto&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># If true, attach MD5 checksum when upload objects and S3 uses MD5 checksum</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># algorithm to verify the provided digest. If false, use CRC32C algorithm</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># instead.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.s3.send-content-md5</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[send_content_md5</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The list api version. Supported values are: v1, v2, and &#39;&#39;.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.s3.list-objects-version</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[list_objects_version</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The s3_sse_config configures the S3 server-side encryption.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The CLI flags prefix for this block config is: alertmanager-storage</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[sse</span>: <span style=color:#ae81ff>&lt;s3_sse_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>http</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># The time an idle connection will remain idle before closing.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -alertmanager-storage.s3.http.idle-conn-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[idle_conn_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m30s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The amount of time the client will wait for a servers response headers.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -alertmanager-storage.s3.http.response-header-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[response_header_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># If the client connects via HTTPS and this option is enabled, the client</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># will accept any certificate and hostname.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -alertmanager-storage.s3.http.insecure-skip-verify</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[insecure_skip_verify</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum time to wait for a TLS handshake. 0 means no limit.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -alertmanager-storage.s3.tls-handshake-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[tls_handshake_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The time to wait for a server&#39;s first response headers after fully writing</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># the request headers if the request has an Expect header. 0 to send the</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># request body immediately.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -alertmanager-storage.s3.expect-continue-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[expect_continue_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum number of idle (keep-alive) connections across all hosts. 0 means</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># no limit.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -alertmanager-storage.s3.max-idle-connections</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_idle_connections</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum number of idle (keep-alive) connections to keep per-host. If 0, a</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># built-in default value is used.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -alertmanager-storage.s3.max-idle-connections-per-host</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_idle_connections_per_host</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum number of connections per host. 0 means no limit.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -alertmanager-storage.s3.max-connections-per-host</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_connections_per_host</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>gcs</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># GCS bucket name</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.gcs.bucket-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[bucket_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># JSON representing either a Google Developers Console client_credentials.json</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># file or a Google Developers service account key file. If empty, fallback to</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Google default logic.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.gcs.service-account</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[service_account</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>azure</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Azure storage account name</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.azure.account-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[account_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Azure storage account key</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.azure.account-key</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[account_key</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The values of `account-name` and `endpoint-suffix` values will not be</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># ignored if `connection-string` is set. Use this method over `account-key` if</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># you need to authenticate via a SAS token or if you use the Azurite emulator.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.azure.connection-string</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[connection_string</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Azure storage container name</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.azure.container-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[container_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Azure storage endpoint suffix without schema. The account name will be</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># prefixed to this value to create the FQDN</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.azure.endpoint-suffix</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[endpoint_suffix</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Number of retries for recoverable errors</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.azure.max-retries</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_retries</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 20]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Deprecated: Azure storage MSI resource. It will be set automatically by</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Azure SDK.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.azure.msi-resource</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[msi_resource</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Azure storage MSI resource managed identity client Id. If not supplied</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># default Azure credential will be used. Set it to empty if you need to</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># authenticate via Azure Workload Identity.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.azure.user-assigned-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[user_assigned_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>http</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># The time an idle connection will remain idle before closing.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -alertmanager-storage.azure.http.idle-conn-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[idle_conn_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m30s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The amount of time the client will wait for a servers response headers.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -alertmanager-storage.azure.http.response-header-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[response_header_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># If the client connects via HTTPS and this option is enabled, the client</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># will accept any certificate and hostname.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -alertmanager-storage.azure.http.insecure-skip-verify</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[insecure_skip_verify</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum time to wait for a TLS handshake. 0 means no limit.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -alertmanager-storage.azure.tls-handshake-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[tls_handshake_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The time to wait for a server&#39;s first response headers after fully writing</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># the request headers if the request has an Expect header. 0 to send the</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># request body immediately.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -alertmanager-storage.azure.expect-continue-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[expect_continue_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum number of idle (keep-alive) connections across all hosts. 0 means</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># no limit.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -alertmanager-storage.azure.max-idle-connections</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_idle_connections</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum number of idle (keep-alive) connections to keep per-host. If 0, a</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># built-in default value is used.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -alertmanager-storage.azure.max-idle-connections-per-host</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_idle_connections_per_host</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum number of connections per host. 0 means no limit.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -alertmanager-storage.azure.max-connections-per-host</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_connections_per_host</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>swift</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift authentication API version. 0 to autodetect.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.swift.auth-version</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[auth_version</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift authentication URL</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.swift.auth-url</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[auth_url</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift application credential ID.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.swift.application-credential-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[application_credential_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift application credential name.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.swift.application-credential-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[application_credential_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift application credential secret.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.swift.application-credential-secret</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[application_credential_secret</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift username.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.swift.username</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[username</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift user&#39;s domain name.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.swift.user-domain-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[user_domain_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift user&#39;s domain ID.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.swift.user-domain-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[user_domain_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift user ID.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.swift.user-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[user_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift API key.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.swift.password</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[password</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift user&#39;s domain ID.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.swift.domain-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[domain_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift user&#39;s domain name.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.swift.domain-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[domain_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift project ID (v2,v3 auth only).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.swift.project-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[project_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift project name (v2,v3 auth only).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.swift.project-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[project_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># ID of the OpenStack Swift project&#39;s domain (v3 auth only), only needed if it</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># differs the from user domain.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.swift.project-domain-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[project_domain_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Name of the OpenStack Swift project&#39;s domain (v3 auth only), only needed if</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># it differs from the user domain.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.swift.project-domain-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[project_domain_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift Region to use (v2,v3 auth only).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.swift.region-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[region_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Name of the OpenStack Swift container to put chunks in.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.swift.container-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[container_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Max retries on requests error.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.swift.max-retries</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_retries</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 3]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Time after which a connection attempt is aborted.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.swift.connect-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[connect_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Time after which an idle request is aborted. The timeout watchdog is reset</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># each time some data is received, so the timeout triggers after X time no</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># data is received on a request.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.swift.request-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[request_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>filesystem</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Local filesystem storage directory.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.filesystem.dir</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[dir</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The configstore_config configures the config database storing rules and</span>
</span></span><span style=display:flex><span><span style=color:#75715e># alerts, and is used by the Cortex alertmanager.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># The CLI flags prefix for this block config is: alertmanager-storage</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[configdb</span>: <span style=color:#ae81ff>&lt;configstore_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>local</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Path at which alertmanager configurations are stored.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -alertmanager-storage.local.path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span></code></pre></div><h3 id=blocks_storage_config><code>blocks_storage_config</code></h3><p>The <code>blocks_storage_config</code> configures the blocks storage.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># Backend storage to use. Supported backends are: s3, gcs, azure, swift,</span>
</span></span><span style=display:flex><span><span style=color:#75715e># filesystem.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -blocks-storage.backend</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[backend</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;s3&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>s3</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># The S3 bucket endpoint. It could be an AWS S3 endpoint listed at</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># https://docs.aws.amazon.com/general/latest/gr/s3.html or the address of an</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># S3-compatible service in hostname:port format.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.s3.endpoint</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[endpoint</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># S3 region. If unset, the client will issue a S3 GetBucketLocation API call</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># to autodetect it.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.s3.region</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[region</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># S3 bucket name</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.s3.bucket-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[bucket_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># If enabled, S3 endpoint will use the non-dualstack variant.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.s3.disable-dualstack</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[disable_dualstack</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># S3 secret access key</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.s3.secret-access-key</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[secret_access_key</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># S3 access key ID</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.s3.access-key-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[access_key_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># If enabled, use http:// for the S3 endpoint instead of https://. This could</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># be useful in local dev/test environments while using an S3-compatible</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># backend storage, like Minio.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.s3.insecure</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[insecure</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The signature version to use for authenticating against S3. Supported values</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># are: v4, v2.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.s3.signature-version</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[signature_version</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;v4&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The s3 bucket lookup style. Supported values are: auto, virtual-hosted,</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># path.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.s3.bucket-lookup-type</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[bucket_lookup_type</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;auto&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># If true, attach MD5 checksum when upload objects and S3 uses MD5 checksum</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># algorithm to verify the provided digest. If false, use CRC32C algorithm</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># instead.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.s3.send-content-md5</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[send_content_md5</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The list api version. Supported values are: v1, v2, and &#39;&#39;.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.s3.list-objects-version</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[list_objects_version</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The s3_sse_config configures the S3 server-side encryption.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The CLI flags prefix for this block config is: blocks-storage</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[sse</span>: <span style=color:#ae81ff>&lt;s3_sse_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>http</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># The time an idle connection will remain idle before closing.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.s3.http.idle-conn-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[idle_conn_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m30s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The amount of time the client will wait for a servers response headers.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.s3.http.response-header-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[response_header_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># If the client connects via HTTPS and this option is enabled, the client</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># will accept any certificate and hostname.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.s3.http.insecure-skip-verify</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[insecure_skip_verify</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum time to wait for a TLS handshake. 0 means no limit.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.s3.tls-handshake-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[tls_handshake_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The time to wait for a server&#39;s first response headers after fully writing</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># the request headers if the request has an Expect header. 0 to send the</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># request body immediately.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.s3.expect-continue-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[expect_continue_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum number of idle (keep-alive) connections across all hosts. 0 means</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># no limit.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.s3.max-idle-connections</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_idle_connections</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum number of idle (keep-alive) connections to keep per-host. If 0, a</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># built-in default value is used.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.s3.max-idle-connections-per-host</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_idle_connections_per_host</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum number of connections per host. 0 means no limit.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.s3.max-connections-per-host</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_connections_per_host</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>gcs</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># GCS bucket name</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.gcs.bucket-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[bucket_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># JSON representing either a Google Developers Console client_credentials.json</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># file or a Google Developers service account key file. If empty, fallback to</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Google default logic.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.gcs.service-account</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[service_account</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>azure</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Azure storage account name</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.azure.account-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[account_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Azure storage account key</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.azure.account-key</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[account_key</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The values of `account-name` and `endpoint-suffix` values will not be</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># ignored if `connection-string` is set. Use this method over `account-key` if</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># you need to authenticate via a SAS token or if you use the Azurite emulator.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.azure.connection-string</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[connection_string</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Azure storage container name</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.azure.container-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[container_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Azure storage endpoint suffix without schema. The account name will be</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># prefixed to this value to create the FQDN</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.azure.endpoint-suffix</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[endpoint_suffix</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Number of retries for recoverable errors</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.azure.max-retries</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_retries</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 20]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Deprecated: Azure storage MSI resource. It will be set automatically by</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Azure SDK.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.azure.msi-resource</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[msi_resource</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Azure storage MSI resource managed identity client Id. If not supplied</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># default Azure credential will be used. Set it to empty if you need to</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># authenticate via Azure Workload Identity.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.azure.user-assigned-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[user_assigned_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>http</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># The time an idle connection will remain idle before closing.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.azure.http.idle-conn-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[idle_conn_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m30s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The amount of time the client will wait for a servers response headers.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.azure.http.response-header-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[response_header_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># If the client connects via HTTPS and this option is enabled, the client</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># will accept any certificate and hostname.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.azure.http.insecure-skip-verify</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[insecure_skip_verify</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum time to wait for a TLS handshake. 0 means no limit.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.azure.tls-handshake-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[tls_handshake_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The time to wait for a server&#39;s first response headers after fully writing</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># the request headers if the request has an Expect header. 0 to send the</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># request body immediately.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.azure.expect-continue-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[expect_continue_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum number of idle (keep-alive) connections across all hosts. 0 means</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># no limit.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.azure.max-idle-connections</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_idle_connections</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum number of idle (keep-alive) connections to keep per-host. If 0, a</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># built-in default value is used.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.azure.max-idle-connections-per-host</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_idle_connections_per_host</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum number of connections per host. 0 means no limit.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.azure.max-connections-per-host</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_connections_per_host</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>swift</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift authentication API version. 0 to autodetect.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.swift.auth-version</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[auth_version</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift authentication URL</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.swift.auth-url</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[auth_url</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift application credential ID.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.swift.application-credential-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[application_credential_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift application credential name.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.swift.application-credential-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[application_credential_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift application credential secret.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.swift.application-credential-secret</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[application_credential_secret</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift username.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.swift.username</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[username</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift user&#39;s domain name.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.swift.user-domain-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[user_domain_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift user&#39;s domain ID.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.swift.user-domain-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[user_domain_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift user ID.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.swift.user-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[user_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift API key.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.swift.password</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[password</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift user&#39;s domain ID.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.swift.domain-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[domain_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift user&#39;s domain name.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.swift.domain-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[domain_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift project ID (v2,v3 auth only).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.swift.project-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[project_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift project name (v2,v3 auth only).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.swift.project-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[project_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># ID of the OpenStack Swift project&#39;s domain (v3 auth only), only needed if it</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># differs the from user domain.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.swift.project-domain-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[project_domain_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Name of the OpenStack Swift project&#39;s domain (v3 auth only), only needed if</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># it differs from the user domain.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.swift.project-domain-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[project_domain_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift Region to use (v2,v3 auth only).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.swift.region-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[region_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Name of the OpenStack Swift container to put chunks in.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.swift.container-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[container_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Max retries on requests error.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.swift.max-retries</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_retries</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 3]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Time after which a connection attempt is aborted.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.swift.connect-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[connect_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Time after which an idle request is aborted. The timeout watchdog is reset</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># each time some data is received, so the timeout triggers after X time no</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># data is received on a request.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.swift.request-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[request_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>filesystem</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Local filesystem storage directory.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.filesystem.dir</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[dir</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># This configures how the querier and store-gateway discover and synchronize</span>
</span></span><span style=display:flex><span><span style=color:#75715e># blocks stored in the bucket.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>bucket_store</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Directory to store synchronized TSDB index headers.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.sync-dir</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[sync_dir</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;tsdb-sync&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># How frequently to scan the bucket, or to refresh the bucket index (if</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># enabled), in order to look for changes (new blocks shipped by ingesters and</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># blocks deleted by retention or compaction).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.sync-interval</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[sync_interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 15m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Max number of concurrent queries to execute against the long-term storage.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The limit is shared across all tenants.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.max-concurrent</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_concurrent</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Max number of inflight queries to execute against the long-term storage. The</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># limit is shared across all tenants. 0 to disable.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.max-inflight-requests</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_inflight_requests</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Maximum number of concurrent tenants syncing blocks.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.tenant-sync-concurrency</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tenant_sync_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Maximum number of concurrent blocks syncing per tenant.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.block-sync-concurrency</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[block_sync_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 20]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Number of Go routines to use when syncing block meta files from object</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># storage per tenant.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.meta-sync-concurrency</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[meta_sync_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 20]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Minimum age of a block before it&#39;s being read. Set it to safe value (e.g</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># 30m) if your object storage is eventually consistent. GCS and S3 are</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># (roughly) strongly consistent.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.consistency-delay</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[consistency_delay</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>index_cache</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># The index cache backend type. Multiple cache backend can be provided as a</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># comma-separated ordered list to enable the implementation of a cache</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># hierarchy. Supported values: inmemory, memcached, redis.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.backend</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[backend</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;inmemory&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>inmemory</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Maximum size in bytes of in-memory index cache used to speed up blocks</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># index lookups (shared between all tenants).</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.inmemory.max-size-bytes</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_size_bytes</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 1073741824]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Selectively cache index item types. Supported values are Postings,</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># ExpandedPostings and Series</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.inmemory.enabled-items</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[enabled_items</span>: <span style=color:#ae81ff>&lt;list of string&gt; | default = []]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>memcached</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Comma separated list of memcached addresses. Supported prefixes are:</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># dns+ (looked up as an A/AAAA query), dnssrv+ (looked up as a SRV query,</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># dnssrvnoa+ (looked up as a SRV query, with no A/AAAA lookup made after</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># that).</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.memcached.addresses</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[addresses</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The socket read/write timeout.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.memcached.timeout</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 100ms]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of idle connections that will be maintained per</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># address.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.memcached.max-idle-connections</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_idle_connections</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 16]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of concurrent asynchronous operations can occur.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.memcached.max-async-concurrency</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_async_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 3]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of enqueued asynchronous operations allowed.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.memcached.max-async-buffer-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_async_buffer_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of concurrent connections running get operations. If</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># set to 0, concurrency is unlimited.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.memcached.max-get-multi-concurrency</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_get_multi_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of keys a single underlying get operation should run.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># If more keys are specified, internally keys are split into multiple</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># batches and fetched concurrently, honoring the max concurrency. If set</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># to 0, the max batch size is unlimited.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.memcached.max-get-multi-batch-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_get_multi_batch_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum size of an item stored in memcached. Bigger items are not</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># stored. If set to 0, no maximum size is enforced.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.memcached.max-item-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_item_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 1048576]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Use memcached auto-discovery mechanism provided by some cloud provider</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># like GCP and AWS</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.memcached.auto-discovery</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[auto_discovery</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>set_async_circuit_breaker_config</span>:
</span></span><span style=display:flex><span>        <span style=color:#75715e># If true, enable circuit breaker.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.memcached.set-async.circuit-breaker.enabled</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Maximum number of requests allowed to pass through when the circuit</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># breaker is half-open. If set to 0, by default it allows 1 request.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.memcached.set-async.circuit-breaker.half-open-max-requests</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[half_open_max_requests</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Period of the open state after which the state of the circuit breaker</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># becomes half-open. If set to 0, by default open duration is 60</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># seconds.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.memcached.set-async.circuit-breaker.open-duration</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[open_duration</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Minimal requests to trigger the circuit breaker.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.memcached.set-async.circuit-breaker.min-requests</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[min_requests</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 50]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Consecutive failures to determine if the circuit breaker should open.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.memcached.set-async.circuit-breaker.consecutive-failures</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[consecutive_failures</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 5]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Failure percentage to determine if the circuit breaker should open.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.memcached.set-async.circuit-breaker.failure-percent</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[failure_percent</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0.05]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Selectively cache index item types. Supported values are Postings,</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># ExpandedPostings and Series</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.memcached.enabled-items</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[enabled_items</span>: <span style=color:#ae81ff>&lt;list of string&gt; | default = []]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>redis</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Comma separated list of redis addresses. Supported prefixes are: dns+</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># (looked up as an A/AAAA query), dnssrv+ (looked up as a SRV query,</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># dnssrvnoa+ (looked up as a SRV query, with no A/AAAA lookup made after</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># that).</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.redis.addresses</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[addresses</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Redis username.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.redis.username</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[username</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Redis password.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.redis.password</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[password</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Database to be selected after connecting to the server.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.redis.db</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[db</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Specifies the master&#39;s name. Must be not empty for Redis Sentinel.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.redis.master-name</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[master_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of concurrent GetMulti() operations. If set to 0,</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># concurrency is unlimited.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.redis.max-get-multi-concurrency</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_get_multi_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum size per batch for mget.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.redis.get-multi-batch-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[get_multi_batch_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of concurrent SetMulti() operations. If set to 0,</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># concurrency is unlimited.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.redis.max-set-multi-concurrency</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_set_multi_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum size per batch for pipeline set.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.redis.set-multi-batch-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[set_multi_batch_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of concurrent asynchronous operations can occur.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.redis.max-async-concurrency</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_async_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 3]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of enqueued asynchronous operations allowed.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.redis.max-async-buffer-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_async_buffer_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Client dial timeout.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.redis.dial-timeout</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[dial_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Client read timeout.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.redis.read-timeout</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[read_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 3s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Client write timeout.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.redis.write-timeout</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[write_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 3s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Whether to enable tls for redis connection.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.redis.tls-enabled</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[tls_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Path to the client certificate file, which will be used for</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># authenticating with the server. Also requires the key path to be</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># configured.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.redis.tls-cert-path</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[tls_cert_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Path to the key file for the client certificate. Also requires the</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># client certificate to be configured.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.redis.tls-key-path</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[tls_key_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Path to the CA certificates file to validate server certificate against.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># If not set, the host&#39;s root CA certificates are used.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.redis.tls-ca-path</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[tls_ca_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Override the expected name on the server certificate.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.redis.tls-server-name</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[tls_server_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Skip validating server certificate.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.redis.tls-insecure-skip-verify</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[tls_insecure_skip_verify</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># If not zero then client-side caching is enabled. Client-side caching is</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># when data is stored in memory instead of fetching data each time. See</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># https://redis.io/docs/manual/client-side-caching/ for more info.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.redis.cache-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[cache_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>set_async_circuit_breaker_config</span>:
</span></span><span style=display:flex><span>        <span style=color:#75715e># If true, enable circuit breaker.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.redis.set-async.circuit-breaker.enabled</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Maximum number of requests allowed to pass through when the circuit</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># breaker is half-open. If set to 0, by default it allows 1 request.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.redis.set-async.circuit-breaker.half-open-max-requests</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[half_open_max_requests</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Period of the open state after which the state of the circuit breaker</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># becomes half-open. If set to 0, by default open duration is 60</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># seconds.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.redis.set-async.circuit-breaker.open-duration</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[open_duration</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Minimal requests to trigger the circuit breaker.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.redis.set-async.circuit-breaker.min-requests</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[min_requests</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 50]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Consecutive failures to determine if the circuit breaker should open.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.redis.set-async.circuit-breaker.consecutive-failures</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[consecutive_failures</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 5]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Failure percentage to determine if the circuit breaker should open.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.redis.set-async.circuit-breaker.failure-percent</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[failure_percent</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0.05]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Selectively cache index item types. Supported values are Postings,</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># ExpandedPostings and Series</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.redis.enabled-items</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[enabled_items</span>: <span style=color:#ae81ff>&lt;list of string&gt; | default = []]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>multilevel</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of concurrent asynchronous operations can occur when</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># backfilling cache items.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.multilevel.max-async-concurrency</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_async_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 3]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of enqueued asynchronous operations allowed when</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># backfilling cache items.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.multilevel.max-async-buffer-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_async_buffer_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of items to backfill per asynchronous operation.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-cache.multilevel.max-backfill-items</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_backfill_items</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>chunks_cache</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># The chunks cache backend type. Single or Multiple cache backend can be</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># provided. Supported values in single cache: memcached, redis, inmemory,</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># and &#39;&#39; (disable). Supported values in multi level cache: a comma-separated</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># list of (inmemory, memcached, redis)</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.backend</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[backend</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>inmemory</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Maximum size in bytes of in-memory chunks cache used (shared between all</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># tenants).</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.inmemory.max-size-bytes</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_size_bytes</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 1073741824]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>memcached</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Comma separated list of memcached addresses. Supported prefixes are:</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># dns+ (looked up as an A/AAAA query), dnssrv+ (looked up as a SRV query,</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># dnssrvnoa+ (looked up as a SRV query, with no A/AAAA lookup made after</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># that).</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.memcached.addresses</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[addresses</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The socket read/write timeout.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.memcached.timeout</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 100ms]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of idle connections that will be maintained per</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># address.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.memcached.max-idle-connections</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_idle_connections</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 16]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of concurrent asynchronous operations can occur.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.memcached.max-async-concurrency</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_async_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 3]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of enqueued asynchronous operations allowed.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.memcached.max-async-buffer-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_async_buffer_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of concurrent connections running get operations. If</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># set to 0, concurrency is unlimited.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.memcached.max-get-multi-concurrency</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_get_multi_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of keys a single underlying get operation should run.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># If more keys are specified, internally keys are split into multiple</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># batches and fetched concurrently, honoring the max concurrency. If set</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># to 0, the max batch size is unlimited.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.memcached.max-get-multi-batch-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_get_multi_batch_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum size of an item stored in memcached. Bigger items are not</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># stored. If set to 0, no maximum size is enforced.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.memcached.max-item-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_item_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 1048576]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Use memcached auto-discovery mechanism provided by some cloud provider</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># like GCP and AWS</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.memcached.auto-discovery</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[auto_discovery</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>set_async_circuit_breaker_config</span>:
</span></span><span style=display:flex><span>        <span style=color:#75715e># If true, enable circuit breaker.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.memcached.set-async.circuit-breaker.enabled</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Maximum number of requests allowed to pass through when the circuit</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># breaker is half-open. If set to 0, by default it allows 1 request.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.memcached.set-async.circuit-breaker.half-open-max-requests</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[half_open_max_requests</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Period of the open state after which the state of the circuit breaker</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># becomes half-open. If set to 0, by default open duration is 60</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># seconds.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.memcached.set-async.circuit-breaker.open-duration</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[open_duration</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Minimal requests to trigger the circuit breaker.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.memcached.set-async.circuit-breaker.min-requests</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[min_requests</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 50]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Consecutive failures to determine if the circuit breaker should open.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.memcached.set-async.circuit-breaker.consecutive-failures</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[consecutive_failures</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 5]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Failure percentage to determine if the circuit breaker should open.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.memcached.set-async.circuit-breaker.failure-percent</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[failure_percent</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0.05]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>redis</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Comma separated list of redis addresses. Supported prefixes are: dns+</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># (looked up as an A/AAAA query), dnssrv+ (looked up as a SRV query,</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># dnssrvnoa+ (looked up as a SRV query, with no A/AAAA lookup made after</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># that).</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.redis.addresses</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[addresses</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Redis username.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.redis.username</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[username</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Redis password.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.redis.password</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[password</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Database to be selected after connecting to the server.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.redis.db</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[db</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Specifies the master&#39;s name. Must be not empty for Redis Sentinel.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.redis.master-name</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[master_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of concurrent GetMulti() operations. If set to 0,</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># concurrency is unlimited.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.redis.max-get-multi-concurrency</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_get_multi_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum size per batch for mget.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.redis.get-multi-batch-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[get_multi_batch_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of concurrent SetMulti() operations. If set to 0,</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># concurrency is unlimited.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.redis.max-set-multi-concurrency</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_set_multi_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum size per batch for pipeline set.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.redis.set-multi-batch-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[set_multi_batch_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of concurrent asynchronous operations can occur.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.redis.max-async-concurrency</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_async_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 3]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of enqueued asynchronous operations allowed.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.redis.max-async-buffer-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_async_buffer_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Client dial timeout.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.redis.dial-timeout</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[dial_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Client read timeout.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.redis.read-timeout</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[read_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 3s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Client write timeout.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.redis.write-timeout</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[write_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 3s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Whether to enable tls for redis connection.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.redis.tls-enabled</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[tls_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Path to the client certificate file, which will be used for</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># authenticating with the server. Also requires the key path to be</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># configured.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.redis.tls-cert-path</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[tls_cert_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Path to the key file for the client certificate. Also requires the</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># client certificate to be configured.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.redis.tls-key-path</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[tls_key_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Path to the CA certificates file to validate server certificate against.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># If not set, the host&#39;s root CA certificates are used.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.redis.tls-ca-path</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[tls_ca_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Override the expected name on the server certificate.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.redis.tls-server-name</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[tls_server_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Skip validating server certificate.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.redis.tls-insecure-skip-verify</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[tls_insecure_skip_verify</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># If not zero then client-side caching is enabled. Client-side caching is</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># when data is stored in memory instead of fetching data each time. See</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># https://redis.io/docs/manual/client-side-caching/ for more info.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.redis.cache-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[cache_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>set_async_circuit_breaker_config</span>:
</span></span><span style=display:flex><span>        <span style=color:#75715e># If true, enable circuit breaker.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.redis.set-async.circuit-breaker.enabled</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Maximum number of requests allowed to pass through when the circuit</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># breaker is half-open. If set to 0, by default it allows 1 request.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.redis.set-async.circuit-breaker.half-open-max-requests</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[half_open_max_requests</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Period of the open state after which the state of the circuit breaker</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># becomes half-open. If set to 0, by default open duration is 60</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># seconds.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.redis.set-async.circuit-breaker.open-duration</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[open_duration</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Minimal requests to trigger the circuit breaker.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.redis.set-async.circuit-breaker.min-requests</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[min_requests</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 50]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Consecutive failures to determine if the circuit breaker should open.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.redis.set-async.circuit-breaker.consecutive-failures</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[consecutive_failures</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 5]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Failure percentage to determine if the circuit breaker should open.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.redis.set-async.circuit-breaker.failure-percent</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[failure_percent</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0.05]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>multilevel</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of concurrent asynchronous operations can occur when</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># backfilling cache items.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.multilevel.max-async-concurrency</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_async_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 3]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of enqueued asynchronous operations allowed when</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># backfilling cache items.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.multilevel.max-async-buffer-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_async_buffer_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of items to backfill per asynchronous operation.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.multilevel.max-backfill-items</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_backfill_items</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Size of each subrange that bucket object is split into for better caching.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.subrange-size</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[subrange_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 16000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum number of sub-GetRange requests that a single GetRange request can</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># be split into when fetching chunks. Zero or negative value = unlimited</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># number of sub-requests.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.max-get-range-requests</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_get_range_requests</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 3]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># TTL for caching object attributes for chunks.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.attributes-ttl</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[attributes_ttl</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 168h]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># TTL for caching individual chunks subranges.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.chunks-cache.subrange-ttl</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[subrange_ttl</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 24h]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>metadata_cache</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># The metadata cache backend type. Single or Multiple cache backend can be</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># provided. Supported values in single cache: memcached, redis, inmemory,</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># and &#39;&#39; (disable). Supported values in multi level cache: a comma-separated</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># list of (inmemory, memcached, redis)</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.backend</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[backend</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>inmemory</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Maximum size in bytes of in-memory metadata cache used (shared between</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># all tenants).</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.inmemory.max-size-bytes</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_size_bytes</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 1073741824]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>memcached</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Comma separated list of memcached addresses. Supported prefixes are:</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># dns+ (looked up as an A/AAAA query), dnssrv+ (looked up as a SRV query,</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># dnssrvnoa+ (looked up as a SRV query, with no A/AAAA lookup made after</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># that).</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.memcached.addresses</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[addresses</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The socket read/write timeout.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.memcached.timeout</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 100ms]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of idle connections that will be maintained per</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># address.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.memcached.max-idle-connections</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_idle_connections</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 16]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of concurrent asynchronous operations can occur.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.memcached.max-async-concurrency</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_async_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 3]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of enqueued asynchronous operations allowed.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.memcached.max-async-buffer-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_async_buffer_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of concurrent connections running get operations. If</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># set to 0, concurrency is unlimited.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.memcached.max-get-multi-concurrency</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_get_multi_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of keys a single underlying get operation should run.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># If more keys are specified, internally keys are split into multiple</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># batches and fetched concurrently, honoring the max concurrency. If set</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># to 0, the max batch size is unlimited.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.memcached.max-get-multi-batch-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_get_multi_batch_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum size of an item stored in memcached. Bigger items are not</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># stored. If set to 0, no maximum size is enforced.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.memcached.max-item-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_item_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 1048576]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Use memcached auto-discovery mechanism provided by some cloud provider</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># like GCP and AWS</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.memcached.auto-discovery</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[auto_discovery</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>set_async_circuit_breaker_config</span>:
</span></span><span style=display:flex><span>        <span style=color:#75715e># If true, enable circuit breaker.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.memcached.set-async.circuit-breaker.enabled</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Maximum number of requests allowed to pass through when the circuit</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># breaker is half-open. If set to 0, by default it allows 1 request.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.memcached.set-async.circuit-breaker.half-open-max-requests</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[half_open_max_requests</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Period of the open state after which the state of the circuit breaker</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># becomes half-open. If set to 0, by default open duration is 60</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># seconds.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.memcached.set-async.circuit-breaker.open-duration</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[open_duration</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Minimal requests to trigger the circuit breaker.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.memcached.set-async.circuit-breaker.min-requests</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[min_requests</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 50]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Consecutive failures to determine if the circuit breaker should open.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.memcached.set-async.circuit-breaker.consecutive-failures</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[consecutive_failures</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 5]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Failure percentage to determine if the circuit breaker should open.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.memcached.set-async.circuit-breaker.failure-percent</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[failure_percent</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0.05]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>redis</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Comma separated list of redis addresses. Supported prefixes are: dns+</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># (looked up as an A/AAAA query), dnssrv+ (looked up as a SRV query,</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># dnssrvnoa+ (looked up as a SRV query, with no A/AAAA lookup made after</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># that).</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.redis.addresses</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[addresses</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Redis username.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.redis.username</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[username</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Redis password.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.redis.password</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[password</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Database to be selected after connecting to the server.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.redis.db</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[db</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Specifies the master&#39;s name. Must be not empty for Redis Sentinel.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.redis.master-name</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[master_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of concurrent GetMulti() operations. If set to 0,</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># concurrency is unlimited.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.redis.max-get-multi-concurrency</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_get_multi_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum size per batch for mget.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.redis.get-multi-batch-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[get_multi_batch_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of concurrent SetMulti() operations. If set to 0,</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># concurrency is unlimited.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.redis.max-set-multi-concurrency</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_set_multi_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum size per batch for pipeline set.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.redis.set-multi-batch-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[set_multi_batch_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of concurrent asynchronous operations can occur.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.redis.max-async-concurrency</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_async_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 3]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of enqueued asynchronous operations allowed.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.redis.max-async-buffer-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_async_buffer_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Client dial timeout.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.redis.dial-timeout</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[dial_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Client read timeout.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.redis.read-timeout</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[read_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 3s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Client write timeout.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.redis.write-timeout</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[write_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 3s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Whether to enable tls for redis connection.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.redis.tls-enabled</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[tls_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Path to the client certificate file, which will be used for</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># authenticating with the server. Also requires the key path to be</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># configured.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.redis.tls-cert-path</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[tls_cert_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Path to the key file for the client certificate. Also requires the</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># client certificate to be configured.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.redis.tls-key-path</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[tls_key_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Path to the CA certificates file to validate server certificate against.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># If not set, the host&#39;s root CA certificates are used.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.redis.tls-ca-path</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[tls_ca_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Override the expected name on the server certificate.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.redis.tls-server-name</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[tls_server_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Skip validating server certificate.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.redis.tls-insecure-skip-verify</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[tls_insecure_skip_verify</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># If not zero then client-side caching is enabled. Client-side caching is</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># when data is stored in memory instead of fetching data each time. See</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># https://redis.io/docs/manual/client-side-caching/ for more info.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.redis.cache-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[cache_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>set_async_circuit_breaker_config</span>:
</span></span><span style=display:flex><span>        <span style=color:#75715e># If true, enable circuit breaker.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.redis.set-async.circuit-breaker.enabled</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Maximum number of requests allowed to pass through when the circuit</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># breaker is half-open. If set to 0, by default it allows 1 request.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.redis.set-async.circuit-breaker.half-open-max-requests</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[half_open_max_requests</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Period of the open state after which the state of the circuit breaker</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># becomes half-open. If set to 0, by default open duration is 60</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># seconds.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.redis.set-async.circuit-breaker.open-duration</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[open_duration</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Minimal requests to trigger the circuit breaker.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.redis.set-async.circuit-breaker.min-requests</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[min_requests</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 50]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Consecutive failures to determine if the circuit breaker should open.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.redis.set-async.circuit-breaker.consecutive-failures</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[consecutive_failures</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 5]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Failure percentage to determine if the circuit breaker should open.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.redis.set-async.circuit-breaker.failure-percent</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[failure_percent</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0.05]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>multilevel</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of concurrent asynchronous operations can occur when</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># backfilling cache items.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.multilevel.max-async-concurrency</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_async_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 3]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of enqueued asynchronous operations allowed when</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># backfilling cache items.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.multilevel.max-async-buffer-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_async_buffer_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of items to backfill per asynchronous operation.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.multilevel.max-backfill-items</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_backfill_items</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># How long to cache list of tenants in the bucket.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.tenants-list-ttl</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[tenants_list_ttl</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 15m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># How long to cache list of blocks for each tenant.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.tenant-blocks-list-ttl</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[tenant_blocks_list_ttl</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># How long to cache list of chunks for a block.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.chunks-list-ttl</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[chunks_list_ttl</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 24h]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># How long to cache information that block metafile exists. Also used for</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># user deletion mark file.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.metafile-exists-ttl</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[metafile_exists_ttl</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2h]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># How long to cache information that block metafile doesn&#39;t exist. Also used</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># for user deletion mark file.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.metafile-doesnt-exist-ttl</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[metafile_doesnt_exist_ttl</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># How long to cache content of the metafile.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.metafile-content-ttl</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[metafile_content_ttl</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 24h]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum size of metafile content to cache in bytes. Caching will be</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># skipped if the content exceeds this size. This is useful to avoid network</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># round trip for large content if the configured caching backend has an hard</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># limit on cached items size (in this case, you should set this limit to the</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># same limit in the caching backend).</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.metafile-max-size-bytes</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[metafile_max_size_bytes</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 1048576]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># How long to cache attributes of the block metafile.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.metafile-attributes-ttl</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[metafile_attributes_ttl</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 168h]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># How long to cache attributes of the block index.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.block-index-attributes-ttl</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[block_index_attributes_ttl</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 168h]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># How long to cache content of the bucket index.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.bucket-index-content-ttl</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[bucket_index_content_ttl</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum size of bucket index content to cache in bytes. Caching will be</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># skipped if the content exceeds this size. This is useful to avoid network</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># round trip for large content if the configured caching backend has an hard</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># limit on cached items size (in this case, you should set this limit to the</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># same limit in the caching backend).</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.bucket-index-max-size-bytes</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[bucket_index_max_size_bytes</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 1048576]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># How long to cache list of partitioned groups for an user. 0 disables</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># caching</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.metadata-cache.partitioned-groups-list-ttl</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[partitioned_groups_list_ttl</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>parquet_labels_cache</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># The parquet labels cache backend type. Single or Multiple cache backend</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># can be provided. Supported values in single cache: memcached, redis,</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># inmemory, and &#39;&#39; (disable). Supported values in multi level cache: a</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># comma-separated list of (inmemory, memcached, redis)</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.backend</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[backend</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>inmemory</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Maximum size in bytes of in-memory parquet-labels cache used (shared</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># between all tenants).</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.inmemory.max-size-bytes</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_size_bytes</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 1073741824]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>memcached</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Comma separated list of memcached addresses. Supported prefixes are:</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># dns+ (looked up as an A/AAAA query), dnssrv+ (looked up as a SRV query,</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># dnssrvnoa+ (looked up as a SRV query, with no A/AAAA lookup made after</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># that).</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.memcached.addresses</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[addresses</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The socket read/write timeout.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.memcached.timeout</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 100ms]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of idle connections that will be maintained per</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># address.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.memcached.max-idle-connections</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_idle_connections</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 16]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of concurrent asynchronous operations can occur.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.memcached.max-async-concurrency</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_async_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 3]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of enqueued asynchronous operations allowed.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.memcached.max-async-buffer-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_async_buffer_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of concurrent connections running get operations. If</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># set to 0, concurrency is unlimited.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.memcached.max-get-multi-concurrency</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_get_multi_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of keys a single underlying get operation should run.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># If more keys are specified, internally keys are split into multiple</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># batches and fetched concurrently, honoring the max concurrency. If set</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># to 0, the max batch size is unlimited.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.memcached.max-get-multi-batch-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_get_multi_batch_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum size of an item stored in memcached. Bigger items are not</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># stored. If set to 0, no maximum size is enforced.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.memcached.max-item-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_item_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 1048576]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Use memcached auto-discovery mechanism provided by some cloud provider</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># like GCP and AWS</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.memcached.auto-discovery</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[auto_discovery</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>set_async_circuit_breaker_config</span>:
</span></span><span style=display:flex><span>        <span style=color:#75715e># If true, enable circuit breaker.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.memcached.set-async.circuit-breaker.enabled</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Maximum number of requests allowed to pass through when the circuit</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># breaker is half-open. If set to 0, by default it allows 1 request.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.memcached.set-async.circuit-breaker.half-open-max-requests</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[half_open_max_requests</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Period of the open state after which the state of the circuit breaker</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># becomes half-open. If set to 0, by default open duration is 60</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># seconds.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.memcached.set-async.circuit-breaker.open-duration</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[open_duration</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Minimal requests to trigger the circuit breaker.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.memcached.set-async.circuit-breaker.min-requests</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[min_requests</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 50]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Consecutive failures to determine if the circuit breaker should open.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.memcached.set-async.circuit-breaker.consecutive-failures</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[consecutive_failures</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 5]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Failure percentage to determine if the circuit breaker should open.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.memcached.set-async.circuit-breaker.failure-percent</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[failure_percent</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0.05]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>redis</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Comma separated list of redis addresses. Supported prefixes are: dns+</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># (looked up as an A/AAAA query), dnssrv+ (looked up as a SRV query,</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># dnssrvnoa+ (looked up as a SRV query, with no A/AAAA lookup made after</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># that).</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.redis.addresses</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[addresses</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Redis username.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.redis.username</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[username</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Redis password.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.redis.password</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[password</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Database to be selected after connecting to the server.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.redis.db</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[db</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Specifies the master&#39;s name. Must be not empty for Redis Sentinel.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.redis.master-name</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[master_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of concurrent GetMulti() operations. If set to 0,</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># concurrency is unlimited.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.redis.max-get-multi-concurrency</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_get_multi_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum size per batch for mget.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.redis.get-multi-batch-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[get_multi_batch_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of concurrent SetMulti() operations. If set to 0,</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># concurrency is unlimited.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.redis.max-set-multi-concurrency</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_set_multi_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum size per batch for pipeline set.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.redis.set-multi-batch-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[set_multi_batch_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of concurrent asynchronous operations can occur.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.redis.max-async-concurrency</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_async_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 3]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of enqueued asynchronous operations allowed.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.redis.max-async-buffer-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_async_buffer_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Client dial timeout.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.redis.dial-timeout</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[dial_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Client read timeout.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.redis.read-timeout</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[read_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 3s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Client write timeout.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.redis.write-timeout</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[write_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 3s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Whether to enable tls for redis connection.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.redis.tls-enabled</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[tls_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Path to the client certificate file, which will be used for</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># authenticating with the server. Also requires the key path to be</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># configured.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.redis.tls-cert-path</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[tls_cert_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Path to the key file for the client certificate. Also requires the</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># client certificate to be configured.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.redis.tls-key-path</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[tls_key_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Path to the CA certificates file to validate server certificate against.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># If not set, the host&#39;s root CA certificates are used.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.redis.tls-ca-path</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[tls_ca_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Override the expected name on the server certificate.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.redis.tls-server-name</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[tls_server_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Skip validating server certificate.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.redis.tls-insecure-skip-verify</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[tls_insecure_skip_verify</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># If not zero then client-side caching is enabled. Client-side caching is</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># when data is stored in memory instead of fetching data each time. See</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># https://redis.io/docs/manual/client-side-caching/ for more info.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.redis.cache-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[cache_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>set_async_circuit_breaker_config</span>:
</span></span><span style=display:flex><span>        <span style=color:#75715e># If true, enable circuit breaker.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.redis.set-async.circuit-breaker.enabled</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Maximum number of requests allowed to pass through when the circuit</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># breaker is half-open. If set to 0, by default it allows 1 request.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.redis.set-async.circuit-breaker.half-open-max-requests</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[half_open_max_requests</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Period of the open state after which the state of the circuit breaker</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># becomes half-open. If set to 0, by default open duration is 60</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># seconds.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.redis.set-async.circuit-breaker.open-duration</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[open_duration</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Minimal requests to trigger the circuit breaker.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.redis.set-async.circuit-breaker.min-requests</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[min_requests</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 50]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Consecutive failures to determine if the circuit breaker should open.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.redis.set-async.circuit-breaker.consecutive-failures</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[consecutive_failures</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 5]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Failure percentage to determine if the circuit breaker should open.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.redis.set-async.circuit-breaker.failure-percent</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[failure_percent</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0.05]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>multilevel</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of concurrent asynchronous operations can occur when</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># backfilling cache items.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.multilevel.max-async-concurrency</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_async_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 3]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of enqueued asynchronous operations allowed when</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># backfilling cache items.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.multilevel.max-async-buffer-size</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_async_buffer_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The maximum number of items to backfill per asynchronous operation.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.multilevel.max-backfill-items</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_backfill_items</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Size of each subrange that bucket object is split into for better caching.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.subrange-size</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[subrange_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 16000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum number of sub-GetRange requests that a single GetRange request can</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># be split into when fetching parquet labels file. Zero or negative value =</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># unlimited number of sub-requests.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.max-get-range-requests</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_get_range_requests</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 3]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># TTL for caching object attributes for parquet labels file.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.attributes-ttl</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[attributes_ttl</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 168h]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># TTL for caching individual subranges.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.parquet-labels-cache.subrange-ttl</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[subrange_ttl</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 24h]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Maximum number of entries in the regex matchers cache. 0 to disable.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.matchers-cache-max-items</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[matchers_cache_max_items</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Duration after which the blocks marked for deletion will be filtered out</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># while fetching blocks. The idea of ignore-deletion-marks-delay is to ignore</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># blocks that are marked for deletion with some delay. This ensures store can</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># still serve blocks that are meant to be deleted but do not have a</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># replacement yet. Default is 6h, half of the default value for</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># -compactor.deletion-delay.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.ignore-deletion-marks-delay</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ignore_deletion_mark_delay</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 6h]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The blocks created since `now() - ignore_blocks_within` will not be synced.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># This should be used together with `-querier.query-store-after` to filter out</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># the blocks that are too new to be queried. A reasonable value for this flag</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># would be `-querier.query-store-after -</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># blocks-storage.bucket-store.bucket-index.max-stale-period` to give some</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># buffer. 0 to disable.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.ignore-blocks-within</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ignore_blocks_within</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The blocks created before `now() - ignore_blocks_before` will not be synced.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># 0 to disable.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.ignore-blocks-before</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ignore_blocks_before</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>bucket_index</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># True to enable querier and store-gateway to discover blocks in the storage</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># via bucket index instead of bucket scanning.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.bucket-index.enabled</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># How frequently a bucket index, which previously failed to load, should be</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># tried to load again. This option is used only by querier.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.bucket-index.update-on-error-interval</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[update_on_error_interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># How long a unused bucket index should be cached. Once this timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># expires, the unused bucket index is removed from the in-memory cache. This</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># option is used only by querier.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.bucket-index.idle-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[idle_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1h]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The maximum allowed age of a bucket index (last updated) before queries</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># start failing because the bucket index is too old. The bucket index is</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># periodically updated by the compactor, while this check is enforced in the</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># querier (at query time).</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.bucket-index.max-stale-period</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_stale_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1h]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># One of concurrent, recursive, bucket_index. When set to concurrent, stores</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># will concurrently issue one call per directory to discover active blocks in</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># the bucket. The recursive strategy iterates through all objects in the</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># bucket, recursively traversing into each directory. This avoids N+1 calls at</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># the expense of having slower bucket iterations. bucket_index strategy can be</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># used in Compactor only and utilizes the existing bucket index to fetch block</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># IDs to sync. This avoids iterating the bucket but can be impacted by delays</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># of cleaner creating bucket index.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.block-discovery-strategy</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[block_discovery_strategy</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;concurrent&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Max size - in bytes - of a chunks pool, used to reduce memory allocations.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The pool is shared across all tenants. 0 to disable the limit.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.max-chunk-pool-bytes</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_chunk_pool_bytes</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 2147483648]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># If enabled, store-gateway will lazily memory-map an index-header only once</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># required by a query.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-header-lazy-loading-enabled</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[index_header_lazy_loading_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># If index-header lazy loading is enabled and this setting is &gt; 0, the</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># store-gateway will release memory-mapped index-headers after &#39;idle timeout&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># inactivity.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.index-header-lazy-loading-idle-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[index_header_lazy_loading_idle_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 20m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># If true, Store Gateway will estimate postings size and try to lazily expand</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># postings if it downloads less data than expanding all postings.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.lazy-expanded-postings-enabled</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[lazy_expanded_postings_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Mark posting group as lazy if it fetches more keys than R * max series the</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># query should fetch. With R set to 100, a posting group which fetches 100K</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># keys will be marked as lazy if the current query only fetches 1000 series.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># This config is only valid if lazy expanded posting is enabled. 0 disables</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># the limit.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.lazy-expanded-posting-group-max-key-series-ratio</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[lazy_expanded_posting_group_max_key_series_ratio</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Controls how many series to fetch per batch in Store Gateway. Default value</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># is 10000.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.series-batch-size</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[series_batch_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>token_bucket_bytes_limiter</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># Token bucket bytes limiter mode. Supported values are: disabled, dryrun,</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># enabled</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.token-bucket-bytes-limiter.mode</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[mode</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;disabled&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Instance token bucket size</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.token-bucket-bytes-limiter.instance-token-bucket-size</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[instance_token_bucket_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 859832320]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># User token bucket size</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.token-bucket-bytes-limiter.user-token-bucket-size</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[user_token_bucket_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 644874240]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Request token bucket size</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -blocks-storage.bucket-store.token-bucket-bytes-limiter.request-token-bucket-size</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[request_token_bucket_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 4194304]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>tsdb</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Local directory to store TSDBs in the ingesters.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.tsdb.dir</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[dir</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;tsdb&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># TSDB blocks range period.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.tsdb.block-ranges-period</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[block_ranges_period</span>: <span style=color:#ae81ff>&lt;list of duration&gt; | default = 2h0m0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># TSDB blocks retention in the ingester before a block is removed. This should</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># be larger than the block_ranges_period and large enough to give</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># store-gateways and queriers enough time to discover newly uploaded blocks.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.tsdb.retention-period</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[retention_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 6h]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># How frequently the TSDB blocks are scanned and new ones are shipped to the</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># storage. 0 means shipping is disabled.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.tsdb.ship-interval</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ship_interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Maximum number of tenants concurrently shipping blocks to the storage.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.tsdb.ship-concurrency</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ship_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># How frequently does Cortex try to compact TSDB head. Block is only created</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># if data covers smallest block range. Must be greater than 0 and max 30</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># minutes. Note that up to 50% jitter is added to the value for the first</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># compaction to avoid ingesters compacting concurrently.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.tsdb.head-compaction-interval</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[head_compaction_interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Maximum number of tenants concurrently compacting TSDB head into a new block</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.tsdb.head-compaction-concurrency</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[head_compaction_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 5]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># If TSDB head is idle for this duration, it is compacted. Note that up to 25%</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># jitter is added to the value to avoid ingesters compacting concurrently. 0</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># means disabled.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.tsdb.head-compaction-idle-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[head_compaction_idle_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1h]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The write buffer size used by the head chunks mapper. Lower values reduce</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># memory utilisation on clusters with a large number of tenants at the cost of</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># increased disk I/O operations.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.tsdb.head-chunks-write-buffer-size-bytes</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[head_chunks_write_buffer_size_bytes</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 4194304]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The number of shards of series to use in TSDB (must be a power of 2).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Reducing this will decrease memory footprint, but can negatively impact</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># performance.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.tsdb.stripe-size</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[stripe_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 16384]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># TSDB WAL type. Supported values are: &#39;snappy&#39;, &#39;zstd&#39; and &#39;&#39; (disable</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># compression)</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.tsdb.wal-compression-type</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[wal_compression_type</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># TSDB WAL segments files max size (bytes).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.tsdb.wal-segment-size-bytes</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[wal_segment_size_bytes</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 134217728]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># True to flush blocks to storage on shutdown. If false, incomplete blocks</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># will be reused after restart.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.tsdb.flush-blocks-on-shutdown</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[flush_blocks_on_shutdown</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># If TSDB has not received any data for this duration, and all blocks from</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># TSDB have been shipped, TSDB is closed and deleted from local disk. If set</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># to positive value, this value should be equal or higher than</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># -querier.query-ingesters-within flag to make sure that TSDB is not closed</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># prematurely, which could cause partial query results. 0 or negative value</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># disables closing of idle TSDB.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.tsdb.close-idle-tsdb-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[close_idle_tsdb_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The size of the in-memory queue used before flushing chunks to the disk.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.tsdb.head-chunks-write-queue-size</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[head_chunks_write_queue_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># limit the number of concurrently opening TSDB&#39;s on startup</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.tsdb.max-tsdb-opening-concurrency-on-startup</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_tsdb_opening_concurrency_on_startup</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Deprecated, use maxExemplars in limits instead. If the MaxExemplars value in</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># limits is set to zero, cortex will fallback on this value. This setting</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># enables support for exemplars in TSDB and sets the maximum number that will</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># be stored. 0 or less means disabled.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.tsdb.max-exemplars</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_exemplars</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># True to enable snapshotting of in-memory TSDB data on disk when shutting</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># down.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.tsdb.memory-snapshot-on-shutdown</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[memory_snapshot_on_shutdown</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># [EXPERIMENTAL] Configures the maximum number of samples per chunk that can</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># be out-of-order.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.tsdb.out-of-order-cap-max</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[out_of_order_cap_max</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 32]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># [EXPERIMENTAL] If enabled, ingesters will cache expanded postings when</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># querying blocks. Caching can be configured separately for the head and</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># compacted blocks.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>expanded_postings_cache</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># If enabled, ingesters will cache expanded postings for the head block.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Only queries with with an equal matcher for metric __name__ are cached.</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>head</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Whether the postings cache is enabled or not</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.expanded_postings_cache.head.enabled</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Max bytes for postings cache</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.expanded_postings_cache.head.max-bytes</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_bytes</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10485760]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># TTL for postings cache</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.expanded_postings_cache.head.ttl</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[ttl</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># If enabled, ingesters will cache expanded postings for the compacted</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># blocks. The cache is shared between all blocks.</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>blocks</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Whether the postings cache is enabled or not</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.expanded_postings_cache.block.enabled</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Max bytes for postings cache</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.expanded_postings_cache.block.max-bytes</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_bytes</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10485760]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># TTL for postings cache</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -blocks-storage.expanded_postings_cache.block.ttl</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[ttl</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>users_scanner</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Strategy to use to scan users. Supported values are: list, user_index.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.users-scanner.strategy</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[strategy</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;list&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Maximum period of time to consider the user index as stale. Fall back to the</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># base scanner if stale. Only valid when strategy is user_index.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.users-scanner.user-index.max-stale-period</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_stale_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1h]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># TTL of the cached users. 0 disables caching and relies on caching at bucket</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># client level.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -blocks-storage.users-scanner.cache-ttl</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[cache_ttl</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span></code></pre></div><h3 id=compactor_config><code>compactor_config</code></h3><p>The <code>compactor_config</code> configures the compactor for the blocks storage.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># List of compaction time ranges.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.block-ranges</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[block_ranges</span>: <span style=color:#ae81ff>&lt;list of duration&gt; | default = 2h0m0s,12h0m0s,24h0m0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Number of Go routines to use when syncing block index and chunks files from</span>
</span></span><span style=display:flex><span><span style=color:#75715e># the long term storage.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.block-sync-concurrency</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[block_sync_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 20]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Number of Go routines to use when syncing block meta files from the long term</span>
</span></span><span style=display:flex><span><span style=color:#75715e># storage.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.meta-sync-concurrency</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[meta_sync_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 20]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Minimum age of fresh (non-compacted) blocks before they are being processed.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Malformed blocks older than the maximum of consistency-delay and 48h0m0s will</span>
</span></span><span style=display:flex><span><span style=color:#75715e># be removed.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.consistency-delay</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[consistency_delay</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Data directory in which to cache blocks and process compactions</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.data-dir</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[data_dir</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;./data&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The frequency at which the compaction runs</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.compaction-interval</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[compaction_interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1h]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># How many times to retry a failed compaction within a single compaction run.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.compaction-retries</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[compaction_retries</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 3]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Max number of concurrent compactions running.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.compaction-concurrency</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[compaction_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 1]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># How frequently compactor should run blocks cleanup and maintenance, as well as</span>
</span></span><span style=display:flex><span><span style=color:#75715e># update the bucket index.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.cleanup-interval</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[cleanup_interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 15m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Max number of tenants for which blocks cleanup and maintenance should run</span>
</span></span><span style=display:flex><span><span style=color:#75715e># concurrently.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.cleanup-concurrency</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[cleanup_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 20]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Time before a block marked for deletion is deleted from bucket. If not 0,</span>
</span></span><span style=display:flex><span><span style=color:#75715e># blocks will be marked for deletion and compactor component will permanently</span>
</span></span><span style=display:flex><span><span style=color:#75715e># delete blocks marked for deletion from the bucket. If 0, blocks will be</span>
</span></span><span style=display:flex><span><span style=color:#75715e># deleted straight away. Note that deleting blocks immediately can cause query</span>
</span></span><span style=display:flex><span><span style=color:#75715e># failures.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.deletion-delay</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[deletion_delay</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 12h]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># For tenants marked for deletion, this is time between deleting of last block,</span>
</span></span><span style=display:flex><span><span style=color:#75715e># and doing final cleanup (marker files, debug files) of the tenant.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.tenant-cleanup-delay</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tenant_cleanup_delay</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 6h]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># When enabled, mark blocks containing index with out-of-order chunks for no</span>
</span></span><span style=display:flex><span><span style=color:#75715e># compact instead of halting the compaction.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.skip-blocks-with-out-of-order-chunks-enabled</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[skip_blocks_with_out_of_order_chunks_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Number of goroutines to use when fetching/uploading block files from object</span>
</span></span><span style=display:flex><span><span style=color:#75715e># storage.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.block-files-concurrency</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[block_files_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Number of goroutines to use when fetching blocks from object storage when</span>
</span></span><span style=display:flex><span><span style=color:#75715e># compacting.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.blocks-fetch-concurrency</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[blocks_fetch_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 3]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># When enabled, at compactor startup the bucket will be scanned and all found</span>
</span></span><span style=display:flex><span><span style=color:#75715e># deletion marks inside the block location will be copied to the markers global</span>
</span></span><span style=display:flex><span><span style=color:#75715e># location too. This option can (and should) be safely disabled as soon as the</span>
</span></span><span style=display:flex><span><span style=color:#75715e># compactor has successfully run at least once.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.block-deletion-marks-migration-enabled</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[block_deletion_marks_migration_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Comma separated list of tenants that can be compacted. If specified, only</span>
</span></span><span style=display:flex><span><span style=color:#75715e># these tenants will be compacted by compactor, otherwise all tenants can be</span>
</span></span><span style=display:flex><span><span style=color:#75715e># compacted. Subject to sharding.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.enabled-tenants</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[enabled_tenants</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Comma separated list of tenants that cannot be compacted by this compactor. If</span>
</span></span><span style=display:flex><span><span style=color:#75715e># specified, and compactor would normally pick given tenant for compaction (via</span>
</span></span><span style=display:flex><span><span style=color:#75715e># -compactor.enabled-tenants or sharding), it will be ignored instead.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.disabled-tenants</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[disabled_tenants</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Shard tenants across multiple compactor instances. Sharding is required if you</span>
</span></span><span style=display:flex><span><span style=color:#75715e># run multiple compactor instances, in order to coordinate compactions and avoid</span>
</span></span><span style=display:flex><span><span style=color:#75715e># race conditions leading to the same tenant blocks simultaneously compacted by</span>
</span></span><span style=display:flex><span><span style=color:#75715e># different instances.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.sharding-enabled</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[sharding_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The sharding strategy to use. Supported values are: default, shuffle-sharding.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.sharding-strategy</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[sharding_strategy</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;default&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>sharding_ring</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>kvstore</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># Backend storage to use for the ring. Supported values are: consul,</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># dynamodb, etcd, inmemory, memberlist, multi.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -compactor.ring.store</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[store</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;consul&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The prefix for the keys in the store. Should end with a /.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -compactor.ring.prefix</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[prefix</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;collectors/&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The consul_config configures the consul client.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The CLI flags prefix for this block config is: compactor.ring</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[consul</span>: <span style=color:#ae81ff>&lt;consul_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>dynamodb</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Region to access dynamodb.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -compactor.ring.dynamodb.region</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[region</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Table name to use on dynamodb.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -compactor.ring.dynamodb.table-name</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[table_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Time to expire items on dynamodb.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -compactor.ring.dynamodb.ttl-time</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[ttl</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Time to refresh local ring with information on dynamodb.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -compactor.ring.dynamodb.puller-sync-time</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[puller_sync_time</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Maximum number of retries for DDB KV CAS.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -compactor.ring.dynamodb.max-cas-retries</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_cas_retries</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Timeout of dynamoDbClient requests. Default is 2m.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -compactor.ring.dynamodb.timeout</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The etcd_config configures the etcd client.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The CLI flags prefix for this block config is: compactor.ring</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[etcd</span>: <span style=color:#ae81ff>&lt;etcd_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>multi</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Primary backend storage used by multi-client.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -compactor.ring.multi.primary</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[primary</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Secondary backend storage used by multi-client.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -compactor.ring.multi.secondary</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[secondary</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Mirror writes to secondary store.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -compactor.ring.multi.mirror-enabled</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[mirror_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Timeout for storing value to secondary store.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -compactor.ring.multi.mirror-timeout</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[mirror_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Period at which to heartbeat to the ring. 0 = disabled.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -compactor.ring.heartbeat-period</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[heartbeat_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The heartbeat timeout after which compactors are considered unhealthy within</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># the ring. 0 = never (timeout disabled).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -compactor.ring.heartbeat-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[heartbeat_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Time since last heartbeat before compactor will be removed from ring. 0 to</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># disable</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -compactor.auto-forget-delay</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[auto_forget_delay</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Set to true to enable ring detailed metrics. These metrics provide detailed</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># information, such as token count and ownership per tenant. Disabling them</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># can significantly decrease the number of metrics emitted.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -compactor.ring.detailed-metrics-enabled</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[detailed_metrics_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Minimum time to wait for ring stability at startup. 0 to disable.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -compactor.ring.wait-stability-min-duration</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[wait_stability_min_duration</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Maximum time to wait for ring stability at startup. If the compactor ring</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># keeps changing after this period of time, the compactor will start anyway.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -compactor.ring.wait-stability-max-duration</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[wait_stability_max_duration</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Name of network interface to read address from.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -compactor.ring.instance-interface-names</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[instance_interface_names</span>: <span style=color:#ae81ff>&lt;list of string&gt; | default = [eth0 en0]]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># File path where tokens are stored. If empty, tokens are not stored at</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># shutdown and restored at startup.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -compactor.ring.tokens-file-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tokens_file_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Unregister the compactor during shutdown if true.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -compactor.ring.unregister-on-shutdown</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[unregister_on_shutdown</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Timeout for waiting on compactor to become ACTIVE in the ring.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -compactor.ring.wait-active-instance-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[wait_active_instance_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># How long shuffle sharding planner would wait before running planning code.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># This delay would prevent double compaction when two compactors claimed same</span>
</span></span><span style=display:flex><span><span style=color:#75715e># partition in grouper at same time.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.sharding-planner-delay</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[sharding_planner_delay</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The compaction strategy to use. Supported values are: default, partitioning.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.compaction-strategy</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[compaction_strategy</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;default&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># How long compaction visit marker file should be considered as expired and able</span>
</span></span><span style=display:flex><span><span style=color:#75715e># to be picked up by compactor again.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.compaction-visit-marker-timeout</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[compaction_visit_marker_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># How frequently compaction visit marker file should be updated duration</span>
</span></span><span style=display:flex><span><span style=color:#75715e># compaction.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.compaction-visit-marker-file-update-interval</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[compaction_visit_marker_file_update_interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># How long cleaner visit marker file should be considered as expired and able to</span>
</span></span><span style=display:flex><span><span style=color:#75715e># be picked up by cleaner again. The value should be smaller than</span>
</span></span><span style=display:flex><span><span style=color:#75715e># -compactor.cleanup-interval</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.cleaner-visit-marker-timeout</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[cleaner_visit_marker_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># How frequently cleaner visit marker file should be updated when cleaning user.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.cleaner-visit-marker-file-update-interval</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[cleaner_visit_marker_file_update_interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># When enabled, index verification will ignore out of order label names.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.accept-malformed-index</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[accept_malformed_index</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># When enabled, caching bucket will be used for compactor, except cleaner</span>
</span></span><span style=display:flex><span><span style=color:#75715e># service, which serves as the source of truth for block status</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.caching-bucket-enabled</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[caching_bucket_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># When enabled, caching bucket will be used for cleaner</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.cleaner-caching-bucket-enabled</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[cleaner_caching_bucket_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span></code></pre></div><h3 id=configs_config><code>configs_config</code></h3><p>The <code>configs_config</code> configures the Cortex Configs DB and API.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>database</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># URI where the database can be found (for dev you can use memory://)</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -configs.database.uri</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[uri</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;postgres://postgres@configs-db.weave.local/configs?sslmode=disable&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Path where the database migration files can be found</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -configs.database.migrations-dir</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[migrations_dir</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># File containing password (username goes in URI)</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -configs.database.password-file</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[password_file</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>api</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>notifications</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># Disable Email notifications for Alertmanager.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -configs.notifications.disable-email</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[disable_email</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Disable WebHook notifications for Alertmanager.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -configs.notifications.disable-webhook</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[disable_webhook</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span></code></pre></div><h3 id=configstore_config><code>configstore_config</code></h3><p>The <code>configstore_config</code> configures the config database storing rules and alerts, and is used by the Cortex alertmanager. The supported CLI flags <code>&lt;prefix></code> used to reference this config block are:</p><ul><li><code>alertmanager-storage</code></li><li><code>ruler-storage</code></li></ul><p> </p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># URL of configs API server.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.configs.url</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[configs_api_url</span>: <span style=color:#ae81ff>&lt;url&gt; | default = ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Timeout for requests to Weave Cloud configs service.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.configs.client-timeout</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[client_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Path to the client certificate file, which will be used for authenticating</span>
</span></span><span style=display:flex><span><span style=color:#75715e># with the server. Also requires the key path to be configured.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.configs.tls-cert-path</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tls_cert_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Path to the key file for the client certificate. Also requires the client</span>
</span></span><span style=display:flex><span><span style=color:#75715e># certificate to be configured.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.configs.tls-key-path</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tls_key_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Path to the CA certificates file to validate server certificate against. If</span>
</span></span><span style=display:flex><span><span style=color:#75715e># not set, the host&#39;s root CA certificates are used.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.configs.tls-ca-path</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tls_ca_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Override the expected name on the server certificate.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.configs.tls-server-name</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tls_server_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Skip validating server certificate.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.configs.tls-insecure-skip-verify</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tls_insecure_skip_verify</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span></code></pre></div><h3 id=consul_config><code>consul_config</code></h3><p>The <code>consul_config</code> configures the consul client. The supported CLI flags <code>&lt;prefix></code> used to reference this config block are:</p><ul><li><em>no prefix</em></li><li><code>alertmanager.sharding-ring</code></li><li><code>compactor.ring</code></li><li><code>distributor.ha-tracker</code></li><li><code>distributor.ring</code></li><li><code>parquet-converter.ring</code></li><li><code>ruler.ring</code></li><li><code>store-gateway.sharding-ring</code></li></ul><p> </p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># Hostname and port of Consul.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.consul.hostname</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[host</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;localhost:8500&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># ACL Token used to interact with Consul.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.consul.acl-token</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[acl_token</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># HTTP timeout when talking to Consul.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.consul.client-timeout</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[http_client_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 20s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Enable consistent reads to Consul.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.consul.consistent-reads</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[consistent_reads</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Rate limit when watching key or prefix in Consul, in requests per second. 0</span>
</span></span><span style=display:flex><span><span style=color:#75715e># disables the rate limit.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.consul.watch-rate-limit</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[watch_rate_limit</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 1]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Burst size used in rate limit. Values less than 1 are treated as 1.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.consul.watch-burst-size</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[watch_burst_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 1]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Enable TLS.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.consul.tls-enabled</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tls_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Path to the client certificate file, which will be used for authenticating</span>
</span></span><span style=display:flex><span><span style=color:#75715e># with the server. Also requires the key path to be configured.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.consul.tls-cert-path</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tls_cert_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Path to the key file for the client certificate. Also requires the client</span>
</span></span><span style=display:flex><span><span style=color:#75715e># certificate to be configured.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.consul.tls-key-path</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tls_key_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Path to the CA certificates file to validate server certificate against. If</span>
</span></span><span style=display:flex><span><span style=color:#75715e># not set, the host&#39;s root CA certificates are used.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.consul.tls-ca-path</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tls_ca_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Override the expected name on the server certificate.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.consul.tls-server-name</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tls_server_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Skip validating server certificate.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.consul.tls-insecure-skip-verify</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tls_insecure_skip_verify</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span></code></pre></div><h3 id=distributor_config><code>distributor_config</code></h3><p>The <code>distributor_config</code> configures the Cortex distributor.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>pool</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># How frequently to clean up clients for ingesters that have gone away.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -distributor.client-cleanup-period</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[client_cleanup_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 15s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Run a health check on each ingester client during periodic cleanup.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -distributor.health-check-ingesters</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[health_check_ingesters</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>ha_tracker</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Enable the distributors HA tracker so that it can accept samples from</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Prometheus HA replicas gracefully (requires labels).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -distributor.ha-tracker.enable</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[enable_ha_tracker</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Update the timestamp in the KV store for a given cluster/replica only after</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># this amount of time has passed since the current stored timestamp.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -distributor.ha-tracker.update-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ha_tracker_update_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 15s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Maximum jitter applied to the update timeout, in order to spread the HA</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># heartbeats over time.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -distributor.ha-tracker.update-timeout-jitter-max</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ha_tracker_update_timeout_jitter_max</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># If we don&#39;t receive any samples from the accepted replica for a cluster in</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># this amount of time we will failover to the next replica we receive a sample</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># from. This value must be greater than the update timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -distributor.ha-tracker.failover-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ha_tracker_failover_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 30s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Backend storage to use for the ring. Please be aware that memberlist is not</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># supported by the HA tracker since gossip propagation is too slow for HA</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># purposes.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>kvstore</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># Backend storage to use for the ring. Supported values are: consul,</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># dynamodb, etcd, inmemory, memberlist, multi.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -distributor.ha-tracker.store</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[store</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;consul&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The prefix for the keys in the store. Should end with a /.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -distributor.ha-tracker.prefix</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[prefix</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;ha-tracker/&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The consul_config configures the consul client.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The CLI flags prefix for this block config is: distributor.ha-tracker</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[consul</span>: <span style=color:#ae81ff>&lt;consul_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>dynamodb</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Region to access dynamodb.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -distributor.ha-tracker.dynamodb.region</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[region</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Table name to use on dynamodb.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -distributor.ha-tracker.dynamodb.table-name</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[table_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Time to expire items on dynamodb.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -distributor.ha-tracker.dynamodb.ttl-time</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[ttl</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Time to refresh local ring with information on dynamodb.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -distributor.ha-tracker.dynamodb.puller-sync-time</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[puller_sync_time</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Maximum number of retries for DDB KV CAS.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -distributor.ha-tracker.dynamodb.max-cas-retries</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_cas_retries</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Timeout of dynamoDbClient requests. Default is 2m.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -distributor.ha-tracker.dynamodb.timeout</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The etcd_config configures the etcd client.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The CLI flags prefix for this block config is: distributor.ha-tracker</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[etcd</span>: <span style=color:#ae81ff>&lt;etcd_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>multi</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Primary backend storage used by multi-client.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -distributor.ha-tracker.multi.primary</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[primary</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Secondary backend storage used by multi-client.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -distributor.ha-tracker.multi.secondary</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[secondary</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Mirror writes to secondary store.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -distributor.ha-tracker.multi.mirror-enabled</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[mirror_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Timeout for storing value to secondary store.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -distributor.ha-tracker.multi.mirror-timeout</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[mirror_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># remote_write API max receive message size (bytes).</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -distributor.max-recv-msg-size</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_recv_msg_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 104857600]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum OTLP request size in bytes that the Distributor can accept.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -distributor.otlp-max-recv-msg-size</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[otlp_max_recv_msg_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 104857600]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Timeout for downstream ingesters.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -distributor.remote-timeout</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[remote_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Time to wait before sending more than the minimum successful query requests.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -distributor.extra-query-delay</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[extra_queue_delay</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The sharding strategy to use. Supported values are: default, shuffle-sharding.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -distributor.sharding-strategy</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[sharding_strategy</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;default&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Distribute samples based on all labels, as opposed to solely by user and</span>
</span></span><span style=display:flex><span><span style=color:#75715e># metric name.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -distributor.shard-by-all-labels</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[shard_by_all_labels</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Try writing to an additional ingester in the presence of an ingester not in</span>
</span></span><span style=display:flex><span><span style=color:#75715e># the ACTIVE state. It is useful to disable this along with</span>
</span></span><span style=display:flex><span><span style=color:#75715e># -ingester.unregister-on-shutdown=false in order to not spread samples to extra</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ingesters during rolling restarts with consistent naming.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -distributor.extend-writes</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[extend_writes</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># EXPERIMENTAL: If enabled, sign the write request between distributors and</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ingesters.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -distributor.sign-write-requests</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[sign_write_requests</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># EXPERIMENTAL: If enabled, distributor would use stream connection to send</span>
</span></span><span style=display:flex><span><span style=color:#75715e># requests to ingesters.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -distributor.use-stream-push</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[use_stream_push</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># EXPERIMENTAL: If true, accept prometheus remote write v2 protocol push</span>
</span></span><span style=display:flex><span><span style=color:#75715e># request.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -distributor.remote-writev2-enabled</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[remote_writev2_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>ring</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>kvstore</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># Backend storage to use for the ring. Supported values are: consul,</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># dynamodb, etcd, inmemory, memberlist, multi.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -distributor.ring.store</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[store</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;consul&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The prefix for the keys in the store. Should end with a /.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -distributor.ring.prefix</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[prefix</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;collectors/&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The consul_config configures the consul client.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The CLI flags prefix for this block config is: distributor.ring</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[consul</span>: <span style=color:#ae81ff>&lt;consul_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>dynamodb</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Region to access dynamodb.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -distributor.ring.dynamodb.region</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[region</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Table name to use on dynamodb.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -distributor.ring.dynamodb.table-name</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[table_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Time to expire items on dynamodb.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -distributor.ring.dynamodb.ttl-time</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[ttl</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Time to refresh local ring with information on dynamodb.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -distributor.ring.dynamodb.puller-sync-time</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[puller_sync_time</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Maximum number of retries for DDB KV CAS.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -distributor.ring.dynamodb.max-cas-retries</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_cas_retries</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Timeout of dynamoDbClient requests. Default is 2m.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -distributor.ring.dynamodb.timeout</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The etcd_config configures the etcd client.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The CLI flags prefix for this block config is: distributor.ring</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[etcd</span>: <span style=color:#ae81ff>&lt;etcd_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>multi</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Primary backend storage used by multi-client.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -distributor.ring.multi.primary</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[primary</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Secondary backend storage used by multi-client.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -distributor.ring.multi.secondary</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[secondary</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Mirror writes to secondary store.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -distributor.ring.multi.mirror-enabled</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[mirror_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Timeout for storing value to secondary store.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -distributor.ring.multi.mirror-timeout</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[mirror_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Period at which to heartbeat to the ring. 0 = disabled.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -distributor.ring.heartbeat-period</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[heartbeat_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The heartbeat timeout after which distributors are considered unhealthy</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># within the ring. 0 = never (timeout disabled).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -distributor.ring.heartbeat-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[heartbeat_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Set to true to enable ring detailed metrics. These metrics provide detailed</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># information, such as token count and ownership per tenant. Disabling them</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># can significantly decrease the number of metrics emitted.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -distributor.ring.detailed-metrics-enabled</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[detailed_metrics_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Name of network interface to read address from.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -distributor.ring.instance-interface-names</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[instance_interface_names</span>: <span style=color:#ae81ff>&lt;list of string&gt; | default = [eth0 en0]]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># EXPERIMENTAL: Number of go routines to handle push calls from distributors to</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ingesters. When no workers are available, a new goroutine will be spawned</span>
</span></span><span style=display:flex><span><span style=color:#75715e># automatically. If set to 0 (default), workers are disabled, and a new</span>
</span></span><span style=display:flex><span><span style=color:#75715e># goroutine will be created for each push request.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -distributor.num-push-workers</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[num_push_workers</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>instance_limits</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Max ingestion rate (samples/sec) that this distributor will accept. This</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># limit is per-distributor, not per-tenant. Additional push requests will be</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># rejected. Current ingestion rate is computed as exponentially weighted</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># moving average, updated every second. 0 = unlimited.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -distributor.instance-limits.max-ingestion-rate</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_ingestion_rate</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Max inflight push requests that this distributor can handle. This limit is</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># per-distributor, not per-tenant. Additional requests will be rejected. 0 =</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># unlimited.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -distributor.instance-limits.max-inflight-push-requests</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_inflight_push_requests</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Max inflight ingester client requests that this distributor can handle. This</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># limit is per-distributor, not per-tenant. Additional requests will be</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># rejected. 0 = unlimited.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -distributor.instance-limits.max-inflight-client-requests</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_inflight_client_requests</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>otlp</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># If true, all resource attributes are converted to labels.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -distributor.otlp.convert-all-attributes</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[convert_all_attributes</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># If true, a target_info metric is not ingested. (refer to:</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># https://github.com/prometheus/OpenMetrics/blob/main/specification/OpenMetrics.md#supporting-target-metadata-in-both-push-based-and-pull-based-systems)</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -distributor.otlp.disable-target-info</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[disable_target_info</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># EXPERIMENTAL: If true, delta temporality otlp metrics to be ingested.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -distributor.otlp.allow-delta-temporality</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[allow_delta_temporality</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># EXPERIMENTAL: If true, the &#39;__type__&#39; and &#39;__unit__&#39; labels are added for</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># the OTLP metrics.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -distributor.otlp.enable-type-and-unit-labels</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[enable_type_and_unit_labels</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span></code></pre></div><h3 id=etcd_config><code>etcd_config</code></h3><p>The <code>etcd_config</code> configures the etcd client. The supported CLI flags <code>&lt;prefix></code> used to reference this config block are:</p><ul><li><em>no prefix</em></li><li><code>alertmanager.sharding-ring</code></li><li><code>compactor.ring</code></li><li><code>distributor.ha-tracker</code></li><li><code>distributor.ring</code></li><li><code>parquet-converter.ring</code></li><li><code>ruler.ring</code></li><li><code>store-gateway.sharding-ring</code></li></ul><p> </p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># The etcd endpoints to connect to.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.etcd.endpoints</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[endpoints</span>: <span style=color:#ae81ff>&lt;list of string&gt; | default = []]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The dial timeout for the etcd connection.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.etcd.dial-timeout</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[dial_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The maximum number of retries to do for failed ops.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.etcd.max-retries</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_retries</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Enable TLS.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.etcd.tls-enabled</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tls_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Path to the client certificate file, which will be used for authenticating</span>
</span></span><span style=display:flex><span><span style=color:#75715e># with the server. Also requires the key path to be configured.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.etcd.tls-cert-path</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tls_cert_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Path to the key file for the client certificate. Also requires the client</span>
</span></span><span style=display:flex><span><span style=color:#75715e># certificate to be configured.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.etcd.tls-key-path</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tls_key_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Path to the CA certificates file to validate server certificate against. If</span>
</span></span><span style=display:flex><span><span style=color:#75715e># not set, the host&#39;s root CA certificates are used.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.etcd.tls-ca-path</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tls_ca_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Override the expected name on the server certificate.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.etcd.tls-server-name</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tls_server_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Skip validating server certificate.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.etcd.tls-insecure-skip-verify</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tls_insecure_skip_verify</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Etcd username.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.etcd.username</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[username</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Etcd password.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.etcd.password</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[password</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Send Keepalive pings with no streams.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.etcd.ping-without-stream-allowed</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ping-without-stream-allowed</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span></code></pre></div><h3 id=fifo_cache_config><code>fifo_cache_config</code></h3><p>The <code>fifo_cache_config</code> configures the local in-memory cache.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># Maximum memory size of the cache in bytes. A unit suffix (KB, MB, GB) may be</span>
</span></span><span style=display:flex><span><span style=color:#75715e># applied.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.fifocache.max-size-bytes</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_size_bytes</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum number of entries in the cache.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.fifocache.max-size-items</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_size_items</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The expiry duration for the cache.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.fifocache.duration</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[validity</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Deprecated (use max-size-items or max-size-bytes instead): The number of</span>
</span></span><span style=display:flex><span><span style=color:#75715e># entries to cache.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.fifocache.size</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span></code></pre></div><h3 id=flusher_config><code>flusher_config</code></h3><p>The <code>flusher_config</code> configures the WAL flusher target, used to manually run one-time flushes when scaling down ingesters.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># Stop Cortex after flush has finished. If false, Cortex process will keep</span>
</span></span><span style=display:flex><span><span style=color:#75715e># running, doing nothing.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -flusher.exit-after-flush</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[exit_after_flush</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span></code></pre></div><h3 id=frontend_worker_config><code>frontend_worker_config</code></h3><p>The <code>frontend_worker_config</code> configures the worker - running within the Cortex querier - picking up and executing queries enqueued by the query-frontend or query-scheduler.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># Address of query frontend service, in host:port format. If</span>
</span></span><span style=display:flex><span><span style=color:#75715e># -querier.scheduler-address is set as well, querier will use scheduler instead.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Only one of -querier.frontend-address or -querier.scheduler-address can be</span>
</span></span><span style=display:flex><span><span style=color:#75715e># set. If neither is set, queries are only received via HTTP endpoint.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.frontend-address</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[frontend_address</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Hostname (and port) of scheduler that querier will periodically resolve,</span>
</span></span><span style=display:flex><span><span style=color:#75715e># connect to and receive queries from. Only one of -querier.frontend-address or</span>
</span></span><span style=display:flex><span><span style=color:#75715e># -querier.scheduler-address can be set. If neither is set, queries are only</span>
</span></span><span style=display:flex><span><span style=color:#75715e># received via HTTP endpoint.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.scheduler-address</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[scheduler_address</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># How often to query DNS for query-frontend or query-scheduler address.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.dns-lookup-period</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[dns_lookup_duration</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Number of simultaneous queries to process per query-frontend or</span>
</span></span><span style=display:flex><span><span style=color:#75715e># query-scheduler.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.worker-parallelism</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[parallelism</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Force worker concurrency to match the -querier.max-concurrent option.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Overrides querier.worker-parallelism.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.worker-match-max-concurrent</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[match_max_concurrent</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Querier ID, sent to frontend service to identify requests from the same</span>
</span></span><span style=display:flex><span><span style=color:#75715e># querier. Defaults to hostname.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.id</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>grpc_client_config</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># gRPC client max receive message size (bytes).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -querier.frontend-client.grpc-max-recv-msg-size</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_recv_msg_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 104857600]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># gRPC client max send message size (bytes).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -querier.frontend-client.grpc-max-send-msg-size</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_send_msg_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 16777216]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Use compression when sending messages. Supported values are: &#39;gzip&#39;,</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># &#39;snappy&#39;, &#39;snappy-block&#39; ,&#39;zstd&#39; and &#39;&#39; (disable compression)</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -querier.frontend-client.grpc-compression</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[grpc_compression</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Rate limit for gRPC client; 0 means disabled.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -querier.frontend-client.grpc-client-rate-limit</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[rate_limit</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Rate limit burst for gRPC client.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -querier.frontend-client.grpc-client-rate-limit-burst</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[rate_limit_burst</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Enable backoff and retry when we hit ratelimits.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -querier.frontend-client.backoff-on-ratelimits</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[backoff_on_ratelimits</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>backoff_config</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># Minimum delay when backing off.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -querier.frontend-client.backoff-min-period</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[min_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 100ms]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum delay when backing off.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -querier.frontend-client.backoff-max-period</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Number of times to backoff and retry before failing.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -querier.frontend-client.backoff-retries</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_retries</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Enable TLS in the GRPC client. This flag needs to be enabled when any other</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># TLS flag is set. If set to false, insecure connection to gRPC server will be</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># used.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -querier.frontend-client.tls-enabled</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Path to the client certificate file, which will be used for authenticating</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># with the server. Also requires the key path to be configured.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -querier.frontend-client.tls-cert-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_cert_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Path to the key file for the client certificate. Also requires the client</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># certificate to be configured.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -querier.frontend-client.tls-key-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_key_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Path to the CA certificates file to validate server certificate against. If</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># not set, the host&#39;s root CA certificates are used.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -querier.frontend-client.tls-ca-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_ca_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Override the expected name on the server certificate.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -querier.frontend-client.tls-server-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_server_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Skip validating server certificate.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -querier.frontend-client.tls-insecure-skip-verify</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_insecure_skip_verify</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The maximum amount of time to establish a connection. A value of 0 means</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># using default gRPC client connect timeout 20s.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -querier.frontend-client.connect-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[connect_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Name of network interface to read address from.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.instance-interface-names</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[instance_interface_names</span>: <span style=color:#ae81ff>&lt;list of string&gt; | default = [eth0 en0]]</span>
</span></span></code></pre></div><h3 id=ingester_config><code>ingester_config</code></h3><p>The <code>ingester_config</code> configures the Cortex ingester.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>lifecycler</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>ring</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>kvstore</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Backend storage to use for the ring. Supported values are: consul,</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># dynamodb, etcd, inmemory, memberlist, multi.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -ring.store</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[store</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;consul&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The prefix for the keys in the store. Should end with a /.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -ring.prefix</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[prefix</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;collectors/&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The consul_config configures the consul client.</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[consul</span>: <span style=color:#ae81ff>&lt;consul_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>dynamodb</span>:
</span></span><span style=display:flex><span>        <span style=color:#75715e># Region to access dynamodb.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -dynamodb.region</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[region</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Table name to use on dynamodb.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -dynamodb.table-name</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[table_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Time to expire items on dynamodb.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -dynamodb.ttl-time</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[ttl</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Time to refresh local ring with information on dynamodb.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -dynamodb.puller-sync-time</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[puller_sync_time</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Maximum number of retries for DDB KV CAS.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -dynamodb.max-cas-retries</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[max_cas_retries</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Timeout of dynamoDbClient requests. Default is 2m.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -dynamodb.timeout</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># The etcd_config configures the etcd client.</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[etcd</span>: <span style=color:#ae81ff>&lt;etcd_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>multi</span>:
</span></span><span style=display:flex><span>        <span style=color:#75715e># Primary backend storage used by multi-client.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -multi.primary</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[primary</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Secondary backend storage used by multi-client.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -multi.secondary</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[secondary</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Mirror writes to secondary store.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -multi.mirror-enabled</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[mirror_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Timeout for storing value to secondary store.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># CLI flag: -multi.mirror-timeout</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>[mirror_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The heartbeat timeout after which ingesters are skipped for reads/writes.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># 0 = never (timeout disabled).</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ring.heartbeat-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[heartbeat_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The number of ingesters to write to and read from.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -distributor.replication-factor</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[replication_factor</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 3]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># True to enable the zone-awareness and replicate ingested samples across</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># different availability zones.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -distributor.zone-awareness-enabled</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[zone_awareness_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Comma-separated list of zones to exclude from the ring. Instances in</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># excluded zones will be filtered out from the ring.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -distributor.excluded-zones</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[excluded_zones</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Set to true to enable ring detailed metrics. These metrics provide</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># detailed information, such as token count and ownership per tenant.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Disabling them can significantly decrease the number of metrics emitted by</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># the distributors.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ring.detailed-metrics-enabled</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[detailed_metrics_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Number of tokens for each ingester.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.num-tokens</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[num_tokens</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 128]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># EXPERIMENTAL: Algorithm used to generate new ring tokens. Supported Values:</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># random,minimize-spread</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.tokens-generator-strategy</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tokens_generator_strategy</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;random&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Period at which to heartbeat to consul. 0 = disabled.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.heartbeat-period</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[heartbeat_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Observe tokens after generating to resolve collisions. Useful when using</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># gossiping ring.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.observe-period</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[observe_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Period to wait for a claim from another member; will join automatically</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># after this.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.join-after</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[join_after</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Minimum duration to wait after the internal readiness checks have passed but</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># before succeeding the readiness endpoint. This is used to slowdown</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># deployment controllers (eg. Kubernetes) after an instance is ready and</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># before they proceed with a rolling update, to give the rest of the cluster</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># instances enough time to receive ring updates.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.min-ready-duration</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[min_ready_duration</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 15s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Name of network interface to read address from.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.lifecycler.interface</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[interface_names</span>: <span style=color:#ae81ff>&lt;list of string&gt; | default = [eth0 en0]]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Duration to sleep for before exiting, to ensure metrics are scraped.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.final-sleep</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[final_sleep</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 30s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># File path where tokens are stored. If empty, tokens are not stored at</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># shutdown and restored at startup.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.tokens-file-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tokens_file_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The availability zone where this instance is running.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.availability-zone</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[availability_zone</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Unregister from the ring upon clean shutdown. It can be useful to disable</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># for rolling restarts with consistent naming in conjunction with</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># -distributor.extend-writes=false.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.unregister-on-shutdown</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[unregister_on_shutdown</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># When enabled the readiness probe succeeds only after all instances are</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># ACTIVE and healthy in the ring, otherwise only the instance itself is</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># checked. This option should be disabled if in your cluster multiple</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># instances can be rolled out simultaneously, otherwise rolling updates may be</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># slowed down.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.readiness-check-ring-health</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[readiness_check_ring_health</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Period at which metadata we have not seen will remain in memory before being</span>
</span></span><span style=display:flex><span><span style=color:#75715e># deleted.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ingester.metadata-retain-period</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[metadata_retain_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Period with which to update the per-user ingestion rates.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ingester.rate-update-period</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[rate_update_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 15s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Period with which to update the per-user tsdb config.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ingester.user-tsdb-configs-update-period</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[user_tsdb_configs_update_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 15s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Enable tracking of active series and export them as metrics.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ingester.active-series-metrics-enabled</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[active_series_metrics_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># How often to update active series metrics.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ingester.active-series-metrics-update-period</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[active_series_metrics_update_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># After what time a series is considered to be inactive.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ingester.active-series-metrics-idle-timeout</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[active_series_metrics_idle_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Enable uploading compacted blocks.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ingester.upload-compacted-blocks-enabled</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[upload_compacted_blocks_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>instance_limits</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Max ingestion rate (samples/sec) that ingester will accept. This limit is</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># per-ingester, not per-tenant. Additional push requests will be rejected.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Current ingestion rate is computed as exponentially weighted moving average,</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># updated every second. This limit only works when using blocks engine. 0 =</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># unlimited.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.instance-limits.max-ingestion-rate</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_ingestion_rate</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Max users that this ingester can hold. Requests from additional users will</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># be rejected. This limit only works when using blocks engine. 0 = unlimited.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.instance-limits.max-tenants</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_tenants</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Max series that this ingester can hold (across all tenants). Requests to</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># create additional series will be rejected. This limit only works when using</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># blocks engine. 0 = unlimited.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.instance-limits.max-series</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_series</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Max inflight push requests that this ingester can handle (across all</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># tenants). Additional requests will be rejected. 0 = unlimited.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.instance-limits.max-inflight-push-requests</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_inflight_push_requests</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Max inflight query requests that this ingester can handle (across all</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># tenants). Additional requests will be rejected. 0 = unlimited.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.instance-limits.max-inflight-query-requests</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_inflight_query_requests</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Comma-separated list of metric names, for which</span>
</span></span><span style=display:flex><span><span style=color:#75715e># -ingester.max-series-per-metric and -ingester.max-global-series-per-metric</span>
</span></span><span style=display:flex><span><span style=color:#75715e># limits will be ignored. Does not affect max-series-per-user or</span>
</span></span><span style=display:flex><span><span style=color:#75715e># max-global-series-per-metric limits.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ingester.ignore-series-limit-for-metric-names</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ignore_series_limit_for_metric_names</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Customize the message contained in limit errors</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ingester.admin-limit-message</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[admin_limit_message</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;please contact administrator to raise it&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Experimental: Enable string interning for metrics labels.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ingester.labels-string-interning-enabled</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[labels_string_interning_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Disable trimming of matching series chunks based on query Start and End time.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># When disabled, the result may contain samples outside the queried time range</span>
</span></span><span style=display:flex><span><span style=color:#75715e># but select performances may be improved. Note that certain query results might</span>
</span></span><span style=display:flex><span><span style=color:#75715e># change by changing this option.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ingester.disable-chunk-trimming</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[disable_chunk_trimming</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum number of entries in the regex matchers cache. 0 to disable.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ingester.matchers-cache-max-items</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[matchers_cache_max_items</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># If enabled, the metadata API returns all metadata regardless of the limits.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ingester.skip-metadata-limits</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[skip_metadata_limits</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>query_protection</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>rejection</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>threshold</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># EXPERIMENTAL: Max CPU utilization that this ingester can reach before</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># rejecting new query request (across all tenants) in percentage, between</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># 0 and 1. monitored_resources config must include the resource type. 0 to</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># disable.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -ingester.query-protection.rejection.threshold.cpu-utilization</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[cpu_utilization</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># EXPERIMENTAL: Max heap utilization that this ingester can reach before</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># rejecting new query request (across all tenants) in percentage, between</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># 0 and 1. monitored_resources config must include the resource type. 0 to</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># disable.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -ingester.query-protection.rejection.threshold.heap-utilization</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[heap_utilization</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0]</span>
</span></span></code></pre></div><h3 id=ingester_client_config><code>ingester_client_config</code></h3><p>The <code>ingester_client_config</code> configures how the Cortex distributors connect to the ingesters.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>grpc_client_config</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># gRPC client max receive message size (bytes).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.client.grpc-max-recv-msg-size</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_recv_msg_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 104857600]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># gRPC client max send message size (bytes).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.client.grpc-max-send-msg-size</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_send_msg_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 16777216]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Use compression when sending messages. Supported values are: &#39;gzip&#39;,</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># &#39;snappy&#39;, &#39;snappy-block&#39; ,&#39;zstd&#39; and &#39;&#39; (disable compression)</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.client.grpc-compression</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[grpc_compression</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;snappy-block&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Rate limit for gRPC client; 0 means disabled.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.client.grpc-client-rate-limit</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[rate_limit</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Rate limit burst for gRPC client.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.client.grpc-client-rate-limit-burst</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[rate_limit_burst</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Enable backoff and retry when we hit ratelimits.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.client.backoff-on-ratelimits</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[backoff_on_ratelimits</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>backoff_config</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># Minimum delay when backing off.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ingester.client.backoff-min-period</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[min_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 100ms]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum delay when backing off.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ingester.client.backoff-max-period</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Number of times to backoff and retry before failing.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ingester.client.backoff-retries</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_retries</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Enable TLS in the GRPC client. This flag needs to be enabled when any other</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># TLS flag is set. If set to false, insecure connection to gRPC server will be</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># used.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.client.tls-enabled</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Path to the client certificate file, which will be used for authenticating</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># with the server. Also requires the key path to be configured.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.client.tls-cert-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_cert_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Path to the key file for the client certificate. Also requires the client</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># certificate to be configured.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.client.tls-key-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_key_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Path to the CA certificates file to validate server certificate against. If</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># not set, the host&#39;s root CA certificates are used.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.client.tls-ca-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_ca_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Override the expected name on the server certificate.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.client.tls-server-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_server_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Skip validating server certificate.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.client.tls-insecure-skip-verify</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_insecure_skip_verify</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The maximum amount of time to establish a connection. A value of 0 means</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># using default gRPC client connect timeout 20s.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ingester.client.connect-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[connect_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># EXPERIMENTAL: If enabled, gRPC clients perform health checks for each target</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># and fail the request if the target is marked as unhealthy.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>healthcheck_config</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># The number of consecutive failed health checks required before considering</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># a target unhealthy. 0 means disabled.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ingester.client.healthcheck.unhealthy-threshold</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[unhealthy_threshold</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The approximate amount of time between health checks of an individual</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># target.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ingester.client.healthcheck.interval</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The amount of time during which no response from a target means a failed</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># health check.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ingester.client.healthcheck.timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Max inflight push requests that this ingester client can handle. This limit is</span>
</span></span><span style=display:flex><span><span style=color:#75715e># per-ingester-client. Additional requests will be rejected. 0 = unlimited.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ingester.client.max-inflight-push-requests</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_inflight_push_requests</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span></code></pre></div><h3 id=limits_config><code>limits_config</code></h3><p>The <code>limits_config</code> configures default and per-tenant limits imposed by Cortex services (ie. distributor, ingester, &mldr;).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># Per-user ingestion rate limit in samples per second.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -distributor.ingestion-rate-limit</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ingestion_rate</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 25000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Per-user native histogram ingestion rate limit in samples per second. Disabled</span>
</span></span><span style=display:flex><span><span style=color:#75715e># by default</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -distributor.native-histogram-ingestion-rate-limit</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[native_histogram_ingestion_rate</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 1.7976931348623157e+308]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Whether the ingestion rate limit should be applied individually to each</span>
</span></span><span style=display:flex><span><span style=color:#75715e># distributor instance (local), or evenly shared across the cluster (global).</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -distributor.ingestion-rate-limit-strategy</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ingestion_rate_strategy</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;local&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Per-user allowed ingestion burst size (in number of samples).</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -distributor.ingestion-burst-size</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ingestion_burst_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 50000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Per-user allowed native histogram ingestion burst size (in number of samples)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -distributor.native-histogram-ingestion-burst-size</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[native_histogram_ingestion_burst_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Flag to enable, for all users, handling of samples with external labels</span>
</span></span><span style=display:flex><span><span style=color:#75715e># identifying replicas in an HA Prometheus setup.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -distributor.ha-tracker.enable-for-all-users</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[accept_ha_samples</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># [Experimental] Flag to enable handling of samples with mixed external labels</span>
</span></span><span style=display:flex><span><span style=color:#75715e># identifying replicas in an HA Prometheus setup. Supported only if</span>
</span></span><span style=display:flex><span><span style=color:#75715e># -distributor.ha-tracker.enable-for-all-users is true.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -experimental.distributor.ha-tracker.mixed-ha-samples</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[accept_mixed_ha_samples</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Prometheus label to look for in samples to identify a Prometheus HA cluster.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -distributor.ha-tracker.cluster</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ha_cluster_label</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;cluster&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Prometheus label to look for in samples to identify a Prometheus HA replica.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -distributor.ha-tracker.replica</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ha_replica_label</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;__replica__&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum number of clusters that HA tracker will keep track of for single user.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 0 to disable the limit.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -distributor.ha-tracker.max-clusters</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ha_max_clusters</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># This flag can be used to specify label names that to drop during sample</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ingestion within the distributor and can be repeated in order to drop multiple</span>
</span></span><span style=display:flex><span><span style=color:#75715e># labels.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -distributor.drop-label</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[drop_labels</span>: <span style=color:#ae81ff>&lt;list of string&gt; | default = []]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum length accepted for label names</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -validation.max-length-label-name</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_label_name_length</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 1024]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum length accepted for label value. This setting also applies to the</span>
</span></span><span style=display:flex><span><span style=color:#75715e># metric name</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -validation.max-length-label-value</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_label_value_length</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 2048]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum number of label names per series.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -validation.max-label-names-per-series</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_label_names_per_series</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 30]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum combined size in bytes of all labels and label values accepted for a</span>
</span></span><span style=display:flex><span><span style=color:#75715e># series. 0 to disable the limit.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -validation.max-labels-size-bytes</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_labels_size_bytes</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum size in bytes of a native histogram sample. 0 to disable the limit.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -validation.max-native-histogram-sample-size-bytes</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_native_histogram_sample_size_bytes</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum length accepted for metric metadata. Metadata refers to Metric Name,</span>
</span></span><span style=display:flex><span><span style=color:#75715e># HELP and UNIT.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -validation.max-metadata-length</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_metadata_length</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 1024]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Reject old samples.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -validation.reject-old-samples</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[reject_old_samples</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum accepted sample age before rejecting.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -validation.reject-old-samples.max-age</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[reject_old_samples_max_age</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2w]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Duration which table will be created/deleted before/after it&#39;s needed; we</span>
</span></span><span style=display:flex><span><span style=color:#75715e># won&#39;t accept sample from before this time.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -validation.create-grace-period</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[creation_grace_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Enforce every metadata has a metric name.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -validation.enforce-metadata-metric-name</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[enforce_metadata_metric_name</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Enforce every sample has a metric name.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -validation.enforce-metric-name</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[enforce_metric_name</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The default tenant&#39;s shard size when the shuffle-sharding strategy is used.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Must be set both on ingesters and distributors. When this setting is specified</span>
</span></span><span style=display:flex><span><span style=color:#75715e># in the per-tenant overrides, a value of 0 disables shuffle sharding for the</span>
</span></span><span style=display:flex><span><span style=color:#75715e># tenant.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -distributor.ingestion-tenant-shard-size</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ingestion_tenant_shard_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># List of metric relabel configurations. Note that in most situations, it is</span>
</span></span><span style=display:flex><span><span style=color:#75715e># more effective to use metrics relabeling directly in the Prometheus server,</span>
</span></span><span style=display:flex><span><span style=color:#75715e># e.g. remote_write.write_relabel_configs.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[metric_relabel_configs</span>: <span style=color:#ae81ff>&lt;relabel_config...&gt; | default = []]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Limit on total number of positive and negative buckets allowed in a single</span>
</span></span><span style=display:flex><span><span style=color:#75715e># native histogram. The resolution of a histogram with more buckets will be</span>
</span></span><span style=display:flex><span><span style=color:#75715e># reduced until the number of buckets is within the limit. If the limit cannot</span>
</span></span><span style=display:flex><span><span style=color:#75715e># be reached, the sample will be discarded. 0 means no limit. Enforced at</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Distributor.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -validation.max-native-histogram-buckets</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_native_histogram_buckets</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Comma separated list of resource attributes that should be converted to</span>
</span></span><span style=display:flex><span><span style=color:#75715e># labels.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -distributor.promote-resource-attributes</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[promote_resource_attributes</span>: <span style=color:#ae81ff>&lt;list of string&gt; | default = ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The maximum number of active series per user, per ingester. 0 to disable.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ingester.max-series-per-user</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_series_per_user</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 5000000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The maximum number of active series per metric name, per ingester. 0 to</span>
</span></span><span style=display:flex><span><span style=color:#75715e># disable.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ingester.max-series-per-metric</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_series_per_metric</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 50000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The maximum number of active native histogram series per user, per ingester. 0</span>
</span></span><span style=display:flex><span><span style=color:#75715e># to disable. Supported only if ingester.active-series-metrics-enabled is true.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ingester.max-native-histogram-series-per-user</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_native_histogram_series_per_user</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The maximum number of active series per user, across the cluster before</span>
</span></span><span style=display:flex><span><span style=color:#75715e># replication. 0 to disable. Supported only if -distributor.shard-by-all-labels</span>
</span></span><span style=display:flex><span><span style=color:#75715e># is true.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ingester.max-global-series-per-user</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_global_series_per_user</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The maximum number of active series per metric name, across the cluster before</span>
</span></span><span style=display:flex><span><span style=color:#75715e># replication. 0 to disable.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ingester.max-global-series-per-metric</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_global_series_per_metric</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The maximum number of active native histogram series per user, across the</span>
</span></span><span style=display:flex><span><span style=color:#75715e># cluster before replication. 0 to disable. Supported only if</span>
</span></span><span style=display:flex><span><span style=color:#75715e># -distributor.shard-by-all-labels and ingester.active-series-metrics-enabled is</span>
</span></span><span style=display:flex><span><span style=color:#75715e># true.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ingester.max-global-native-histogram-series-per-user</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_global_native_histogram_series_per_user</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># [Experimental] Enable limits per LabelSet. Supported limits per labelSet:</span>
</span></span><span style=display:flex><span><span style=color:#75715e># [max_series]</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[limits_per_label_set</span>: <span style=color:#ae81ff>&lt;list of LimitsPerLabelSet&gt; | default = []]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># [EXPERIMENTAL] True to enable native histogram.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -blocks-storage.tsdb.enable-native-histograms</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[enable_native_histograms</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The maximum number of active metrics with metadata per user, per ingester. 0</span>
</span></span><span style=display:flex><span><span style=color:#75715e># to disable.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ingester.max-metadata-per-user</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_metadata_per_user</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 8000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The maximum number of metadata per metric, per ingester. 0 to disable.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ingester.max-metadata-per-metric</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_metadata_per_metric</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The maximum number of active metrics with metadata per user, across the</span>
</span></span><span style=display:flex><span><span style=color:#75715e># cluster. 0 to disable. Supported only if -distributor.shard-by-all-labels is</span>
</span></span><span style=display:flex><span><span style=color:#75715e># true.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ingester.max-global-metadata-per-user</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_global_metadata_per_user</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The maximum number of metadata per metric, across the cluster. 0 to disable.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ingester.max-global-metadata-per-metric</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_global_metadata_per_metric</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># [Experimental] Configures the allowed time window for ingestion of</span>
</span></span><span style=display:flex><span><span style=color:#75715e># out-of-order samples. Disabled (0s) by default.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ingester.out-of-order-time-window</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[out_of_order_time_window</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Enables support for exemplars in TSDB and sets the maximum number that will be</span>
</span></span><span style=display:flex><span><span style=color:#75715e># stored. less than zero means disabled. If the value is set to zero, cortex</span>
</span></span><span style=display:flex><span><span style=color:#75715e># will fallback to blocks-storage.tsdb.max-exemplars value.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ingester.max-exemplars</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_exemplars</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum number of chunks that can be fetched in a single query from ingesters</span>
</span></span><span style=display:flex><span><span style=color:#75715e># and long-term storage. This limit is enforced in the querier, ruler and</span>
</span></span><span style=display:flex><span><span style=color:#75715e># store-gateway. 0 to disable.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.max-fetched-chunks-per-query</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_fetched_chunks_per_query</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 2000000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The maximum number of unique series for which a query can fetch samples from</span>
</span></span><span style=display:flex><span><span style=color:#75715e># each ingesters and blocks storage. This limit is enforced in the querier,</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ruler and store-gateway. 0 to disable</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.max-fetched-series-per-query</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_fetched_series_per_query</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Deprecated (use max-fetched-data-bytes-per-query instead): The maximum size of</span>
</span></span><span style=display:flex><span><span style=color:#75715e># all chunks in bytes that a query can fetch from each ingester and storage.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># This limit is enforced in the querier, ruler and store-gateway. 0 to disable.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.max-fetched-chunk-bytes-per-query</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_fetched_chunk_bytes_per_query</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The maximum combined size of all data that a query can fetch from each</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ingester and storage. This limit is enforced in the querier and ruler for</span>
</span></span><span style=display:flex><span><span style=color:#75715e># `query`, `query_range` and `series` APIs. 0 to disable.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.max-fetched-data-bytes-per-query</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_fetched_data_bytes_per_query</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Limit how long back data (series and metadata) can be queried, up until</span>
</span></span><span style=display:flex><span><span style=color:#75715e># &lt;lookback&gt; duration ago. This limit is enforced in the query-frontend, querier</span>
</span></span><span style=display:flex><span><span style=color:#75715e># and ruler. If the requested time range is outside the allowed range, the</span>
</span></span><span style=display:flex><span><span style=color:#75715e># request will not fail but will be manipulated to only query data within the</span>
</span></span><span style=display:flex><span><span style=color:#75715e># allowed time range. 0 to disable.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.max-query-lookback</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_query_lookback</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Limit the query time range (end - start time of range query parameter and max</span>
</span></span><span style=display:flex><span><span style=color:#75715e># - min of data fetched time range). This limit is enforced in the</span>
</span></span><span style=display:flex><span><span style=color:#75715e># query-frontend and ruler (on the received query). 0 to disable.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -store.max-query-length</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_query_length</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum number of split queries will be scheduled in parallel by the frontend.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.max-query-parallelism</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_query_parallelism</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 14]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The maximum total uncompressed query response size. If the query was sharded</span>
</span></span><span style=display:flex><span><span style=color:#75715e># the limit is applied to the total response size of all shards. This limit is</span>
</span></span><span style=display:flex><span><span style=color:#75715e># enforced in query-frontend for `query` and `query_range` APIs. 0 to disable.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.max-query-response-size</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_query_response_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Most recent allowed cacheable result per-tenant, to prevent caching very</span>
</span></span><span style=display:flex><span><span style=color:#75715e># recent results that might still be in flux.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.max-cache-freshness</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_cache_freshness</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum number of queriers that can handle requests for a single tenant. If</span>
</span></span><span style=display:flex><span><span style=color:#75715e># set to 0 or value higher than number of available queriers, *all* queriers</span>
</span></span><span style=display:flex><span><span style=color:#75715e># will handle requests for the tenant. If the value is &lt; 1, it will be treated</span>
</span></span><span style=display:flex><span><span style=color:#75715e># as a percentage and the gets a percentage of the total queriers. Each frontend</span>
</span></span><span style=display:flex><span><span style=color:#75715e># (or query-scheduler, if used) will select the same set of queriers for the</span>
</span></span><span style=display:flex><span><span style=color:#75715e># same tenant (given that all queriers are connected to all frontends /</span>
</span></span><span style=display:flex><span><span style=color:#75715e># query-schedulers). This option only works with queriers connecting to the</span>
</span></span><span style=display:flex><span><span style=color:#75715e># query-frontend / query-scheduler, not when using downstream URL.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.max-queriers-per-tenant</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_queriers_per_tenant</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># [Experimental] Number of shards to use when distributing shardable PromQL</span>
</span></span><span style=display:flex><span><span style=color:#75715e># queries.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.query-vertical-shard-size</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[query_vertical_shard_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Enable to allow queries to be evaluated with data from a single zone, if other</span>
</span></span><span style=display:flex><span><span style=color:#75715e># zones are not available.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[query_partial_data</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The maximum number of rows that can be fetched when querying parquet storage.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Each row maps to a series in a parquet file. This limit applies before</span>
</span></span><span style=display:flex><span><span style=color:#75715e># materializing chunks. 0 to disable.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.parquet-queryable.max-fetched-row-count</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[parquet_max_fetched_row_count</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The maximum number of bytes that can be used to fetch chunk column pages when</span>
</span></span><span style=display:flex><span><span style=color:#75715e># querying parquet storage. 0 to disable.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.parquet-queryable.max-fetched-chunk-bytes</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[parquet_max_fetched_chunk_bytes</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The maximum number of bytes that can be used to fetch all column pages when</span>
</span></span><span style=display:flex><span><span style=color:#75715e># querying parquet storage. 0 to disable.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.parquet-queryable.max-fetched-data-bytes</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[parquet_max_fetched_data_bytes</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum number of outstanding requests per tenant per request queue (either</span>
</span></span><span style=display:flex><span><span style=color:#75715e># query frontend or query scheduler); requests beyond this error with HTTP 429.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.max-outstanding-requests-per-tenant</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_outstanding_requests_per_tenant</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Configuration for query priority.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>query_priority</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Whether queries are assigned with priorities.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -frontend.query-priority.enabled</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Priority assigned to all queries by default. Must be a unique value. Use</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># this as a baseline to make certain queries higher/lower priority.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -frontend.query-priority.default-priority</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[default_priority</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># List of priority definitions.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[priorities</span>: <span style=color:#ae81ff>&lt;list of PriorityDef&gt; | default = []]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Configuration for query rejection.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>query_rejection</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Whether query rejection is enabled.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -frontend.query-rejection.enabled</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># List of query_attributes to match and reject queries. A query is rejected if</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># it matches any query_attribute in this list. Each query_attribute has</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># several properties (e.g., regex, time_window, user_agent), and all specified</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># properties must match for a query_attribute to be considered a match. Only</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># the specified properties are checked, and an AND operator is applied to</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># them.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[query_attributes</span>: <span style=color:#ae81ff>&lt;list of QueryAttribute&gt; | default = []]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Deprecated(use ruler.query-offset instead) and will be removed in v1.19.0:</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Duration to delay the evaluation of rules to ensure the underlying metrics</span>
</span></span><span style=display:flex><span><span style=color:#75715e># have been pushed to Cortex.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.evaluation-delay-duration</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ruler_evaluation_delay_duration</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The default tenant&#39;s shard size when the shuffle-sharding strategy is used by</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ruler. When this setting is specified in the per-tenant overrides, a value of</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 0 disables shuffle sharding for the tenant. If the value is &lt; 1 the shard size</span>
</span></span><span style=display:flex><span><span style=color:#75715e># will be a percentage of the total rulers.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.tenant-shard-size</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ruler_tenant_shard_size</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum number of rules per rule group per-tenant. 0 to disable.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.max-rules-per-rule-group</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ruler_max_rules_per_rule_group</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum number of rule groups per-tenant. 0 to disable.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.max-rule-groups-per-tenant</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ruler_max_rule_groups_per_tenant</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Duration to offset all rule evaluation queries per-tenant.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.query-offset</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ruler_query_offset</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># external labels for alerting rules</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ruler_external_labels</span>: <span style=color:#ae81ff>&lt;map of string (labelName) to string (labelValue)&gt; | default = []]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Enable to allow rules to be evaluated with data from a single zone, if other</span>
</span></span><span style=display:flex><span><span style=color:#75715e># zones are not available.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[rules_partial_data</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The default tenant&#39;s shard size when the shuffle-sharding strategy is used.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Must be set when the store-gateway sharding is enabled with the</span>
</span></span><span style=display:flex><span><span style=color:#75715e># shuffle-sharding strategy. When this setting is specified in the per-tenant</span>
</span></span><span style=display:flex><span><span style=color:#75715e># overrides, a value of 0 disables shuffle sharding for the tenant. If the value</span>
</span></span><span style=display:flex><span><span style=color:#75715e># is &lt; 1 the shard size will be a percentage of the total store-gateways.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -store-gateway.tenant-shard-size</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[store_gateway_tenant_shard_size</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The maximum number of data bytes to download per gRPC request in Store</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Gateway, including Series/LabelNames/LabelValues requests. 0 to disable.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -store-gateway.max-downloaded-bytes-per-request</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_downloaded_bytes_per_request</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Delete blocks containing samples older than the specified retention period. 0</span>
</span></span><span style=display:flex><span><span style=color:#75715e># to disable.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.blocks-retention-period</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[compactor_blocks_retention_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The default tenant&#39;s shard size when the shuffle-sharding strategy is used by</span>
</span></span><span style=display:flex><span><span style=color:#75715e># the compactor. When this setting is specified in the per-tenant overrides, a</span>
</span></span><span style=display:flex><span><span style=color:#75715e># value of 0 disables shuffle sharding for the tenant. If the value is &lt; 1 and &gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 0 the shard size will be a percentage of the total compactors</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.tenant-shard-size</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[compactor_tenant_shard_size</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Index size limit in bytes for each compaction partition. 0 means no limit</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.partition-index-size-bytes</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[compactor_partition_index_size_bytes</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 68719476736]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Time series count limit for each compaction partition. 0 means no limit</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -compactor.partition-series-count</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[compactor_partition_series_count</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># If set, enables the Parquet converter to create the parquet files.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -parquet-converter.enabled</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[parquet_converter_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The default tenant&#39;s shard size when the shuffle-sharding strategy is used by</span>
</span></span><span style=display:flex><span><span style=color:#75715e># the parquet converter. When this setting is specified in the per-tenant</span>
</span></span><span style=display:flex><span><span style=color:#75715e># overrides, a value of 0 disables shuffle sharding for the tenant. If the value</span>
</span></span><span style=display:flex><span><span style=color:#75715e># is &lt; 1 and &gt; 0 the shard size will be a percentage of the total parquet</span>
</span></span><span style=display:flex><span><span style=color:#75715e># converters.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -parquet-converter.tenant-shard-size</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[parquet_converter_tenant_shard_size</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Additional label names for specific tenants to sort by after metric name, in</span>
</span></span><span style=display:flex><span><span style=color:#75715e># order of precedence. These are applied during Parquet file generation.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -parquet-converter.sort-columns</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[parquet_converter_sort_columns</span>: <span style=color:#ae81ff>&lt;list of string&gt; | default = []]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># S3 server-side encryption type. Required to enable server-side encryption</span>
</span></span><span style=display:flex><span><span style=color:#75715e># overrides for a specific tenant. If not set, the default S3 client settings</span>
</span></span><span style=display:flex><span><span style=color:#75715e># are used.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[s3_sse_type</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># S3 server-side encryption KMS Key ID. Ignored if the SSE type override is not</span>
</span></span><span style=display:flex><span><span style=color:#75715e># set.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[s3_sse_kms_key_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># S3 server-side encryption KMS encryption context. If unset and the key ID</span>
</span></span><span style=display:flex><span><span style=color:#75715e># override is set, the encryption context will not be provided to S3. Ignored if</span>
</span></span><span style=display:flex><span><span style=color:#75715e># the SSE type override is not set.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[s3_sse_kms_encryption_context</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Comma-separated list of network CIDRs to block in Alertmanager receiver</span>
</span></span><span style=display:flex><span><span style=color:#75715e># integrations.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -alertmanager.receivers-firewall-block-cidr-networks</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[alertmanager_receivers_firewall_block_cidr_networks</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># True to block private and local addresses in Alertmanager receiver</span>
</span></span><span style=display:flex><span><span style=color:#75715e># integrations. It blocks private addresses defined by  RFC 1918 (IPv4</span>
</span></span><span style=display:flex><span><span style=color:#75715e># addresses) and RFC 4193 (IPv6 addresses), as well as loopback, local unicast</span>
</span></span><span style=display:flex><span><span style=color:#75715e># and local multicast addresses.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -alertmanager.receivers-firewall-block-private-addresses</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[alertmanager_receivers_firewall_block_private_addresses</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Per-user rate limit for sending notifications from Alertmanager in</span>
</span></span><span style=display:flex><span><span style=color:#75715e># notifications/sec. 0 = rate limit disabled. Negative value = no notifications</span>
</span></span><span style=display:flex><span><span style=color:#75715e># are allowed.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -alertmanager.notification-rate-limit</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[alertmanager_notification_rate_limit</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Per-integration notification rate limits. Value is a map, where each key is</span>
</span></span><span style=display:flex><span><span style=color:#75715e># integration name and value is a rate-limit (float). On command line, this map</span>
</span></span><span style=display:flex><span><span style=color:#75715e># is given in JSON format. Rate limit has the same meaning as</span>
</span></span><span style=display:flex><span><span style=color:#75715e># -alertmanager.notification-rate-limit, but only applies for specific</span>
</span></span><span style=display:flex><span><span style=color:#75715e># integration. Allowed integration names: webhook, email, pagerduty, opsgenie,</span>
</span></span><span style=display:flex><span><span style=color:#75715e># wechat, slack, victorops, pushover, sns, telegram, discord, webex, msteams,</span>
</span></span><span style=display:flex><span><span style=color:#75715e># msteamsv2, jira, rocketchat.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -alertmanager.notification-rate-limit-per-integration</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[alertmanager_notification_rate_limit_per_integration</span>: <span style=color:#ae81ff>&lt;map of string to float64&gt; | default = {}]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum size of configuration file for Alertmanager that tenant can upload via</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Alertmanager API. 0 = no limit.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -alertmanager.max-config-size-bytes</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[alertmanager_max_config_size_bytes</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum number of templates in tenant&#39;s Alertmanager configuration uploaded</span>
</span></span><span style=display:flex><span><span style=color:#75715e># via Alertmanager API. 0 = no limit.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -alertmanager.max-templates-count</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[alertmanager_max_templates_count</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum size of single template in tenant&#39;s Alertmanager configuration</span>
</span></span><span style=display:flex><span><span style=color:#75715e># uploaded via Alertmanager API. 0 = no limit.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -alertmanager.max-template-size-bytes</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[alertmanager_max_template_size_bytes</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum number of aggregation groups in Alertmanager&#39;s dispatcher that a</span>
</span></span><span style=display:flex><span><span style=color:#75715e># tenant can have. Each active aggregation group uses single goroutine. When the</span>
</span></span><span style=display:flex><span><span style=color:#75715e># limit is reached, dispatcher will not dispatch alerts that belong to</span>
</span></span><span style=display:flex><span><span style=color:#75715e># additional aggregation groups, but existing groups will keep working properly.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 0 = no limit.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -alertmanager.max-dispatcher-aggregation-groups</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[alertmanager_max_dispatcher_aggregation_groups</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum number of alerts that a single user can have. Inserting more alerts</span>
</span></span><span style=display:flex><span><span style=color:#75715e># will fail with a log message and metric increment. 0 = no limit.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -alertmanager.max-alerts-count</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[alertmanager_max_alerts_count</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum total size of alerts that a single user can have, alert size is the</span>
</span></span><span style=display:flex><span><span style=color:#75715e># sum of the bytes of its labels, annotations and generatorURL. Inserting more</span>
</span></span><span style=display:flex><span><span style=color:#75715e># alerts will fail with a log message and metric increment. 0 = no limit.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -alertmanager.max-alerts-size-bytes</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[alertmanager_max_alerts_size_bytes</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum number of silences that a single user can have, including expired</span>
</span></span><span style=display:flex><span><span style=color:#75715e># silences. 0 = no limit.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -alertmanager.max-silences-count</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[alertmanager_max_silences_count</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum size of individual silences that a single user can have. 0 = no limit.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -alertmanager.max-silences-size-bytes</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[alertmanager_max_silences_size_bytes</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># list of rule groups to disable</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[disabled_rule_groups</span>: <span style=color:#ae81ff>&lt;list of DisabledRuleGroup&gt; | default = []]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Name validation scheme for metric names and label names, Support values are:</span>
</span></span><span style=display:flex><span><span style=color:#75715e># legacy, utf8.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -validation.name-validation-scheme</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[name_validation_scheme</span>: <span style=color:#ae81ff>&lt;int&gt; | default = legacy]</span>
</span></span></code></pre></div><h3 id=memberlist_config><code>memberlist_config</code></h3><p>The <code>memberlist_config</code> configures the Gossip memberlist.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># Name of the node in memberlist cluster. Defaults to hostname.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.nodename</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[node_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Add random suffix to the node name.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.randomize-node-name</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[randomize_node_name</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The timeout for establishing a connection with a remote node, and for</span>
</span></span><span style=display:flex><span><span style=color:#75715e># read/write operations.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.stream-timeout</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[stream_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Multiplication factor used when sending out messages (factor * log(N+1)).</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.retransmit-factor</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[retransmit_factor</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 4]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># How often to use pull/push sync.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.pullpush-interval</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[pull_push_interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 30s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># How often to gossip.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.gossip-interval</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[gossip_interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 200ms]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># How many nodes to gossip to.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.gossip-nodes</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[gossip_nodes</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 3]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># How long to keep gossiping to dead nodes, to give them chance to refute their</span>
</span></span><span style=display:flex><span><span style=color:#75715e># death.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.gossip-to-dead-nodes-time</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[gossip_to_dead_nodes_time</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 30s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># How soon can dead node&#39;s name be reclaimed with new address. 0 to disable.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.dead-node-reclaim-time</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[dead_node_reclaim_time</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Enable message compression. This can be used to reduce bandwidth usage at the</span>
</span></span><span style=display:flex><span><span style=color:#75715e># cost of slightly more CPU utilization.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.compression-enabled</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[compression_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Gossip address to advertise to other members in the cluster. Used for NAT</span>
</span></span><span style=display:flex><span><span style=color:#75715e># traversal.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.advertise-addr</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[advertise_addr</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Gossip port to advertise to other members in the cluster. Used for NAT</span>
</span></span><span style=display:flex><span><span style=color:#75715e># traversal.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.advertise-port</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[advertise_port</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 7946]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Other cluster members to join. Can be specified multiple times. It can be an</span>
</span></span><span style=display:flex><span><span style=color:#75715e># IP, hostname or an entry specified in the DNS Service Discovery format.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.join</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[join_members</span>: <span style=color:#ae81ff>&lt;list of string&gt; | default = []]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Min backoff duration to join other cluster members.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.min-join-backoff</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[min_join_backoff</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Max backoff duration to join other cluster members.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.max-join-backoff</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_join_backoff</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Max number of retries to join other cluster members.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.max-join-retries</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_join_retries</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># If this node fails to join memberlist cluster, abort.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.abort-if-join-fails</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[abort_if_cluster_join_fails</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># If not 0, how often to rejoin the cluster. Occasional rejoin can help to fix</span>
</span></span><span style=display:flex><span><span style=color:#75715e># the cluster split issue, and is harmless otherwise. For example when using</span>
</span></span><span style=display:flex><span><span style=color:#75715e># only few components as a seed nodes (via -memberlist.join), then it&#39;s</span>
</span></span><span style=display:flex><span><span style=color:#75715e># recommended to use rejoin. If -memberlist.join points to dynamic service that</span>
</span></span><span style=display:flex><span><span style=color:#75715e># resolves to all gossiping nodes (eg. Kubernetes headless service), then rejoin</span>
</span></span><span style=display:flex><span><span style=color:#75715e># is not needed.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.rejoin-interval</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[rejoin_interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># How long to keep LEFT ingesters in the ring.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.left-ingesters-timeout</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[left_ingesters_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Timeout for leaving memberlist cluster.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.leave-timeout</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[leave_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># How much space to use for keeping received and sent messages in memory for</span>
</span></span><span style=display:flex><span><span style=color:#75715e># troubleshooting (two buffers). 0 to disable.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.message-history-buffer-bytes</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[message_history_buffer_bytes</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># IP address to listen on for gossip messages. Multiple addresses may be</span>
</span></span><span style=display:flex><span><span style=color:#75715e># specified. Defaults to 0.0.0.0</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.bind-addr</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[bind_addr</span>: <span style=color:#ae81ff>&lt;list of string&gt; | default = []]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Port to listen on for gossip messages.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.bind-port</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[bind_port</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 7946]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Timeout used when connecting to other nodes to send packet.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.packet-dial-timeout</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[packet_dial_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Timeout for writing &#39;packet&#39; data.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.packet-write-timeout</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[packet_write_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Enable TLS on the memberlist transport layer.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.tls-enabled</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tls_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Path to the client certificate file, which will be used for authenticating</span>
</span></span><span style=display:flex><span><span style=color:#75715e># with the server. Also requires the key path to be configured.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.tls-cert-path</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tls_cert_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Path to the key file for the client certificate. Also requires the client</span>
</span></span><span style=display:flex><span><span style=color:#75715e># certificate to be configured.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.tls-key-path</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tls_key_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Path to the CA certificates file to validate server certificate against. If</span>
</span></span><span style=display:flex><span><span style=color:#75715e># not set, the host&#39;s root CA certificates are used.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.tls-ca-path</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tls_ca_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Override the expected name on the server certificate.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.tls-server-name</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tls_server_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Skip validating server certificate.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -memberlist.tls-insecure-skip-verify</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tls_insecure_skip_verify</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span></code></pre></div><h3 id=memcached_config><code>memcached_config</code></h3><p>The <code>memcached_config</code> block configures how data is stored in Memcached (ie. expiration).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># How long keys stay in the memcache.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.memcached.expiration</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[expiration</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># How many keys to fetch in each batch.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.memcached.batchsize</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[batch_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 1024]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum active requests to memcache.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.memcached.parallelism</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[parallelism</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span></code></pre></div><h3 id=memcached_client_config><code>memcached_client_config</code></h3><p>The <code>memcached_client_config</code> configures the client used to connect to Memcached.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># Hostname for memcached service to use. If empty and if addresses is unset, no</span>
</span></span><span style=display:flex><span><span style=color:#75715e># memcached will be used.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.memcached.hostname</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[host</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># SRV service used to discover memcache servers.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.memcached.service</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[service</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;memcached&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># EXPERIMENTAL: Comma separated addresses list in DNS Service Discovery format:</span>
</span></span><span style=display:flex><span><span style=color:#75715e># https://cortexmetrics.io/docs/configuration/arguments/#dns-service-discovery</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.memcached.addresses</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[addresses</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum time to wait before giving up on memcached requests.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.memcached.timeout</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 100ms]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum number of idle connections in pool.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.memcached.max-idle-conns</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_idle_conns</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 16]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The maximum size of an item stored in memcached. Bigger items are not stored.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># If set to 0, no maximum size is enforced.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.memcached.max-item-size</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_item_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Period with which to poll DNS for memcache servers.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.memcached.update-interval</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[update_interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Use consistent hashing to distribute to memcache servers.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.memcached.consistent-hash</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[consistent_hash</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Trip circuit-breaker after this number of consecutive dial failures (if zero</span>
</span></span><span style=display:flex><span><span style=color:#75715e># then circuit-breaker is disabled).</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.memcached.circuit-breaker-consecutive-failures</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[circuit_breaker_consecutive_failures</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Duration circuit-breaker remains open after tripping (if zero then 60 seconds</span>
</span></span><span style=display:flex><span><span style=color:#75715e># is used).</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.memcached.circuit-breaker-timeout</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[circuit_breaker_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Reset circuit-breaker counts after this long (if zero then never reset).</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.memcached.circuit-breaker-interval</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[circuit_breaker_interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s]</span>
</span></span></code></pre></div><h3 id=querier_config><code>querier_config</code></h3><p>The <code>querier_config</code> configures the Cortex querier.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># The maximum number of concurrent queries.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.max-concurrent</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_concurrent</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 20]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The timeout for a query.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.timeout</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Deprecated (This feature will be always on after v1.18): Use streaming RPCs</span>
</span></span><span style=display:flex><span><span style=color:#75715e># for metadata APIs from ingester.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.ingester-metadata-streaming</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ingester_metadata_streaming</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Use LabelNames ingester RPCs with match params.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.ingester-label-names-with-matchers</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ingester_label_names_with_matchers</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum number of samples a single query can load into memory.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.max-samples</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_samples</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 50000000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum lookback beyond which queries are not sent to ingester. 0 means all</span>
</span></span><span style=display:flex><span><span style=color:#75715e># queries are sent to ingester.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.query-ingesters-within</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[query_ingesters_within</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Enable returning samples stats per steps in query response.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.per-step-stats-enabled</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[per_step_stats_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Use compression for metrics query API or instant and range query APIs.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Supported compression &#39;gzip&#39;, &#39;snappy&#39;, &#39;zstd&#39; and &#39;&#39; (disable compression)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.response-compression</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[response_compression</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;gzip&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The time after which a metric should be queried from storage and not just</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ingesters. 0 means all queries are sent to store. When running the blocks</span>
</span></span><span style=display:flex><span><span style=color:#75715e># storage, if this option is enabled, the time range of the query sent to the</span>
</span></span><span style=display:flex><span><span style=color:#75715e># store will be manipulated to ensure the query end is not more recent than &#39;now</span>
</span></span><span style=display:flex><span><span style=color:#75715e># - query-store-after&#39;.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.query-store-after</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[query_store_after</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum duration into the future you can query. 0 to disable.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.max-query-into-future</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_query_into_future</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The default evaluation interval or step size for subqueries.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.default-evaluation-interval</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[default_evaluation_interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Max number of steps allowed for every subquery expression in query. Number of</span>
</span></span><span style=display:flex><span><span style=color:#75715e># steps is calculated using subquery range / step. A value &gt; 0 enables it.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.max-subquery-steps</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_subquery_steps</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Active query tracker monitors active queries, and writes them to the file in</span>
</span></span><span style=display:flex><span><span style=color:#75715e># given directory. If Cortex discovers any queries in this log during startup,</span>
</span></span><span style=display:flex><span><span style=color:#75715e># it will log them to the log file. Setting to empty value disables active query</span>
</span></span><span style=display:flex><span><span style=color:#75715e># tracker, which also disables -querier.max-concurrent option.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.active-query-tracker-dir</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[active_query_tracker_dir</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;./active-query-tracker&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Time since the last sample after which a time series is considered stale and</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ignored by expression evaluations.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.lookback-delta</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[lookback_delta</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Comma separated list of store-gateway addresses in DNS Service Discovery</span>
</span></span><span style=display:flex><span><span style=color:#75715e># format. This option should be set when using the blocks storage and the</span>
</span></span><span style=display:flex><span><span style=color:#75715e># store-gateway sharding is disabled (when enabled, the store-gateway instances</span>
</span></span><span style=display:flex><span><span style=color:#75715e># form a ring and addresses are picked from the ring).</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.store-gateway-addresses</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[store_gateway_addresses</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>store_gateway_client</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Enable TLS for gRPC client connecting to store-gateway.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -querier.store-gateway-client.tls-enabled</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Path to the client certificate file, which will be used for authenticating</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># with the server. Also requires the key path to be configured.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -querier.store-gateway-client.tls-cert-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_cert_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Path to the key file for the client certificate. Also requires the client</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># certificate to be configured.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -querier.store-gateway-client.tls-key-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_key_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Path to the CA certificates file to validate server certificate against. If</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># not set, the host&#39;s root CA certificates are used.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -querier.store-gateway-client.tls-ca-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_ca_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Override the expected name on the server certificate.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -querier.store-gateway-client.tls-server-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_server_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Skip validating server certificate.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -querier.store-gateway-client.tls-insecure-skip-verify</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_insecure_skip_verify</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Use compression when sending messages. Supported values are: &#39;gzip&#39;,</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># &#39;snappy&#39; and &#39;&#39; (disable compression)</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -querier.store-gateway-client.grpc-compression</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[grpc_compression</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># EXPERIMENTAL: If enabled, gRPC clients perform health checks for each target</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># and fail the request if the target is marked as unhealthy.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>healthcheck_config</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># The number of consecutive failed health checks required before considering</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># a target unhealthy. 0 means disabled.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -querier.store-gateway-client.healthcheck.unhealthy-threshold</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[unhealthy_threshold</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The approximate amount of time between health checks of an individual</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># target.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -querier.store-gateway-client.healthcheck.interval</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The amount of time during which no response from a target means a failed</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># health check.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -querier.store-gateway-client.healthcheck.timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The maximum amount of time to establish a connection. A value of 0 means</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># using default gRPC client connect timeout 5s.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -querier.store-gateway-client.connect-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[connect_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># If enabled, store gateway query stats will be logged using `info` log level.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.store-gateway-query-stats-enabled</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[store_gateway_query_stats</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The maximum number of times we attempt fetching missing blocks from different</span>
</span></span><span style=display:flex><span><span style=color:#75715e># store-gateways. If no more store-gateways are left (ie. due to lower</span>
</span></span><span style=display:flex><span><span style=color:#75715e># replication factor) than we&#39;ll end the retries earlier</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.store-gateway-consistency-check-max-attempts</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[store_gateway_consistency_check_max_attempts</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 3]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The maximum number of times we attempt fetching data from ingesters for</span>
</span></span><span style=display:flex><span><span style=color:#75715e># retryable errors (ex. partial data returned).</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.ingester-query-max-attempts</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ingester_query_max_attempts</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 1]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># When distributor&#39;s sharding strategy is shuffle-sharding and this setting is &gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 0, queriers fetch in-memory series from the minimum set of required ingesters,</span>
</span></span><span style=display:flex><span><span style=color:#75715e># selecting only ingesters which may have received series since &#39;now - lookback</span>
</span></span><span style=display:flex><span><span style=color:#75715e># period&#39;. The lookback period should be greater or equal than the configured</span>
</span></span><span style=display:flex><span><span style=color:#75715e># &#39;query store after&#39; and &#39;query ingesters within&#39;. If this setting is 0,</span>
</span></span><span style=display:flex><span><span style=color:#75715e># queriers always query all ingesters (ingesters shuffle sharding on read path</span>
</span></span><span style=display:flex><span><span style=color:#75715e># is disabled).</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.shuffle-sharding-ingesters-lookback-period</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[shuffle_sharding_ingesters_lookback_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>thanos_engine</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Experimental. Use Thanos promql engine</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># https://github.com/thanos-io/promql-engine rather than the Prometheus promql</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># engine.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -querier.thanos-engine</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Enable xincrease, xdelta, xrate etc from Thanos engine.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -querier.enable-x-functions</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[enable_x_functions</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Logical plan optimizers. Multiple optimizers can be provided as a</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># comma-separated list. Supported values: default, all, propagate-matchers,</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># sort-matchers, merge-selects, detect-histogram-stats</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -querier.optimizers</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[optimizers</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;default&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># If enabled, ignore max query length check at Querier select method. Users can</span>
</span></span><span style=display:flex><span><span style=color:#75715e># choose to ignore it since the validation can be done before Querier evaluation</span>
</span></span><span style=display:flex><span><span style=color:#75715e># like at Query Frontend or Ruler.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.ignore-max-query-length</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ignore_max_query_length</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># [Experimental] If true, experimental promQL functions are enabled.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.enable-promql-experimental-functions</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[enable_promql_experimental_functions</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># [Experimental] If true, querier will try to query the parquet files if</span>
</span></span><span style=display:flex><span><span style=color:#75715e># available.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.enable-parquet-queryable</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[enable_parquet_queryable</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># [Experimental] Maximum size of the Parquet queryable shard cache. 0 to</span>
</span></span><span style=display:flex><span><span style=color:#75715e># disable.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.parquet-queryable-shard-cache-size</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[parquet_queryable_shard_cache_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 512]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># [Experimental] Parquet queryable&#39;s default block store to query. Valid options</span>
</span></span><span style=display:flex><span><span style=color:#75715e># are tsdb and parquet. If it is set to tsdb, parquet queryable always fallback</span>
</span></span><span style=display:flex><span><span style=color:#75715e># to store gateway.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.parquet-queryable-default-block-store</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[parquet_queryable_default_block_store</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;parquet&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># [Experimental] Disable Parquet queryable to fallback queries to Store Gateway</span>
</span></span><span style=display:flex><span><span style=color:#75715e># if the block is not available as Parquet files but available in TSDB. Setting</span>
</span></span><span style=display:flex><span><span style=color:#75715e># this to true will disable the fallback and users can remove Store Gateway. But</span>
</span></span><span style=display:flex><span><span style=color:#75715e># need to make sure Parquet files are created before it is queryable.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.parquet-queryable-fallback-disabled</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[parquet_queryable_fallback_disabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span></code></pre></div><h3 id=query_frontend_config><code>query_frontend_config</code></h3><p>The <code>query_frontend_config</code> configures the Cortex query-frontend.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># Log queries that are slower than the specified duration. Set to 0 to disable.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Set to &lt; 0 to enable on all queries.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.log-queries-longer-than</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[log_queries_longer_than</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Max body size for downstream prometheus.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.max-body-size</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_body_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10485760]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># True to enable query statistics tracking. When enabled, a message with some</span>
</span></span><span style=display:flex><span><span style=color:#75715e># statistics is logged for every query.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.query-stats-enabled</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[query_stats_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># If enabled, report the query stats log for queries coming from the ruler to</span>
</span></span><span style=display:flex><span><span style=color:#75715e># evaluate rules. It only takes effect when &#39;-ruler.frontend-address&#39; is</span>
</span></span><span style=display:flex><span><span style=color:#75715e># configured.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.enabled-ruler-query-stats</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[enabled_ruler_query_stats_log</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># If a querier disconnects without sending notification about graceful shutdown,</span>
</span></span><span style=display:flex><span><span style=color:#75715e># the query-frontend will keep the querier in the tenant&#39;s shard until the</span>
</span></span><span style=display:flex><span><span style=color:#75715e># forget delay has passed. This feature is useful to reduce the blast radius</span>
</span></span><span style=display:flex><span><span style=color:#75715e># when shuffle-sharding is enabled.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -query-frontend.querier-forget-delay</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[querier_forget_delay</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># DNS hostname used for finding query-schedulers.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.scheduler-address</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[scheduler_address</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># How often to resolve the scheduler-address, in order to look for new</span>
</span></span><span style=display:flex><span><span style=color:#75715e># query-scheduler instances.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.scheduler-dns-lookup-period</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[scheduler_dns_lookup_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Number of concurrent workers forwarding queries to single query-scheduler.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.scheduler-worker-concurrency</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[scheduler_worker_concurrency</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 5]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>grpc_client_config</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># gRPC client max receive message size (bytes).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -frontend.grpc-client-config.grpc-max-recv-msg-size</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_recv_msg_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 104857600]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># gRPC client max send message size (bytes).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -frontend.grpc-client-config.grpc-max-send-msg-size</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_send_msg_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 16777216]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Use compression when sending messages. Supported values are: &#39;gzip&#39;,</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># &#39;snappy&#39;, &#39;snappy-block&#39; ,&#39;zstd&#39; and &#39;&#39; (disable compression)</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -frontend.grpc-client-config.grpc-compression</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[grpc_compression</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Rate limit for gRPC client; 0 means disabled.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -frontend.grpc-client-config.grpc-client-rate-limit</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[rate_limit</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Rate limit burst for gRPC client.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -frontend.grpc-client-config.grpc-client-rate-limit-burst</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[rate_limit_burst</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Enable backoff and retry when we hit ratelimits.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -frontend.grpc-client-config.backoff-on-ratelimits</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[backoff_on_ratelimits</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>backoff_config</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># Minimum delay when backing off.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -frontend.grpc-client-config.backoff-min-period</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[min_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 100ms]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum delay when backing off.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -frontend.grpc-client-config.backoff-max-period</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Number of times to backoff and retry before failing.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -frontend.grpc-client-config.backoff-retries</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_retries</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Enable TLS in the GRPC client. This flag needs to be enabled when any other</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># TLS flag is set. If set to false, insecure connection to gRPC server will be</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># used.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -frontend.grpc-client-config.tls-enabled</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Path to the client certificate file, which will be used for authenticating</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># with the server. Also requires the key path to be configured.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -frontend.grpc-client-config.tls-cert-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_cert_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Path to the key file for the client certificate. Also requires the client</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># certificate to be configured.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -frontend.grpc-client-config.tls-key-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_key_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Path to the CA certificates file to validate server certificate against. If</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># not set, the host&#39;s root CA certificates are used.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -frontend.grpc-client-config.tls-ca-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_ca_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Override the expected name on the server certificate.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -frontend.grpc-client-config.tls-server-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_server_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Skip validating server certificate.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -frontend.grpc-client-config.tls-insecure-skip-verify</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_insecure_skip_verify</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The maximum amount of time to establish a connection. A value of 0 means</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># using default gRPC client connect timeout 20s.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -frontend.grpc-client-config.connect-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[connect_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># When multiple query-schedulers are available, re-enqueue queries that were</span>
</span></span><span style=display:flex><span><span style=color:#75715e># rejected due to too many outstanding requests.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.retry-on-too-many-outstanding-requests</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[retry_on_too_many_outstanding_requests</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Name of network interface to read address from. This address is sent to</span>
</span></span><span style=display:flex><span><span style=color:#75715e># query-scheduler and querier, which uses it to send the query response back to</span>
</span></span><span style=display:flex><span><span style=color:#75715e># query-frontend.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.instance-interface-names</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[instance_interface_names</span>: <span style=color:#ae81ff>&lt;list of string&gt; | default = [eth0 en0]]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># URL of downstream Prometheus.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.downstream-url</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[downstream_url</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span></code></pre></div><h3 id=query_range_config><code>query_range_config</code></h3><p>The <code>query_range_config</code> configures the query splitting and caching in the Cortex query-frontend.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># Split queries by an interval and execute in parallel, 0 disables it. You</span>
</span></span><span style=display:flex><span><span style=color:#75715e># should use a multiple of 24 hours (same as the storage bucketing scheme), to</span>
</span></span><span style=display:flex><span><span style=color:#75715e># avoid queriers downloading and processing the same chunks. This also</span>
</span></span><span style=display:flex><span><span style=color:#75715e># determines how cache keys are chosen when result caching is enabled</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.split-queries-by-interval</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[split_queries_by_interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>dynamic_query_splits</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># [EXPERIMENTAL] Maximum number of shards for a query, 0 disables it.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Dynamically uses a multiple of split interval to maintain a total number of</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># shards below the set value. If vertical sharding is enabled for a query, the</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># combined total number of interval splits and vertical shards is kept below</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># this value.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -querier.max-shards-per-query</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_shards_per_query</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># [EXPERIMENTAL] Max total duration of data fetched from storage by all query</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># shards, 0 disables it. Dynamically uses a multiple of split interval to</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># maintain a total fetched duration of data lower than the value set. It takes</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># into account additional duration fetched by matrix selectors and subqueries.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -querier.max-fetched-data-duration-per-query</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_fetched_data_duration_per_query</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># [EXPERIMENTAL] Dynamically adjust vertical shard size to maximize the total</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># combined number of query shards and splits.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -querier.enable-dynamic-vertical-sharding</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[enable_dynamic_vertical_sharding</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Mutate incoming queries to align their start and end with their step.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.align-querier-with-step</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[align_queries_with_step</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>results_cache</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>cache</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># Enable in-memory cache.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -frontend.cache.enable-fifocache</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[enable_fifocache</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The default validity of entries for caches unless overridden.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -frontend.default-validity</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[default_validity</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>background</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># At what concurrency to write back to cache.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -frontend.background.write-back-concurrency</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[writeback_goroutines</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># How many key batches to buffer for background write-back.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -frontend.background.write-back-buffer</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[writeback_buffer</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The memcached_config block configures how data is stored in Memcached (ie.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># expiration).</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[memcached</span>: <span style=color:#ae81ff>&lt;memcached_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The memcached_client_config configures the client used to connect to</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Memcached.</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[memcached_client</span>: <span style=color:#ae81ff>&lt;memcached_client_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The redis_config configures the Redis backend cache.</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[redis</span>: <span style=color:#ae81ff>&lt;redis_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The fifo_cache_config configures the local in-memory cache.</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[fifocache</span>: <span style=color:#ae81ff>&lt;fifo_cache_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Use compression in results cache. Supported values are: &#39;snappy&#39; and &#39;&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># (disable compression).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -frontend.compression</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[compression</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Cache Statistics queryable samples on results cache.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -frontend.cache-queryable-samples-stats</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[cache_queryable_samples_stats</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Cache query results.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.cache-results</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[cache_results</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum number of retries for a single request; beyond this, the downstream</span>
</span></span><span style=display:flex><span><span style=color:#75715e># error is returned.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -querier.max-retries-per-request</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_retries</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 5]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># List of headers forwarded by the query Frontend to downstream querier.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.forward-headers-list</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[forward_headers_list</span>: <span style=color:#ae81ff>&lt;list of string&gt; | default = []]</span>
</span></span></code></pre></div><h3 id=redis_config><code>redis_config</code></h3><p>The <code>redis_config</code> configures the Redis backend cache.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># Redis Server endpoint to use for caching. A comma-separated list of endpoints</span>
</span></span><span style=display:flex><span><span style=color:#75715e># for Redis Cluster or Redis Sentinel. If empty, no redis will be used.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.redis.endpoint</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[endpoint</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Redis Sentinel master name. An empty string for Redis Server or Redis Cluster.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.redis.master-name</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[master_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum time to wait before giving up on redis requests.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.redis.timeout</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 500ms]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># How long keys stay in the redis.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.redis.expiration</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[expiration</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Database index.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.redis.db</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[db</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum number of connections in the pool.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.redis.pool-size</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[pool_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Password to use when connecting to redis.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.redis.password</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[password</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Enable connecting to redis with TLS.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.redis.tls-enabled</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tls_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Skip validating server certificate.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.redis.tls-insecure-skip-verify</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tls_insecure_skip_verify</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Close connections after remaining idle for this duration. If the value is</span>
</span></span><span style=display:flex><span><span style=color:#75715e># zero, then idle connections are not closed.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.redis.idle-timeout</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[idle_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Close connections older than this duration. If the value is zero, then the</span>
</span></span><span style=display:flex><span><span style=color:#75715e># pool does not close connections based on age.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -frontend.redis.max-connection-age</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_connection_age</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span></code></pre></div><h3 id=ruler_config><code>ruler_config</code></h3><p>The <code>ruler_config</code> configures the Cortex ruler.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># [Experimental] GRPC listen address of the Query Frontend, in host:port format.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># If set, Ruler queries to Query Frontends via gRPC. If not set, ruler queries</span>
</span></span><span style=display:flex><span><span style=color:#75715e># to Ingesters directly.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.frontend-address</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[frontend_address</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># [Experimental] Query response format to get query results from Query Frontend</span>
</span></span><span style=display:flex><span><span style=color:#75715e># when the rule evaluation. It will only take effect when</span>
</span></span><span style=display:flex><span><span style=color:#75715e># `-ruler.frontend-address` is configured. Supported values: json,protobuf</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.query-response-format</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[query_response_format</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;protobuf&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>frontend_client</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># gRPC client max receive message size (bytes).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.frontendClient.grpc-max-recv-msg-size</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_recv_msg_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 104857600]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># gRPC client max send message size (bytes).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.frontendClient.grpc-max-send-msg-size</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_send_msg_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 16777216]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Use compression when sending messages. Supported values are: &#39;gzip&#39;,</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># &#39;snappy&#39;, &#39;snappy-block&#39; ,&#39;zstd&#39; and &#39;&#39; (disable compression)</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.frontendClient.grpc-compression</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[grpc_compression</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Rate limit for gRPC client; 0 means disabled.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.frontendClient.grpc-client-rate-limit</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[rate_limit</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Rate limit burst for gRPC client.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.frontendClient.grpc-client-rate-limit-burst</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[rate_limit_burst</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Enable backoff and retry when we hit ratelimits.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.frontendClient.backoff-on-ratelimits</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[backoff_on_ratelimits</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>backoff_config</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># Minimum delay when backing off.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ruler.frontendClient.backoff-min-period</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[min_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 100ms]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum delay when backing off.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ruler.frontendClient.backoff-max-period</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Number of times to backoff and retry before failing.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ruler.frontendClient.backoff-retries</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_retries</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Enable TLS in the GRPC client. This flag needs to be enabled when any other</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># TLS flag is set. If set to false, insecure connection to gRPC server will be</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># used.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.frontendClient.tls-enabled</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Path to the client certificate file, which will be used for authenticating</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># with the server. Also requires the key path to be configured.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.frontendClient.tls-cert-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_cert_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Path to the key file for the client certificate. Also requires the client</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># certificate to be configured.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.frontendClient.tls-key-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_key_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Path to the CA certificates file to validate server certificate against. If</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># not set, the host&#39;s root CA certificates are used.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.frontendClient.tls-ca-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_ca_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Override the expected name on the server certificate.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.frontendClient.tls-server-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_server_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Skip validating server certificate.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.frontendClient.tls-insecure-skip-verify</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_insecure_skip_verify</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The maximum amount of time to establish a connection. A value of 0 means</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># using default gRPC client connect timeout 20s.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.frontendClient.connect-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[connect_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># URL of alerts return path.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.external.url</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[external_url</span>: <span style=color:#ae81ff>&lt;url&gt; | default = ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Labels to add to all alerts.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[external_labels</span>: <span style=color:#ae81ff>&lt;map of string (labelName) to string (labelValue)&gt; | default = []]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>ruler_client</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># gRPC client max receive message size (bytes).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.client.grpc-max-recv-msg-size</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_recv_msg_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 104857600]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># gRPC client max send message size (bytes).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.client.grpc-max-send-msg-size</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_send_msg_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 16777216]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Use compression when sending messages. Supported values are: &#39;gzip&#39;,</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># &#39;snappy&#39;, &#39;snappy-block&#39; ,&#39;zstd&#39; and &#39;&#39; (disable compression)</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.client.grpc-compression</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[grpc_compression</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Rate limit for gRPC client; 0 means disabled.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.client.grpc-client-rate-limit</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[rate_limit</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Rate limit burst for gRPC client.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.client.grpc-client-rate-limit-burst</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[rate_limit_burst</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Enable backoff and retry when we hit ratelimits.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.client.backoff-on-ratelimits</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[backoff_on_ratelimits</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>backoff_config</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># Minimum delay when backing off.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ruler.client.backoff-min-period</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[min_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 100ms]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum delay when backing off.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ruler.client.backoff-max-period</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Number of times to backoff and retry before failing.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ruler.client.backoff-retries</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_retries</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Enable TLS in the GRPC client. This flag needs to be enabled when any other</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># TLS flag is set. If set to false, insecure connection to gRPC server will be</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># used.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.client.tls-enabled</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Path to the client certificate file, which will be used for authenticating</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># with the server. Also requires the key path to be configured.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.client.tls-cert-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_cert_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Path to the key file for the client certificate. Also requires the client</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># certificate to be configured.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.client.tls-key-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_key_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Path to the CA certificates file to validate server certificate against. If</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># not set, the host&#39;s root CA certificates are used.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.client.tls-ca-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_ca_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Override the expected name on the server certificate.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.client.tls-server-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_server_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Skip validating server certificate.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.client.tls-insecure-skip-verify</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_insecure_skip_verify</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The maximum amount of time to establish a connection. A value of 0 means</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># using default gRPC client connect timeout 20s.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.client.connect-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[connect_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Timeout for downstream rulers.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.client.remote-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[remote_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># How frequently to evaluate rules</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.evaluation-interval</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[evaluation_interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># How frequently to poll for rule changes</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.poll-interval</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[poll_interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># file path to store temporary rule files for the prometheus rule managers</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.rule-path</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[rule_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;/rules&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Comma-separated list of URL(s) of the Alertmanager(s) to send notifications</span>
</span></span><span style=display:flex><span><span style=color:#75715e># to. Each Alertmanager URL is treated as a separate group in the configuration.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Multiple Alertmanagers in HA per group can be supported by using DNS</span>
</span></span><span style=display:flex><span><span style=color:#75715e># resolution via -ruler.alertmanager-discovery.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.alertmanager-url</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[alertmanager_url</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Use DNS SRV records to discover Alertmanager hosts.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.alertmanager-discovery</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[enable_alertmanager_discovery</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># How long to wait between refreshing DNS resolutions of Alertmanager hosts.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.alertmanager-refresh-interval</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[alertmanager_refresh_interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Capacity of the queue for notifications to be sent to the Alertmanager.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.notification-queue-capacity</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[notification_queue_capacity</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10000]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># HTTP timeout duration when sending notifications to the Alertmanager.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.notification-timeout</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[notification_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>alertmanager_client</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Path to the client certificate file, which will be used for authenticating</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># with the server. Also requires the key path to be configured.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.alertmanager-client.tls-cert-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_cert_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Path to the key file for the client certificate. Also requires the client</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># certificate to be configured.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.alertmanager-client.tls-key-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_key_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Path to the CA certificates file to validate server certificate against. If</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># not set, the host&#39;s root CA certificates are used.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.alertmanager-client.tls-ca-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_ca_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Override the expected name on the server certificate.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.alertmanager-client.tls-server-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_server_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Skip validating server certificate.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.alertmanager-client.tls-insecure-skip-verify</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_insecure_skip_verify</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># HTTP Basic authentication username. It overrides the username set in the URL</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># (if any).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.alertmanager-client.basic-auth-username</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[basic_auth_username</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># HTTP Basic authentication password. It overrides the password set in the URL</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># (if any).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.alertmanager-client.basic-auth-password</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[basic_auth_password</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Max time to tolerate outage for restoring &#34;for&#34; state of alert.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.for-outage-tolerance</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[for_outage_tolerance</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1h]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Minimum duration between alert and restored &#34;for&#34; state. This is maintained</span>
</span></span><span style=display:flex><span><span style=color:#75715e># only for alerts with configured &#34;for&#34; time greater than grace period.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.for-grace-period</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[for_grace_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Minimum amount of time to wait before resending an alert to Alertmanager.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.resend-delay</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[resend_delay</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># If enabled, rules from a single rule group can be evaluated concurrently if</span>
</span></span><span style=display:flex><span><span style=color:#75715e># there is no dependency between each other. Max concurrency for each rule group</span>
</span></span><span style=display:flex><span><span style=color:#75715e># is controlled via ruler.max-concurrent-evals flag.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.concurrent-evals-enabled</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[concurrent_evals_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Max concurrency for a single rule group to evaluate independent rules.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.max-concurrent-evals</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[max_concurrent_evals</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 1]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Distribute rule evaluation using ring backend</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.enable-sharding</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[enable_sharding</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The sharding strategy to use. Supported values are: default, shuffle-sharding.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.sharding-strategy</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[sharding_strategy</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;default&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Time to spend searching for a pending ruler when shutting down.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.search-pending-for</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[search_pending_for</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>ring</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>kvstore</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># Backend storage to use for the ring. Supported values are: consul,</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># dynamodb, etcd, inmemory, memberlist, multi.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ruler.ring.store</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[store</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;consul&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The prefix for the keys in the store. Should end with a /.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ruler.ring.prefix</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[prefix</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;rulers/&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The consul_config configures the consul client.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The CLI flags prefix for this block config is: ruler.ring</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[consul</span>: <span style=color:#ae81ff>&lt;consul_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>dynamodb</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Region to access dynamodb.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -ruler.ring.dynamodb.region</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[region</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Table name to use on dynamodb.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -ruler.ring.dynamodb.table-name</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[table_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Time to expire items on dynamodb.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -ruler.ring.dynamodb.ttl-time</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[ttl</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Time to refresh local ring with information on dynamodb.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -ruler.ring.dynamodb.puller-sync-time</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[puller_sync_time</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Maximum number of retries for DDB KV CAS.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -ruler.ring.dynamodb.max-cas-retries</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_cas_retries</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Timeout of dynamoDbClient requests. Default is 2m.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -ruler.ring.dynamodb.timeout</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The etcd_config configures the etcd client.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The CLI flags prefix for this block config is: ruler.ring</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[etcd</span>: <span style=color:#ae81ff>&lt;etcd_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>multi</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Primary backend storage used by multi-client.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -ruler.ring.multi.primary</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[primary</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Secondary backend storage used by multi-client.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -ruler.ring.multi.secondary</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[secondary</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Mirror writes to secondary store.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -ruler.ring.multi.mirror-enabled</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[mirror_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Timeout for storing value to secondary store.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -ruler.ring.multi.mirror-timeout</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[mirror_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Period at which to heartbeat to the ring. 0 = disabled.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.ring.heartbeat-period</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[heartbeat_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The heartbeat timeout after which rulers are considered unhealthy within the</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># ring. 0 = never (timeout disabled).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.ring.heartbeat-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[heartbeat_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># EXPERIMENTAL: The replication factor to use when loading rule groups for API</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># HA.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.ring.replication-factor</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[replication_factor</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 1]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># EXPERIMENTAL: True to enable zone-awareness and load rule groups across</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># different availability zones for API HA.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.ring.zone-awareness-enabled</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[zone_awareness_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># EXPERIMENTAL: File path where tokens are stored. If empty, tokens are not</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># stored at shutdown and restored at startup.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.ring.tokens-file-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tokens_file_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Set to true to enable ring detailed metrics. These metrics provide detailed</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># information, such as token count and ownership per tenant. Disabling them</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># can significantly decrease the number of metrics emitted.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.ring.detailed-metrics-enabled</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[detailed_metrics_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Name of network interface to read address from.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.ring.instance-interface-names</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[instance_interface_names</span>: <span style=color:#ae81ff>&lt;list of string&gt; | default = [eth0 en0]]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Number of tokens for each ruler.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.ring.num-tokens</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[num_tokens</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 128]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The sleep seconds when ruler is shutting down. Need to be close to or larger</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># than KV Store information propagation delay</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.ring.final-sleep</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[final_sleep</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Keep instance in the ring on shut down.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.ring.keep-instance-in-the-ring-on-shutdown</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[keep_instance_in_the_ring_on_shutdown</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Period with which to attempt to flush rule groups.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.flush-period</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[flush_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Enable the ruler api</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -experimental.ruler.enable-api</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[enable_api</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># EXPERIMENTAL: Remove duplicate rules in the prometheus rules and alerts API</span>
</span></span><span style=display:flex><span><span style=color:#75715e># response. If there are duplicate rules the rule with the latest evaluation</span>
</span></span><span style=display:flex><span><span style=color:#75715e># timestamp will be kept.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -experimental.ruler.api-deduplicate-rules</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[api_deduplicate_rules</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Comma separated list of tenants whose rules this ruler can evaluate. If</span>
</span></span><span style=display:flex><span><span style=color:#75715e># specified, only these tenants will be handled by ruler, otherwise this ruler</span>
</span></span><span style=display:flex><span><span style=color:#75715e># can process rules from all tenants. Subject to sharding.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.enabled-tenants</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[enabled_tenants</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Comma separated list of tenants whose rules this ruler cannot evaluate. If</span>
</span></span><span style=display:flex><span><span style=color:#75715e># specified, a ruler that would normally pick the specified tenant(s) for</span>
</span></span><span style=display:flex><span><span style=color:#75715e># processing will ignore them instead. Subject to sharding.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.disabled-tenants</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[disabled_tenants</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Report query statistics for ruler queries to complete as a per user metric and</span>
</span></span><span style=display:flex><span><span style=color:#75715e># as an info level log message.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.query-stats-enabled</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[query_stats_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Disable the rule_group label on exported metrics</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.disable-rule-group-label</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[disable_rule_group_label</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Enable high availability</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.enable-ha-evaluation</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[enable_ha_evaluation</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Timeout duration for non-primary rulers during liveness checks. If the check</span>
</span></span><span style=display:flex><span><span style=color:#75715e># times out, the non-primary ruler will evaluate the rule group. Applicable when</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ruler.enable-ha-evaluation is true.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler.liveness-check-timeout</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[liveness_check_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>thanos_engine</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Experimental. Use Thanos promql engine</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># https://github.com/thanos-io/promql-engine rather than the Prometheus promql</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># engine.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.thanos-engine</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Enable xincrease, xdelta, xrate etc from Thanos engine.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.enable-x-functions</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[enable_x_functions</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Logical plan optimizers. Multiple optimizers can be provided as a</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># comma-separated list. Supported values: default, all, propagate-matchers,</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># sort-matchers, merge-selects, detect-histogram-stats</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler.optimizers</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[optimizers</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;default&#34;]</span>
</span></span></code></pre></div><h3 id=ruler_storage_config><code>ruler_storage_config</code></h3><p>The <code>ruler_storage_config</code> configures the Cortex ruler storage backend.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># Backend storage to use. Supported backends are: s3, gcs, azure, swift,</span>
</span></span><span style=display:flex><span><span style=color:#75715e># filesystem, configdb, local.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -ruler-storage.backend</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[backend</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;s3&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>s3</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># The S3 bucket endpoint. It could be an AWS S3 endpoint listed at</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># https://docs.aws.amazon.com/general/latest/gr/s3.html or the address of an</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># S3-compatible service in hostname:port format.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.s3.endpoint</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[endpoint</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># S3 region. If unset, the client will issue a S3 GetBucketLocation API call</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># to autodetect it.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.s3.region</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[region</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># S3 bucket name</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.s3.bucket-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[bucket_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># If enabled, S3 endpoint will use the non-dualstack variant.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.s3.disable-dualstack</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[disable_dualstack</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># S3 secret access key</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.s3.secret-access-key</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[secret_access_key</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># S3 access key ID</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.s3.access-key-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[access_key_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># If enabled, use http:// for the S3 endpoint instead of https://. This could</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># be useful in local dev/test environments while using an S3-compatible</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># backend storage, like Minio.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.s3.insecure</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[insecure</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The signature version to use for authenticating against S3. Supported values</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># are: v4, v2.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.s3.signature-version</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[signature_version</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;v4&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The s3 bucket lookup style. Supported values are: auto, virtual-hosted,</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># path.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.s3.bucket-lookup-type</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[bucket_lookup_type</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;auto&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># If true, attach MD5 checksum when upload objects and S3 uses MD5 checksum</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># algorithm to verify the provided digest. If false, use CRC32C algorithm</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># instead.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.s3.send-content-md5</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[send_content_md5</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The list api version. Supported values are: v1, v2, and &#39;&#39;.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.s3.list-objects-version</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[list_objects_version</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The s3_sse_config configures the S3 server-side encryption.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The CLI flags prefix for this block config is: ruler-storage</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[sse</span>: <span style=color:#ae81ff>&lt;s3_sse_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>http</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># The time an idle connection will remain idle before closing.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ruler-storage.s3.http.idle-conn-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[idle_conn_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m30s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The amount of time the client will wait for a servers response headers.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ruler-storage.s3.http.response-header-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[response_header_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># If the client connects via HTTPS and this option is enabled, the client</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># will accept any certificate and hostname.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ruler-storage.s3.http.insecure-skip-verify</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[insecure_skip_verify</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum time to wait for a TLS handshake. 0 means no limit.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ruler-storage.s3.tls-handshake-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[tls_handshake_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The time to wait for a server&#39;s first response headers after fully writing</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># the request headers if the request has an Expect header. 0 to send the</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># request body immediately.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ruler-storage.s3.expect-continue-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[expect_continue_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum number of idle (keep-alive) connections across all hosts. 0 means</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># no limit.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ruler-storage.s3.max-idle-connections</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_idle_connections</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum number of idle (keep-alive) connections to keep per-host. If 0, a</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># built-in default value is used.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ruler-storage.s3.max-idle-connections-per-host</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_idle_connections_per_host</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum number of connections per host. 0 means no limit.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ruler-storage.s3.max-connections-per-host</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_connections_per_host</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>gcs</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># GCS bucket name</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.gcs.bucket-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[bucket_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># JSON representing either a Google Developers Console client_credentials.json</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># file or a Google Developers service account key file. If empty, fallback to</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Google default logic.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.gcs.service-account</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[service_account</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>azure</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Azure storage account name</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.azure.account-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[account_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Azure storage account key</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.azure.account-key</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[account_key</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The values of `account-name` and `endpoint-suffix` values will not be</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># ignored if `connection-string` is set. Use this method over `account-key` if</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># you need to authenticate via a SAS token or if you use the Azurite emulator.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.azure.connection-string</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[connection_string</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Azure storage container name</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.azure.container-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[container_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Azure storage endpoint suffix without schema. The account name will be</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># prefixed to this value to create the FQDN</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.azure.endpoint-suffix</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[endpoint_suffix</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Number of retries for recoverable errors</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.azure.max-retries</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_retries</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 20]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Deprecated: Azure storage MSI resource. It will be set automatically by</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Azure SDK.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.azure.msi-resource</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[msi_resource</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Azure storage MSI resource managed identity client Id. If not supplied</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># default Azure credential will be used. Set it to empty if you need to</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># authenticate via Azure Workload Identity.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.azure.user-assigned-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[user_assigned_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>http</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># The time an idle connection will remain idle before closing.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ruler-storage.azure.http.idle-conn-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[idle_conn_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m30s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The amount of time the client will wait for a servers response headers.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ruler-storage.azure.http.response-header-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[response_header_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># If the client connects via HTTPS and this option is enabled, the client</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># will accept any certificate and hostname.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ruler-storage.azure.http.insecure-skip-verify</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[insecure_skip_verify</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum time to wait for a TLS handshake. 0 means no limit.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ruler-storage.azure.tls-handshake-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[tls_handshake_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The time to wait for a server&#39;s first response headers after fully writing</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># the request headers if the request has an Expect header. 0 to send the</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># request body immediately.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ruler-storage.azure.expect-continue-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[expect_continue_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum number of idle (keep-alive) connections across all hosts. 0 means</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># no limit.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ruler-storage.azure.max-idle-connections</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_idle_connections</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum number of idle (keep-alive) connections to keep per-host. If 0, a</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># built-in default value is used.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ruler-storage.azure.max-idle-connections-per-host</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_idle_connections_per_host</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum number of connections per host. 0 means no limit.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -ruler-storage.azure.max-connections-per-host</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_connections_per_host</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>swift</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift authentication API version. 0 to autodetect.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.swift.auth-version</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[auth_version</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift authentication URL</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.swift.auth-url</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[auth_url</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift application credential ID.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.swift.application-credential-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[application_credential_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift application credential name.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.swift.application-credential-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[application_credential_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift application credential secret.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.swift.application-credential-secret</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[application_credential_secret</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift username.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.swift.username</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[username</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift user&#39;s domain name.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.swift.user-domain-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[user_domain_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift user&#39;s domain ID.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.swift.user-domain-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[user_domain_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift user ID.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.swift.user-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[user_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift API key.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.swift.password</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[password</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift user&#39;s domain ID.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.swift.domain-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[domain_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift user&#39;s domain name.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.swift.domain-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[domain_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift project ID (v2,v3 auth only).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.swift.project-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[project_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift project name (v2,v3 auth only).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.swift.project-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[project_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># ID of the OpenStack Swift project&#39;s domain (v3 auth only), only needed if it</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># differs the from user domain.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.swift.project-domain-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[project_domain_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Name of the OpenStack Swift project&#39;s domain (v3 auth only), only needed if</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># it differs from the user domain.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.swift.project-domain-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[project_domain_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift Region to use (v2,v3 auth only).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.swift.region-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[region_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Name of the OpenStack Swift container to put chunks in.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.swift.container-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[container_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Max retries on requests error.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.swift.max-retries</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_retries</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 3]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Time after which a connection attempt is aborted.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.swift.connect-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[connect_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Time after which an idle request is aborted. The timeout watchdog is reset</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># each time some data is received, so the timeout triggers after X time no</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># data is received on a request.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.swift.request-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[request_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>filesystem</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Local filesystem storage directory.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.filesystem.dir</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[dir</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The configstore_config configures the config database storing rules and</span>
</span></span><span style=display:flex><span><span style=color:#75715e># alerts, and is used by the Cortex alertmanager.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># The CLI flags prefix for this block config is: ruler-storage</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[configdb</span>: <span style=color:#ae81ff>&lt;configstore_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>local</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Directory to scan for rules</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -ruler-storage.local.directory</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[directory</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span></code></pre></div><h3 id=runtime_configuration_storage_config><code>runtime_configuration_storage_config</code></h3><p>The <code>runtime_configuration_storage_config</code> configures the storage backend for the runtime configuration file.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># How often to check runtime config file.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -runtime-config.reload-period</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># File with the configuration that can be updated in runtime.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -runtime-config.file</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[file</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Backend storage to use. Supported backends are: s3, gcs, azure, swift,</span>
</span></span><span style=display:flex><span><span style=color:#75715e># filesystem.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -runtime-config.backend</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[backend</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;filesystem&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>s3</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># The S3 bucket endpoint. It could be an AWS S3 endpoint listed at</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># https://docs.aws.amazon.com/general/latest/gr/s3.html or the address of an</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># S3-compatible service in hostname:port format.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.s3.endpoint</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[endpoint</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># S3 region. If unset, the client will issue a S3 GetBucketLocation API call</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># to autodetect it.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.s3.region</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[region</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># S3 bucket name</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.s3.bucket-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[bucket_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># If enabled, S3 endpoint will use the non-dualstack variant.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.s3.disable-dualstack</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[disable_dualstack</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># S3 secret access key</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.s3.secret-access-key</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[secret_access_key</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># S3 access key ID</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.s3.access-key-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[access_key_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># If enabled, use http:// for the S3 endpoint instead of https://. This could</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># be useful in local dev/test environments while using an S3-compatible</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># backend storage, like Minio.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.s3.insecure</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[insecure</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The signature version to use for authenticating against S3. Supported values</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># are: v4, v2.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.s3.signature-version</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[signature_version</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;v4&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The s3 bucket lookup style. Supported values are: auto, virtual-hosted,</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># path.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.s3.bucket-lookup-type</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[bucket_lookup_type</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;auto&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># If true, attach MD5 checksum when upload objects and S3 uses MD5 checksum</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># algorithm to verify the provided digest. If false, use CRC32C algorithm</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># instead.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.s3.send-content-md5</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[send_content_md5</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The list api version. Supported values are: v1, v2, and &#39;&#39;.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.s3.list-objects-version</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[list_objects_version</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The s3_sse_config configures the S3 server-side encryption.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The CLI flags prefix for this block config is: runtime-config</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[sse</span>: <span style=color:#ae81ff>&lt;s3_sse_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>http</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># The time an idle connection will remain idle before closing.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -runtime-config.s3.http.idle-conn-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[idle_conn_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m30s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The amount of time the client will wait for a servers response headers.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -runtime-config.s3.http.response-header-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[response_header_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># If the client connects via HTTPS and this option is enabled, the client</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># will accept any certificate and hostname.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -runtime-config.s3.http.insecure-skip-verify</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[insecure_skip_verify</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum time to wait for a TLS handshake. 0 means no limit.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -runtime-config.s3.tls-handshake-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[tls_handshake_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The time to wait for a server&#39;s first response headers after fully writing</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># the request headers if the request has an Expect header. 0 to send the</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># request body immediately.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -runtime-config.s3.expect-continue-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[expect_continue_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum number of idle (keep-alive) connections across all hosts. 0 means</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># no limit.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -runtime-config.s3.max-idle-connections</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_idle_connections</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum number of idle (keep-alive) connections to keep per-host. If 0, a</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># built-in default value is used.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -runtime-config.s3.max-idle-connections-per-host</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_idle_connections_per_host</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum number of connections per host. 0 means no limit.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -runtime-config.s3.max-connections-per-host</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_connections_per_host</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>gcs</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># GCS bucket name</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.gcs.bucket-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[bucket_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># JSON representing either a Google Developers Console client_credentials.json</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># file or a Google Developers service account key file. If empty, fallback to</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Google default logic.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.gcs.service-account</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[service_account</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>azure</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Azure storage account name</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.azure.account-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[account_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Azure storage account key</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.azure.account-key</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[account_key</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The values of `account-name` and `endpoint-suffix` values will not be</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># ignored if `connection-string` is set. Use this method over `account-key` if</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># you need to authenticate via a SAS token or if you use the Azurite emulator.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.azure.connection-string</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[connection_string</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Azure storage container name</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.azure.container-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[container_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Azure storage endpoint suffix without schema. The account name will be</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># prefixed to this value to create the FQDN</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.azure.endpoint-suffix</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[endpoint_suffix</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Number of retries for recoverable errors</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.azure.max-retries</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_retries</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 20]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Deprecated: Azure storage MSI resource. It will be set automatically by</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Azure SDK.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.azure.msi-resource</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[msi_resource</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Azure storage MSI resource managed identity client Id. If not supplied</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># default Azure credential will be used. Set it to empty if you need to</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># authenticate via Azure Workload Identity.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.azure.user-assigned-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[user_assigned_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>http</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># The time an idle connection will remain idle before closing.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -runtime-config.azure.http.idle-conn-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[idle_conn_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m30s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The amount of time the client will wait for a servers response headers.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -runtime-config.azure.http.response-header-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[response_header_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># If the client connects via HTTPS and this option is enabled, the client</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># will accept any certificate and hostname.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -runtime-config.azure.http.insecure-skip-verify</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[insecure_skip_verify</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum time to wait for a TLS handshake. 0 means no limit.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -runtime-config.azure.tls-handshake-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[tls_handshake_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The time to wait for a server&#39;s first response headers after fully writing</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># the request headers if the request has an Expect header. 0 to send the</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># request body immediately.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -runtime-config.azure.expect-continue-timeout</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[expect_continue_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum number of idle (keep-alive) connections across all hosts. 0 means</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># no limit.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -runtime-config.azure.max-idle-connections</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_idle_connections</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum number of idle (keep-alive) connections to keep per-host. If 0, a</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># built-in default value is used.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -runtime-config.azure.max-idle-connections-per-host</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_idle_connections_per_host</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Maximum number of connections per host. 0 means no limit.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -runtime-config.azure.max-connections-per-host</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[max_connections_per_host</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>swift</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift authentication API version. 0 to autodetect.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.swift.auth-version</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[auth_version</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift authentication URL</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.swift.auth-url</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[auth_url</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift application credential ID.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.swift.application-credential-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[application_credential_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift application credential name.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.swift.application-credential-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[application_credential_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift application credential secret.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.swift.application-credential-secret</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[application_credential_secret</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift username.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.swift.username</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[username</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift user&#39;s domain name.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.swift.user-domain-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[user_domain_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift user&#39;s domain ID.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.swift.user-domain-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[user_domain_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift user ID.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.swift.user-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[user_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift API key.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.swift.password</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[password</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift user&#39;s domain ID.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.swift.domain-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[domain_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift user&#39;s domain name.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.swift.domain-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[domain_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift project ID (v2,v3 auth only).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.swift.project-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[project_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift project name (v2,v3 auth only).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.swift.project-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[project_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># ID of the OpenStack Swift project&#39;s domain (v3 auth only), only needed if it</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># differs the from user domain.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.swift.project-domain-id</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[project_domain_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Name of the OpenStack Swift project&#39;s domain (v3 auth only), only needed if</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># it differs from the user domain.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.swift.project-domain-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[project_domain_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># OpenStack Swift Region to use (v2,v3 auth only).</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.swift.region-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[region_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Name of the OpenStack Swift container to put chunks in.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.swift.container-name</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[container_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Max retries on requests error.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.swift.max-retries</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_retries</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 3]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Time after which a connection attempt is aborted.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.swift.connect-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[connect_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Time after which an idle request is aborted. The timeout watchdog is reset</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># each time some data is received, so the timeout triggers after X time no</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># data is received on a request.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.swift.request-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[request_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>filesystem</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Local filesystem storage directory.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -runtime-config.filesystem.dir</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[dir</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span></code></pre></div><h3 id=s3_sse_config><code>s3_sse_config</code></h3><p>The <code>s3_sse_config</code> configures the S3 server-side encryption. The supported CLI flags <code>&lt;prefix></code> used to reference this config block are:</p><ul><li><code>alertmanager-storage</code></li><li><code>blocks-storage</code></li><li><code>ruler-storage</code></li><li><code>runtime-config</code></li></ul><p> </p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># Enable AWS Server Side Encryption. Supported values: SSE-KMS, SSE-S3.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.s3.sse.type</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[type</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># KMS Key ID used to encrypt objects in S3</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.s3.sse.kms-key-id</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[kms_key_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># KMS Encryption Context used for object encryption. It expects JSON formatted</span>
</span></span><span style=display:flex><span><span style=color:#75715e># string.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -&lt;prefix&gt;.s3.sse.kms-encryption-context</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[kms_encryption_context</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span></code></pre></div><h3 id=server_config><code>server_config</code></h3><p>The <code>server_config</code> configures the HTTP and gRPC server of the launched service(s).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># HTTP server listen network, default tcp</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.http-listen-network</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[http_listen_network</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;tcp&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># HTTP server listen address.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.http-listen-address</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[http_listen_address</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># HTTP server listen port.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.http-listen-port</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[http_listen_port</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 80]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum number of simultaneous http connections, &lt;=0 to disable</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.http-conn-limit</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[http_listen_conn_limit</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># gRPC server listen network</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.grpc-listen-network</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[grpc_listen_network</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;tcp&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># gRPC server listen address.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.grpc-listen-address</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[grpc_listen_address</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># gRPC server listen port.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.grpc-listen-port</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[grpc_listen_port</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 9095]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Maximum number of simultaneous grpc connections, &lt;=0 to disable</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.grpc-conn-limit</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[grpc_listen_conn_limit</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Comma-separated list of cipher suites to use. If blank, the default Go cipher</span>
</span></span><span style=display:flex><span><span style=color:#75715e># suites is used.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.tls-cipher-suites</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tls_cipher_suites</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Minimum TLS version to use. Allowed values: VersionTLS10, VersionTLS11,</span>
</span></span><span style=display:flex><span><span style=color:#75715e># VersionTLS12, VersionTLS13. If blank, the Go TLS minimum version is used.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.tls-min-version</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[tls_min_version</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>http_tls_config</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># HTTP server cert path.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -server.http-tls-cert-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[cert_file</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># HTTP server key path.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -server.http-tls-key-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[key_file</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># HTTP TLS Client Auth type.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -server.http-tls-client-auth</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[client_auth_type</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># HTTP TLS Client CA path.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -server.http-tls-ca-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[client_ca_file</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>grpc_tls_config</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># GRPC TLS server cert path.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -server.grpc-tls-cert-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[cert_file</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># GRPC TLS server key path.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -server.grpc-tls-key-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[key_file</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># GRPC TLS Client Auth type.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -server.grpc-tls-client-auth</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[client_auth_type</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># GRPC TLS Client CA path.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -server.grpc-tls-ca-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[client_ca_file</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Register the intrumentation handlers (/metrics etc).</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.register-instrumentation</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[register_instrumentation</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Timeout for graceful shutdowns</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.graceful-shutdown-timeout</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[graceful_shutdown_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 30s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Read timeout for HTTP server</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.http-read-timeout</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[http_server_read_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 30s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Write timeout for HTTP server</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.http-write-timeout</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[http_server_write_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 30s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Idle timeout for HTTP server</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.http-idle-timeout</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[http_server_idle_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Limit on the size of a gRPC message this server can receive (bytes).</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.grpc-max-recv-msg-size-bytes</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[grpc_server_max_recv_msg_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 4194304]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Limit on the size of a gRPC message this server can send (bytes).</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.grpc-max-send-msg-size-bytes</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[grpc_server_max_send_msg_size</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 4194304]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Limit on the number of concurrent streams for gRPC calls (0 = unlimited)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.grpc-max-concurrent-streams</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[grpc_server_max_concurrent_streams</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Number of worker goroutines that should be used to process incoming</span>
</span></span><span style=display:flex><span><span style=color:#75715e># streams.Setting this 0 (default) will disable workers and spawn a new</span>
</span></span><span style=display:flex><span><span style=color:#75715e># goroutine for each stream.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.grpc_server-num-stream-workers</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[grpc_server_num_stream_workers</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The duration after which an idle connection should be closed. Default:</span>
</span></span><span style=display:flex><span><span style=color:#75715e># infinity</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.grpc.keepalive.max-connection-idle</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[grpc_server_max_connection_idle</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2562047h47m16.854775807s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The duration for the maximum amount of time a connection may exist before it</span>
</span></span><span style=display:flex><span><span style=color:#75715e># will be closed. Default: infinity</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.grpc.keepalive.max-connection-age</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[grpc_server_max_connection_age</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2562047h47m16.854775807s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># An additive period after max-connection-age after which the connection will be</span>
</span></span><span style=display:flex><span><span style=color:#75715e># forcibly closed. Default: infinity</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.grpc.keepalive.max-connection-age-grace</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[grpc_server_max_connection_age_grace</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2562047h47m16.854775807s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Duration after which a keepalive probe is sent in case of no activity over the</span>
</span></span><span style=display:flex><span><span style=color:#75715e># connection., Default: 2h</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.grpc.keepalive.time</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[grpc_server_keepalive_time</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2h]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># After having pinged for keepalive check, the duration after which an idle</span>
</span></span><span style=display:flex><span><span style=color:#75715e># connection should be closed, Default: 20s</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.grpc.keepalive.timeout</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[grpc_server_keepalive_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 20s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Minimum amount of time a client should wait before sending a keepalive ping.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># If client sends keepalive ping more often, server will send GOAWAY and close</span>
</span></span><span style=display:flex><span><span style=color:#75715e># the connection.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.grpc.keepalive.min-time-between-pings</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[grpc_server_min_time_between_pings</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># If true, server allows keepalive pings even when there are no active</span>
</span></span><span style=display:flex><span><span style=color:#75715e># streams(RPCs). If false, and client sends ping when there are no active</span>
</span></span><span style=display:flex><span><span style=color:#75715e># streams, server will send GOAWAY and close the connection.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.grpc.keepalive.ping-without-stream-allowed</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[grpc_server_ping_without_stream_allowed</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Enable Channelz for gRPC server. A web UI will be also exposed on the HTTP</span>
</span></span><span style=display:flex><span><span style=color:#75715e># server at /channelz</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.enable-channelz</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[enable_channelz</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Output log messages in the given format. Valid formats: [logfmt, json]</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -log.format</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[log_format</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;logfmt&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Only log messages with the given severity or above. Valid levels: [debug,</span>
</span></span><span style=display:flex><span><span style=color:#75715e># info, warn, error]</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -log.level</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[log_level</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;info&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Optionally log the source IPs.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.log-source-ips-enabled</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[log_source_ips_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Header field storing the source IPs. Only used if</span>
</span></span><span style=display:flex><span><span style=color:#75715e># server.log-source-ips-enabled is true. If not set the default Forwarded,</span>
</span></span><span style=display:flex><span><span style=color:#75715e># X-Real-IP and X-Forwarded-For headers are used</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.log-source-ips-header</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[log_source_ips_header</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Regex for matching the source IPs. Only used if server.log-source-ips-enabled</span>
</span></span><span style=display:flex><span><span style=color:#75715e># is true. If not set the default Forwarded, X-Real-IP and X-Forwarded-For</span>
</span></span><span style=display:flex><span><span style=color:#75715e># headers are used</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.log-source-ips-regex</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[log_source_ips_regex</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Optionally log request headers.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.log-request-headers</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[log_request_headers</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Optionally log requests at info level instead of debug level. Applies to</span>
</span></span><span style=display:flex><span><span style=color:#75715e># request headers as well if server.log-request-headers is enabled.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.log-request-at-info-level-enabled</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[log_request_at_info_level_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Comma separated list of headers to exclude from loggin. Only used if</span>
</span></span><span style=display:flex><span><span style=color:#75715e># server.log-request-headers is true.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.log-request-headers-exclude-list</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[log_request_exclude_headers_list</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Base path to serve all API routes from (e.g. /v1/)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -server.path-prefix</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[http_path_prefix</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span></code></pre></div><h3 id=storage_config><code>storage_config</code></h3><p>The <code>storage_config</code> configures the storage type Cortex uses.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># The storage engine to use: blocks is the only supported option today.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -store.engine</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[engine</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;blocks&#34;]</span>
</span></span></code></pre></div><h3 id=store_gateway_config><code>store_gateway_config</code></h3><p>The <code>store_gateway_config</code> configures the store-gateway service used by the blocks storage.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># Shard blocks across multiple store gateway instances. This option needs be set</span>
</span></span><span style=display:flex><span><span style=color:#75715e># both on the store-gateway and querier when running in microservices mode.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -store-gateway.sharding-enabled</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[sharding_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The hash ring configuration. This option is required only if blocks sharding</span>
</span></span><span style=display:flex><span><span style=color:#75715e># is enabled.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>sharding_ring</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># The key-value store used to share the hash ring across multiple instances.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># This option needs be set both on the store-gateway and querier when running</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># in microservices mode.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>kvstore</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># Backend storage to use for the ring. Supported values are: consul,</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># dynamodb, etcd, inmemory, memberlist, multi.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -store-gateway.sharding-ring.store</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[store</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;consul&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The prefix for the keys in the store. Should end with a /.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -store-gateway.sharding-ring.prefix</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[prefix</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;collectors/&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The consul_config configures the consul client.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The CLI flags prefix for this block config is: store-gateway.sharding-ring</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[consul</span>: <span style=color:#ae81ff>&lt;consul_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>dynamodb</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Region to access dynamodb.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -store-gateway.sharding-ring.dynamodb.region</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[region</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Table name to use on dynamodb.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -store-gateway.sharding-ring.dynamodb.table-name</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[table_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Time to expire items on dynamodb.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -store-gateway.sharding-ring.dynamodb.ttl-time</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[ttl</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Time to refresh local ring with information on dynamodb.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -store-gateway.sharding-ring.dynamodb.puller-sync-time</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[puller_sync_time</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Maximum number of retries for DDB KV CAS.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -store-gateway.sharding-ring.dynamodb.max-cas-retries</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[max_cas_retries</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Timeout of dynamoDbClient requests. Default is 2m.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -store-gateway.sharding-ring.dynamodb.timeout</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The etcd_config configures the etcd client.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># The CLI flags prefix for this block config is: store-gateway.sharding-ring</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[etcd</span>: <span style=color:#ae81ff>&lt;etcd_config&gt;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>multi</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Primary backend storage used by multi-client.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -store-gateway.sharding-ring.multi.primary</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[primary</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Secondary backend storage used by multi-client.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -store-gateway.sharding-ring.multi.secondary</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[secondary</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Mirror writes to secondary store.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -store-gateway.sharding-ring.multi.mirror-enabled</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[mirror_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Timeout for storing value to secondary store.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -store-gateway.sharding-ring.multi.mirror-timeout</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[mirror_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 2s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Period at which to heartbeat to the ring. 0 = disabled.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -store-gateway.sharding-ring.heartbeat-period</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[heartbeat_period</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 15s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The heartbeat timeout after which store gateways are considered unhealthy</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># within the ring. 0 = never (timeout disabled). This option needs be set both</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># on the store-gateway and querier when running in microservices mode.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -store-gateway.sharding-ring.heartbeat-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[heartbeat_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The replication factor to use when sharding blocks. This option needs be set</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># both on the store-gateway and querier when running in microservices mode.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -store-gateway.sharding-ring.replication-factor</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[replication_factor</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 3]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># File path where tokens are stored. If empty, tokens are not stored at</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># shutdown and restored at startup.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -store-gateway.sharding-ring.tokens-file-path</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tokens_file_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># True to enable zone-awareness and replicate blocks across different</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># availability zones.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -store-gateway.sharding-ring.zone-awareness-enabled</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[zone_awareness_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># True to keep the store gateway instance in the ring when it shuts down. The</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># instance will then be auto-forgotten from the ring after</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># 10*heartbeat_timeout.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -store-gateway.sharding-ring.keep-instance-in-the-ring-on-shutdown</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[keep_instance_in_the_ring_on_shutdown</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Set to true to enable ring detailed metrics. These metrics provide detailed</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># information, such as token count and ownership per tenant. Disabling them</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># can significantly decrease the number of metrics emitted.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -store-gateway.sharding-ring.detailed-metrics-enabled</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[detailed_metrics_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = true]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Minimum time to wait for ring stability at startup. 0 to disable.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -store-gateway.sharding-ring.wait-stability-min-duration</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[wait_stability_min_duration</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Maximum time to wait for ring stability at startup. If the store-gateway</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># ring keeps changing after this period of time, the store-gateway will start</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># anyway.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -store-gateway.sharding-ring.wait-stability-max-duration</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[wait_stability_max_duration</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Timeout for waiting on store-gateway to become desired state in the ring.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -store-gateway.sharding-ring.wait-instance-state-timeout</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[wait_instance_state_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10m]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The sleep seconds when store-gateway is shutting down. Need to be close to</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># or larger than KV Store information propagation delay</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -store-gateway.sharding-ring.final-sleep</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[final_sleep</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 0s]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Name of network interface to read address from.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -store-gateway.sharding-ring.instance-interface-names</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[instance_interface_names</span>: <span style=color:#ae81ff>&lt;list of string&gt; | default = [eth0 en0]]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># The availability zone where this instance is running. Required if</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># zone-awareness is enabled.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -store-gateway.sharding-ring.instance-availability-zone</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[instance_availability_zone</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The sharding strategy to use. Supported values are: default, shuffle-sharding.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -store-gateway.sharding-strategy</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[sharding_strategy</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;default&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Comma separated list of tenants whose store metrics this storegateway can</span>
</span></span><span style=display:flex><span><span style=color:#75715e># process. If specified, only these tenants will be handled by storegateway,</span>
</span></span><span style=display:flex><span><span style=color:#75715e># otherwise this storegateway will be enabled for all the tenants in the</span>
</span></span><span style=display:flex><span><span style=color:#75715e># store-gateway cluster.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -store-gateway.enabled-tenants</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[enabled_tenants</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Comma separated list of tenants whose store metrics this storegateway cannot</span>
</span></span><span style=display:flex><span><span style=color:#75715e># process. If specified, a storegateway that would normally pick the specified</span>
</span></span><span style=display:flex><span><span style=color:#75715e># tenant(s) for processing will ignore them instead.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -store-gateway.disabled-tenants</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[disabled_tenants</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>query_protection</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>rejection</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>threshold</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># EXPERIMENTAL: Max CPU utilization that this ingester can reach before</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># rejecting new query request (across all tenants) in percentage, between</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># 0 and 1. monitored_resources config must include the resource type. 0 to</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># disable.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -store-gateway.query-protection.rejection.threshold.cpu-utilization</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[cpu_utilization</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># EXPERIMENTAL: Max heap utilization that this ingester can reach before</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># rejecting new query request (across all tenants) in percentage, between</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># 0 and 1. monitored_resources config must include the resource type. 0 to</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># disable.</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># CLI flag: -store-gateway.query-protection.rejection.threshold.heap-utilization</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>[heap_utilization</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>hedged_request</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># If true, hedged requests are applied to object store calls. It can help with</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># reducing tail latency.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -store-gateway.hedged-request.enabled</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Maximum number of hedged requests allowed for each initial request. A high</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># number can reduce latency but increase internal calls.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -store-gateway.hedged-request.max-requests</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_requests</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 3]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># It is used to calculate a latency threshold to trigger hedged requests. For</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># example, additional requests are triggered when the initial request response</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># time exceeds the 90th percentile.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -store-gateway.hedged-request.quantile</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[quantile</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0.9]</span>
</span></span></code></pre></div><h3 id=tracing_config><code>tracing_config</code></h3><p>The <code>tracing_config</code> configures backends cortex uses.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># Tracing type. OTEL and JAEGER are currently supported. For jaeger</span>
</span></span><span style=display:flex><span><span style=color:#75715e># `JAEGER_AGENT_HOST` environment variable should also be set. See:</span>
</span></span><span style=display:flex><span><span style=color:#75715e># https://cortexmetrics.io/docs/guides/tracing .</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLI flag: -tracing.type</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[type</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;jaeger&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>otel</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># otl collector endpoint that the driver will use to send spans.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -tracing.otel.otlp-endpoint</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[otlp_endpoint</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># enhance/modify traces/propagators for specific exporter. If empty, OTEL</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># defaults will apply. Supported values are: `awsxray.`</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -tracing.otel.exporter-type</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[exporter_type</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Fraction of traces to be sampled. Fractions &gt;= 1 means sampling if off and</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># everything is traced.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -tracing.otel.sample-ratio</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[sample_ratio</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0.001]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># If enabled, use round_robin gRPC load balancing policy. By default, use</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># pick_first policy. For more details, please refer to</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># https://github.com/grpc/grpc/blob/master/doc/load-balancing.md#load-balancing-policies.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -tracing.otel.round-robin</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[round_robin</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Enable TLS in the GRPC client. This flag needs to be enabled when any other</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># TLS flag is set. If set to false, insecure connection to gRPC server will be</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># used.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># CLI flag: -tracing.otel.tls-enabled</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[tls_enabled</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>tls</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># Path to the client certificate file, which will be used for authenticating</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># with the server. Also requires the key path to be configured.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -tracing.otel.tls.tls-cert-path</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[tls_cert_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Path to the key file for the client certificate. Also requires the client</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># certificate to be configured.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -tracing.otel.tls.tls-key-path</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[tls_key_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Path to the CA certificates file to validate server certificate against.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># If not set, the host&#39;s root CA certificates are used.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -tracing.otel.tls.tls-ca-path</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[tls_ca_path</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Override the expected name on the server certificate.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -tracing.otel.tls.tls-server-name</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[tls_server_name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Skip validating server certificate.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># CLI flag: -tracing.otel.tls.tls-insecure-skip-verify</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[tls_insecure_skip_verify</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false]</span>
</span></span></code></pre></div><h3 id=limitsperlabelset><code>LimitsPerLabelSet</code></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>limits</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># The maximum number of active series per LabelSet, across the cluster before</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># replication. Setting the value 0 will enable the monitoring (metrics) but</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># would not enforce any limits.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max_series</span>: <span style=color:#ae81ff>&lt;int&gt; | default = ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># LabelSet which the limit should be applied. If no labels are provided, it</span>
</span></span><span style=display:flex><span><span style=color:#75715e># becomes the default partition which matches any series that doesn&#39;t match any</span>
</span></span><span style=display:flex><span><span style=color:#75715e># other explicitly defined label sets.&#39;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[label_set</span>: <span style=color:#ae81ff>&lt;map of string (labelName) to string (labelValue)&gt; | default = []]</span>
</span></span></code></pre></div><h3 id=prioritydef><code>PriorityDef</code></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># Priority level. Must be a unique value.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[priority</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Number of reserved queriers to handle priorities higher or equal to the</span>
</span></span><span style=display:flex><span><span style=color:#75715e># priority level. Value between 0 and 1 will be used as a percentage.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[reserved_queriers</span>: <span style=color:#ae81ff>&lt;float&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># List of query_attributes to match and assign priority to queries. A query is</span>
</span></span><span style=display:flex><span><span style=color:#75715e># assigned to this priority if it matches any query_attribute in this list. Each</span>
</span></span><span style=display:flex><span><span style=color:#75715e># query_attribute has several properties (e.g., regex, time_window, user_agent),</span>
</span></span><span style=display:flex><span><span style=color:#75715e># and all specified properties must match for a query_attribute to be considered</span>
</span></span><span style=display:flex><span><span style=color:#75715e># a match. Only the specified properties are checked, and an AND operator is</span>
</span></span><span style=display:flex><span><span style=color:#75715e># applied to them.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[query_attributes</span>: <span style=color:#ae81ff>&lt;list of QueryAttribute&gt; | default = []]</span>
</span></span></code></pre></div><h3 id=queryattribute><code>QueryAttribute</code></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># API type for the query. Should be one of the query, query_range, series,</span>
</span></span><span style=display:flex><span><span style=color:#75715e># labels, label_values. If not set, it won&#39;t be checked.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[api_type</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Regex that the query string (or at least one of the matchers in metadata</span>
</span></span><span style=display:flex><span><span style=color:#75715e># query) should match. If not set, it won&#39;t be checked.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[regex</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Overall data select time window (including range selectors, modifiers and</span>
</span></span><span style=display:flex><span><span style=color:#75715e># lookback delta) that the query should be within. If not set, it won&#39;t be</span>
</span></span><span style=display:flex><span><span style=color:#75715e># checked.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>time_window</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Start of the data select time window (including range selectors, modifiers</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># and lookback delta) that the query should be within. If set to 0, it won&#39;t</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># be checked.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[start</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># End of the data select time window (including range selectors, modifiers and</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># lookback delta) that the query should be within. If set to 0, it won&#39;t be</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># checked.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[end</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Query time range should be within this limit to match. Depending on where it</span>
</span></span><span style=display:flex><span><span style=color:#75715e># was used, in most of the use-cases, either min or max value will be used. If</span>
</span></span><span style=display:flex><span><span style=color:#75715e># not set, it won&#39;t be checked.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>time_range_limit</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># This will be duration (12h, 1d, 15d etc.). Query time range should be above</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># or equal to this value to match. Ex: if this value is 20d, then queries</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># whose range is bigger than or equal to 20d will match. If set to 0, it won&#39;t</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># be checked.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[min</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># This will be duration (12h, 1d, 15d etc.). Query time range should be below</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># or equal to this value to match. Ex: if this value is 24h, then queries</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># whose range is smaller than or equal to 24h will match.If set to 0, it won&#39;t</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># be checked.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># If query step provided should be within this limit to match. If not set, it</span>
</span></span><span style=display:flex><span><span style=color:#75715e># won&#39;t be checked. This property only applied to range queries and ignored for</span>
</span></span><span style=display:flex><span><span style=color:#75715e># other types of queries.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>query_step_limit</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Query step should be above or equal to this value to match. If set to 0, it</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># won&#39;t be checked.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[min</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Query step should be below or equal to this value to match. If set to 0, it</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># won&#39;t be checked.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[max</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Regex that User-Agent header of the request should match. If not set, it won&#39;t</span>
</span></span><span style=display:flex><span><span style=color:#75715e># be checked.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[user_agent_regex</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Grafana includes X-Dashboard-Uid header in query requests. If this field is</span>
</span></span><span style=display:flex><span><span style=color:#75715e># provided then X-Dashboard-Uid header of request should match this value. If</span>
</span></span><span style=display:flex><span><span style=color:#75715e># not set, it won&#39;t be checked. This property won&#39;t be applied to metadata</span>
</span></span><span style=display:flex><span><span style=color:#75715e># queries.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[dashboard_uid</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Grafana includes X-Panel-Id header in query requests. If this field is</span>
</span></span><span style=display:flex><span><span style=color:#75715e># provided then X-Panel-Id header of request should match this value. If not</span>
</span></span><span style=display:flex><span><span style=color:#75715e># set, it won&#39;t be checked. This property won&#39;t be applied to metadata queries.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[panel_id</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span></code></pre></div><h3 id=disabledrulegroup><code>DisabledRuleGroup</code></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># namespace in which the rule group belongs</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[namespace</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># name of the rule group</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[name</span>: <span style=color:#ae81ff>&lt;string&gt; | default = &#34;&#34;]</span>
</span></span></code></pre></div></div></main></div></div><footer><div class="row td-box td-box--dark td-box--gradient td-box--height-auto text-white p-5"><div class="col-12 col-sm-4 pb-5 pb-sm-0"><img src=/images/cortex-stacked-white.png width=75px class="img-fluid float-left"></div><div class="col-12 col-sm-4 pb-5 pb-sm-0"><h6 class=font-weight-bold>Community</h6><ul class=list-unstyled><li><a href=https://slack.cncf.io class="text-reset text-white"><i class="fab fa-fw fa-slack"></i> Slack</a></li><li><a href=https://github.com/cortexproject/cortex class="text-reset text-white"><i class="fab fa-fw fa-github"></i> GitHub</a></li><li><a href=https://twitter.com/cortexmetrics class="text-reset text-white"><i class="fab fa-fw fa-twitter"></i> Twitter</a></li></ul></div><div class="col-12 col-sm-4"><h6 class=font-weight-bold>About</h6><p>Cortex is an OSS licensed project as Apache License 2.0</p></div></div><div class="row td-box td-box--dark td-box--gradient td-box--height-auto text-white p-5 text-center"><small class="col-12 text-center">© 2025 The Cortex Authors All Rights Reserved.<br>The Linux Foundation has registered trademarks and uses trademarks.
For a list of trademarks of The Linux Foundation, please see <a class="text-light alert-link" href=https://www.linuxfoundation.org/trademark-usage>Trademark Usage page</a>.</small></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=/js/tabpane-persist.js></script>
<script src=/js/main.min.91798a335c881f1b6b805085ba4aa22d1dbd2b0b18d105d05189fa104ddae350.js integrity="sha256-kXmKM1yIHxtrgFCFukqiLR29KwsY0QXQUYn6EE3a41A=" crossorigin=anonymous></script></body></html>